{"version":3,"sources":["webpack://G2Plot/webpack/universalModuleDefinition","webpack://G2Plot/webpack/bootstrap","webpack://G2Plot/../src/is-array-like.ts","webpack://G2Plot/../src/contains.ts","webpack://G2Plot/../src/filter.ts","webpack://G2Plot/../src/difference.ts","webpack://G2Plot/../src/is-type.ts","webpack://G2Plot/../src/is-function.ts","webpack://G2Plot/../src/is-nil.ts","webpack://G2Plot/../src/is-array.ts","webpack://G2Plot/../src/is-object.ts","webpack://G2Plot/../src/each.ts","webpack://G2Plot/../src/keys.ts","webpack://G2Plot/../src/is-match.ts","webpack://G2Plot/../src/is-object-like.ts","webpack://G2Plot/../src/is-plain-object.ts","webpack://G2Plot/../src/find.ts","webpack://G2Plot/../src/find-index.ts","webpack://G2Plot/../src/first-value.ts","webpack://G2Plot/../src/flatten.ts","webpack://G2Plot/../src/flatten-deep.ts","webpack://G2Plot/../src/max.ts","webpack://G2Plot/../src/min.ts","webpack://G2Plot/../src/get-range.ts","webpack://G2Plot/../src/pull.ts","webpack://G2Plot/../src/pull-at.ts","webpack://G2Plot/../src/reduce.ts","webpack://G2Plot/../src/remove.ts","webpack://G2Plot/../src/is-string.ts","webpack://G2Plot/../src/sort-by.ts","webpack://G2Plot/../src/uniq.ts","webpack://G2Plot/../src/union.ts","webpack://G2Plot/../src/values-of-key.ts","webpack://G2Plot/../src/head.ts","webpack://G2Plot/../src/last.ts","webpack://G2Plot/../src/starts-with.ts","webpack://G2Plot/../src/ends-with.ts","webpack://G2Plot/../src/every.ts","webpack://G2Plot/../src/some.ts","webpack://G2Plot/../src/group-by.ts","webpack://G2Plot/../src/group-to-map.ts","webpack://G2Plot/../src/group.ts","webpack://G2Plot/../src/get-wrap-behavior.ts","webpack://G2Plot/../src/wrap-behavior.ts","webpack://G2Plot/../src/number2color.ts","webpack://G2Plot/../src/parse-radius.ts","webpack://G2Plot/../src/clamp.ts","webpack://G2Plot/../src/fixed-base.ts","webpack://G2Plot/../src/is-number.ts","webpack://G2Plot/../src/is-decimal.ts","webpack://G2Plot/../src/is-even.ts","webpack://G2Plot/../src/is-integer.ts","webpack://G2Plot/../src/is-negative.ts","webpack://G2Plot/../src/is-number-equal.ts","webpack://G2Plot/../src/is-odd.ts","webpack://G2Plot/../src/is-positive.ts","webpack://G2Plot/../src/max-by.ts","webpack://G2Plot/../src/min-by.ts","webpack://G2Plot/../src/mod.ts","webpack://G2Plot/../src/to-degree.ts","webpack://G2Plot/../src/to-integer.ts","webpack://G2Plot/../src/to-radian.ts","webpack://G2Plot/../src/for-in.ts","webpack://G2Plot/../src/has.ts","webpack://G2Plot/../src/has-key.ts","webpack://G2Plot/../src/values.ts","webpack://G2Plot/../src/has-value.ts","webpack://G2Plot/../src/to-string.ts","webpack://G2Plot/../src/lower-case.ts","webpack://G2Plot/../src/lower-first.ts","webpack://G2Plot/../src/substitute.ts","webpack://G2Plot/../src/upper-case.ts","webpack://G2Plot/../src/upper-first.ts","webpack://G2Plot/../src/get-type.ts","webpack://G2Plot/../src/is-arguments.ts","webpack://G2Plot/../src/is-boolean.ts","webpack://G2Plot/../src/is-date.ts","webpack://G2Plot/../src/is-error.ts","webpack://G2Plot/../src/is-finite.ts","webpack://G2Plot/../src/is-null.ts","webpack://G2Plot/../src/is-prototype.ts","webpack://G2Plot/../src/is-reg-exp.ts","webpack://G2Plot/../src/is-undefined.ts","webpack://G2Plot/../src/is-element.ts","webpack://G2Plot/../src/request-animation-frame.ts","webpack://G2Plot/../src/clear-animation-frame.ts","webpack://G2Plot/../src/mix.ts","webpack://G2Plot/../src/augment.ts","webpack://G2Plot/../src/clone.ts","webpack://G2Plot/../src/debounce.ts","webpack://G2Plot/../src/memoize.ts","webpack://G2Plot/../src/deep-mix.ts","webpack://G2Plot/../src/extend.ts","webpack://G2Plot/../src/index-of.ts","webpack://G2Plot/../src/is-empty.ts","webpack://G2Plot/../src/is-equal.ts","webpack://G2Plot/../src/is-equal-with.ts","webpack://G2Plot/../src/map.ts","webpack://G2Plot/../src/map-values.ts","webpack://G2Plot/../src/get.ts","webpack://G2Plot/../src/set.ts","webpack://G2Plot/../src/pick.ts","webpack://G2Plot/../src/omit.ts","webpack://G2Plot/../src/throttle.ts","webpack://G2Plot/../src/to-array.ts","webpack://G2Plot/../src/unique-id.ts","webpack://G2Plot/../src/noop.ts","webpack://G2Plot/../src/identity.ts","webpack://G2Plot/../src/size.ts","webpack://G2Plot/../src/measure-text-width.ts","webpack://G2Plot/../src/get-ellipsis-text.ts","webpack://G2Plot/../src/cache.ts","webpack://G2Plot/./node_modules/tslib/tslib.es6.js","webpack://G2Plot/./src/utils/index.ts","webpack://G2Plot/../src/ext.ts","webpack://G2Plot/../../src/util/util.ts","webpack://G2Plot/../../src/util/theme.ts","webpack://G2Plot/./src/core/plot.ts","webpack://G2Plot/../src/constant.ts","webpack://G2Plot/../../src/engine/index.ts","webpack://G2Plot/../../src/util/dom.ts","webpack://G2Plot/../src/base.ts","webpack://G2Plot/../../src/attributes/base.ts","webpack://G2Plot/./node_modules/@antv/attr/node_modules/tslib/tslib.es6.js","webpack://G2Plot/../../src/attributes/color.ts","webpack://G2Plot/../../src/attributes/opacity.ts","webpack://G2Plot/../../src/attributes/position.ts","webpack://G2Plot/../../src/attributes/shape.ts","webpack://G2Plot/../../src/attributes/size.ts","webpack://G2Plot/../src/factory.ts","webpack://G2Plot/../src/index.ts","webpack://G2Plot/../../src/coord/base.ts","webpack://G2Plot/../../src/coord/cartesian.ts","webpack://G2Plot/../../src/coord/helix.ts","webpack://G2Plot/../../src/coord/polar.ts","webpack://G2Plot/../src/dependents.ts","webpack://G2Plot/../../src/util/graphics.ts","webpack://G2Plot/../../src/util/helper.ts","webpack://G2Plot/../../src/util/bbox.ts","webpack://G2Plot/../../src/util/coordinate.ts","webpack://G2Plot/../../src/util/scale.ts","webpack://G2Plot/../../src/util/axis.ts","webpack://G2Plot/../../src/facet/facet.ts","webpack://G2Plot/../../src/facet/index.ts","webpack://G2Plot/../../../src/interaction/action/base.ts","webpack://G2Plot/../../../src/interaction/action/callback.ts","webpack://G2Plot/../../../src/interaction/action/register.ts","webpack://G2Plot/../../../../src/geometry/shape/util/path.ts","webpack://G2Plot/../../../src/interaction/action/util.ts","webpack://G2Plot/../../src/interaction/context.ts","webpack://G2Plot/../../src/interaction/interaction.ts","webpack://G2Plot/../../src/interaction/grammar-interaction.ts","webpack://G2Plot/../../src/interaction/index.ts","webpack://G2Plot/../../../src/theme/util/create-by-style-sheet.ts","webpack://G2Plot/../../../src/theme/style-sheet/light.ts","webpack://G2Plot/../../../src/theme/util/create-theme.ts","webpack://G2Plot/../../src/theme/index.ts","webpack://G2Plot/../../src/util/tooltip.ts","webpack://G2Plot/../../src/util/padding.ts","webpack://G2Plot/../../../src/chart/controller/index.ts","webpack://G2Plot/../../../src/chart/controller/coordinate.ts","webpack://G2Plot/../../src/chart/event.ts","webpack://G2Plot/../../../src/chart/layout/index.ts","webpack://G2Plot/../../../src/chart/util/scale-pool.ts","webpack://G2Plot/../../../src/chart/layout/padding-cal.ts","webpack://G2Plot/../../../src/chart/layout/auto.ts","webpack://G2Plot/../../../src/chart/util/sync-view-padding.ts","webpack://G2Plot/../../src/chart/view.ts","webpack://G2Plot/../../src/chart/chart.ts","webpack://G2Plot/../../../src/chart/controller/base.ts","webpack://G2Plot/../../../src/chart/controller/tooltip.ts","webpack://G2Plot/../../../src/animate/animation/index.ts","webpack://G2Plot/../../src/animate/index.ts","webpack://G2Plot/../../../src/geometry/shape/constant.ts","webpack://G2Plot/../../../src/geometry/element/index.ts","webpack://G2Plot/../../../src/geometry/label/index.ts","webpack://G2Plot/../../../src/geometry/shape/base.ts","webpack://G2Plot/../../../src/geometry/util/is-model-change.ts","webpack://G2Plot/../../../src/geometry/util/parse-fields.ts","webpack://G2Plot/../../../src/geometry/util/diff.ts","webpack://G2Plot/../../src/geometry/base.ts","webpack://G2Plot/../../../src/geometry/util/group-data.ts","webpack://G2Plot/../../src/util/transform.ts","webpack://G2Plot/../../../../src/geometry/label/util/index.ts","webpack://G2Plot/../../src/component/labels.ts","webpack://G2Plot/../../src/component/update-label.ts","webpack://G2Plot/../../../src/geometry/label/base.ts","webpack://G2Plot/../../src/util/attr.ts","webpack://G2Plot/../../src/util/marker.ts","webpack://G2Plot/../../src/util/legend.ts","webpack://G2Plot/../../../../src/geometry/shape/util/get-path-points.ts","webpack://G2Plot/../../../../src/geometry/shape/util/get-style.ts","webpack://G2Plot/../../../../src/geometry/shape/util/split-points.ts","webpack://G2Plot/../../../../src/geometry/shape/line/util.ts","webpack://G2Plot/../../../../src/geometry/shape/line/index.ts","webpack://G2Plot/../src/core.ts","webpack://G2Plot/../../../src/theme/style-sheet/dark.ts","webpack://G2Plot/../../src/util/parse.ts","webpack://G2Plot/../../src/util/arc-params.ts","webpack://G2Plot/../../src/util/arrow.ts","webpack://G2Plot/../../src/util/draw.ts","webpack://G2Plot/../../src/shape/base.ts","webpack://G2Plot/../../src/shape/circle.ts","webpack://G2Plot/../../src/shape/ellipse.ts","webpack://G2Plot/../../src/shape/image.ts","webpack://G2Plot/../../../src/util/in-stroke/line.ts","webpack://G2Plot/../../src/shape/line.ts","webpack://G2Plot/../../src/shape/marker.ts","webpack://G2Plot/../../../src/util/in-path/point-in-path.ts","webpack://G2Plot/../../../src/util/in-path/polygon.ts","webpack://G2Plot/../../../src/util/in-stroke/arc.ts","webpack://G2Plot/../../src/util/path.ts","webpack://G2Plot/../../src/shape/path.ts","webpack://G2Plot/../../../src/util/in-stroke/polyline.ts","webpack://G2Plot/../../src/shape/polygon.ts","webpack://G2Plot/../../src/shape/polyline.ts","webpack://G2Plot/../../src/shape/rect.ts","webpack://G2Plot/../../../src/util/in-stroke/rect-radius.ts","webpack://G2Plot/../../../src/util/in-stroke/rect.ts","webpack://G2Plot/../../src/shape/text.ts","webpack://G2Plot/../../src/util/hit.ts","webpack://G2Plot/../src/canvas.ts","webpack://G2Plot/../../src/util/svg.ts","webpack://G2Plot/../../src/shape/dom.ts","webpack://G2Plot/../../../src/shape/marker/symbols.ts","webpack://G2Plot/../../../src/shape/marker/index.ts","webpack://G2Plot/../../src/util/format.ts","webpack://G2Plot/../../src/defs/gradient.ts","webpack://G2Plot/../../src/defs/shadow.ts","webpack://G2Plot/../../src/defs/arrow.ts","webpack://G2Plot/../../src/defs/clip.ts","webpack://G2Plot/../../src/defs/pattern.ts","webpack://G2Plot/../../src/defs/index.ts","webpack://G2Plot/../../src/geometry/path.ts","webpack://G2Plot/../../../../src/geometry/shape/area/util.ts","webpack://G2Plot/../../../../src/geometry/shape/area/index.ts","webpack://G2Plot/../../src/geometry/area.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/index.ts","webpack://G2Plot/../../src/geometry/edge.ts","webpack://G2Plot/../../src/geometry/heatmap.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/util.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/index.ts","webpack://G2Plot/../../../src/geometry/util/shape-size.ts","webpack://G2Plot/../../src/geometry/interval.ts","webpack://G2Plot/../../src/geometry/line.ts","webpack://G2Plot/../../../../src/geometry/shape/point/util.ts","webpack://G2Plot/../../../../src/geometry/shape/point/index.ts","webpack://G2Plot/../../src/geometry/point.ts","webpack://G2Plot/../../../../src/geometry/shape/polygon/index.ts","webpack://G2Plot/../../src/geometry/polygon.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/index.ts","webpack://G2Plot/../../src/geometry/schema.ts","webpack://G2Plot/../../../../src/geometry/shape/violin/index.ts","webpack://G2Plot/../../src/geometry/violin.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/util.ts","webpack://G2Plot/../../../../src/geometry/shape/area/line.ts","webpack://G2Plot/../../../../src/geometry/shape/area/smooth.ts","webpack://G2Plot/../../../../src/geometry/shape/area/smooth-line.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/arc.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/smooth.ts","webpack://G2Plot/../../../../src/geometry/shape/edge/vhv.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/funnel.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/hollow-rect.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/line.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/pyramid.ts","webpack://G2Plot/../../../../src/geometry/shape/interval/tick.ts","webpack://G2Plot/../../../../src/geometry/shape/line/step.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/box.ts","webpack://G2Plot/../../../../src/geometry/shape/schema/candle.ts","webpack://G2Plot/../../../../src/geometry/shape/polygon/square.ts","webpack://G2Plot/../../../../src/geometry/shape/point/hollow.ts","webpack://G2Plot/../../../../src/geometry/shape/point/image.ts","webpack://G2Plot/../../../../src/geometry/shape/point/solid.ts","webpack://G2Plot/../../../../src/geometry/shape/violin/smooth.ts","webpack://G2Plot/../../../../src/geometry/shape/violin/hollow.ts","webpack://G2Plot/../../../src/geometry/label/interval.ts","webpack://G2Plot/../../../src/geometry/label/polar.ts","webpack://G2Plot/../../../src/geometry/label/pie.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/pie/util.ts","webpack://G2Plot/../../../../src/geometry/label/layout/overlap.ts","webpack://G2Plot/../../src/util/collision-detect.ts","webpack://G2Plot/../../src/util/color.ts","webpack://G2Plot/../../src/util/context.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/interval/adjust-position.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/point/adjust-position.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/path/adjust-position.ts","webpack://G2Plot/../../src/util/text.ts","webpack://G2Plot/../../../src/animate/animation/util.ts","webpack://G2Plot/../../../src/animate/animation/sector-path-update.ts","webpack://G2Plot/../../../src/animate/animation/zoom.ts","webpack://G2Plot/../../src/util/facet.ts","webpack://G2Plot/../../src/facet/circle.ts","webpack://G2Plot/../../src/facet/list.ts","webpack://G2Plot/../../src/facet/matrix.ts","webpack://G2Plot/../../src/facet/mirror.ts","webpack://G2Plot/../../src/facet/rect.ts","webpack://G2Plot/../../src/facet/tree.ts","webpack://G2Plot/../../src/util/stat.ts","webpack://G2Plot/../../src/util/annotation.ts","webpack://G2Plot/../../../src/chart/controller/annotation.ts","webpack://G2Plot/../../src/util/grid.ts","webpack://G2Plot/../../../src/chart/controller/axis.ts","webpack://G2Plot/../../src/util/direction.ts","webpack://G2Plot/../../../src/chart/controller/legend.ts","webpack://G2Plot/../../../src/chart/controller/slider.ts","webpack://G2Plot/../../../src/chart/controller/scrollbar.ts","webpack://G2Plot/../../../src/interaction/action/active-region.ts","webpack://G2Plot/../../../../../src/interaction/action/component/tooltip/geometry.ts","webpack://G2Plot/../../../../../src/interaction/action/component/tooltip/sibling.ts","webpack://G2Plot/../../../../../src/interaction/action/component/tooltip/ellipsis-text.ts","webpack://G2Plot/../../../../src/interaction/action/element/state-base.ts","webpack://G2Plot/../../../../src/interaction/action/element/state.ts","webpack://G2Plot/../../../../src/interaction/action/element/active.ts","webpack://G2Plot/../../../../src/interaction/action/element/link-by-color.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-state.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-active.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-state.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-active.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-util.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-by-color.ts","webpack://G2Plot/../../../../src/interaction/action/element/highlight-by-x.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/element/range-selected.ts","webpack://G2Plot/../../../../src/interaction/action/element/selected.ts","webpack://G2Plot/../../../../src/interaction/action/element/single-selected.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-state.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-active.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-highlight.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-highlight-util.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-selected.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-unchecked.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-checked.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-focus.ts","webpack://G2Plot/../../../../src/interaction/action/component/list-radio.ts","webpack://G2Plot/../../../../src/interaction/action/mask/base.ts","webpack://G2Plot/../../../../src/interaction/action/mask/circle.ts","webpack://G2Plot/../../../../src/interaction/action/mask/rect.ts","webpack://G2Plot/../../../../src/interaction/action/mask/dim-rect.ts","webpack://G2Plot/../../../../src/interaction/action/data/range-filter.ts","webpack://G2Plot/../../../../src/interaction/action/mask/path.ts","webpack://G2Plot/../../../../src/interaction/action/mask/smooth-path.ts","webpack://G2Plot/../../../src/interaction/action/cursor.ts","webpack://G2Plot/../../../../src/interaction/action/data/filter.ts","webpack://G2Plot/../../../../src/interaction/action/data/sibling-filter.ts","webpack://G2Plot/../../../../src/interaction/action/element/filter.ts","webpack://G2Plot/../../../../src/interaction/action/element/sibling-filter.ts","webpack://G2Plot/../../../../src/interaction/action/view/button.ts","webpack://G2Plot/../../../../src/interaction/action/view/drag.ts","webpack://G2Plot/../../../../src/interaction/action/view/move.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-transform.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-translate.ts","webpack://G2Plot/../../../../src/interaction/action/view/scale-zoom.ts","webpack://G2Plot/../../../../src/interaction/action/view/mousewheel-scroll.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/pie/distribute.ts","webpack://G2Plot/../../../../src/geometry/label/layout/hide-overlap.ts","webpack://G2Plot/../../../../src/geometry/label/layout/limit-in-shape.ts","webpack://G2Plot/../../../../src/geometry/label/layout/limit-in-canvas.ts","webpack://G2Plot/../../../../src/geometry/label/layout/limit-in-plot.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/pie/outer.ts","webpack://G2Plot/../../../../src/geometry/label/layout/adjust-color.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/interval/hide-overlap.ts","webpack://G2Plot/../../../../../src/geometry/label/layout/pie/spider.ts","webpack://G2Plot/../../../src/animate/animation/fade.ts","webpack://G2Plot/../../../src/animate/animation/grow-in.ts","webpack://G2Plot/../../../src/animate/animation/scale-in.ts","webpack://G2Plot/../../../src/animate/animation/wave-in.ts","webpack://G2Plot/../../../src/animate/animation/position-update.ts","webpack://G2Plot/../../../src/animate/animation/path-in.ts","webpack://G2Plot/../../src/event/graph-event.ts","webpack://G2Plot/../../src/abstract/base.ts","webpack://G2Plot/../../src/util/matrix.ts","webpack://G2Plot/../../src/abstract/element.ts","webpack://G2Plot/../../src/abstract/container.ts","webpack://G2Plot/./node_modules/d3-timer/src/timer.js","webpack://G2Plot/./node_modules/d3-color/src/define.js","webpack://G2Plot/./node_modules/d3-color/src/color.js","webpack://G2Plot/./node_modules/d3-interpolate/src/basis.js","webpack://G2Plot/./node_modules/d3-interpolate/src/constant.js","webpack://G2Plot/./node_modules/d3-interpolate/src/color.js","webpack://G2Plot/./node_modules/d3-interpolate/src/rgb.js","webpack://G2Plot/./node_modules/d3-interpolate/src/basisClosed.js","webpack://G2Plot/./node_modules/d3-interpolate/src/numberArray.js","webpack://G2Plot/./node_modules/d3-interpolate/src/array.js","webpack://G2Plot/./node_modules/d3-interpolate/src/date.js","webpack://G2Plot/./node_modules/d3-interpolate/src/number.js","webpack://G2Plot/./node_modules/d3-interpolate/src/object.js","webpack://G2Plot/./node_modules/d3-interpolate/src/string.js","webpack://G2Plot/./node_modules/d3-interpolate/src/value.js","webpack://G2Plot/./node_modules/d3-ease/src/linear.js","webpack://G2Plot/./node_modules/d3-ease/src/quad.js","webpack://G2Plot/./node_modules/d3-ease/src/cubic.js","webpack://G2Plot/./node_modules/d3-ease/src/poly.js","webpack://G2Plot/./node_modules/d3-ease/src/sin.js","webpack://G2Plot/./node_modules/d3-ease/src/math.js","webpack://G2Plot/./node_modules/d3-ease/src/exp.js","webpack://G2Plot/./node_modules/d3-ease/src/circle.js","webpack://G2Plot/./node_modules/d3-ease/src/bounce.js","webpack://G2Plot/./node_modules/d3-ease/src/back.js","webpack://G2Plot/./node_modules/d3-ease/src/elastic.js","webpack://G2Plot/../../src/animate/register.ts","webpack://G2Plot/../../src/animate/timeline.ts","webpack://G2Plot/../../src/event/event-contoller.ts","webpack://G2Plot/../../src/abstract/canvas.ts","webpack://G2Plot/../../src/abstract/group.ts","webpack://G2Plot/../../src/abstract/shape.ts","webpack://G2Plot/../../src/bbox/register.ts","webpack://G2Plot/../../src/bbox/rect.ts","webpack://G2Plot/../../src/bbox/circle.ts","webpack://G2Plot/../../src/bbox/util.ts","webpack://G2Plot/../../src/bbox/polyline.ts","webpack://G2Plot/../../src/util/offscreen.ts","webpack://G2Plot/../../src/bbox/text.ts","webpack://G2Plot/../../src/bbox/path.ts","webpack://G2Plot/../../src/bbox/index.ts","webpack://G2Plot/../../src/bbox/polygon.ts","webpack://G2Plot/../../src/bbox/line.ts","webpack://G2Plot/../../src/bbox/ellipse.ts","webpack://G2Plot/../src/add-event-listener.ts","webpack://G2Plot/../src/create-dom.ts","webpack://G2Plot/../src/get-style.ts","webpack://G2Plot/../src/get-outer-height.ts","webpack://G2Plot/../src/get-height.ts","webpack://G2Plot/../src/get-outer-width.ts","webpack://G2Plot/../src/get-width.ts","webpack://G2Plot/../src/modify-css.ts","webpack://G2Plot/./src/adaptor/common.ts","webpack://G2Plot/../../src/abstract/group-component.ts","webpack://G2Plot/../src/util.ts","webpack://G2Plot/../src/line.ts","webpack://G2Plot/../src/bezier.ts","webpack://G2Plot/../src/quadratic.ts","webpack://G2Plot/../src/cubic.ts","webpack://G2Plot/../src/ellipse.ts","webpack://G2Plot/../src/arc.ts","webpack://G2Plot/../src/segments.ts","webpack://G2Plot/../src/polyline.ts","webpack://G2Plot/./node_modules/gl-matrix/esm/common.js","webpack://G2Plot/./src/adaptor/geometries/index.ts","webpack://G2Plot/./node_modules/gl-matrix/esm/mat3.js","webpack://G2Plot/../../src/tooltip/css-const.ts","webpack://G2Plot/./node_modules/@antv/adjust/node_modules/tslib/tslib.es6.js","webpack://G2Plot/./src/adaptor/geometries/base.ts","webpack://G2Plot/../src/parse-path.ts","webpack://G2Plot/../src/catmull-rom-2-bezier.ts","webpack://G2Plot/../src/fill-path.ts","webpack://G2Plot/../src/fill-path-by-diff.ts","webpack://G2Plot/../src/format-path.ts","webpack://G2Plot/../src/rect-path.ts","webpack://G2Plot/../src/parse-path-string.ts","webpack://G2Plot/../src/path-2-absolute.ts","webpack://G2Plot/../../src/process/arc-2-cubic.ts","webpack://G2Plot/../../src/process/quad-2-cubic.ts","webpack://G2Plot/../../src/process/line-2-cubic.ts","webpack://G2Plot/../../src/process/segment-2-cubic.ts","webpack://G2Plot/../src/path-2-curve.ts","webpack://G2Plot/../src/path-intersection.ts","webpack://G2Plot/../src/parse-path-array.ts","webpack://G2Plot/../src/get-arc-params.ts","webpack://G2Plot/../src/path-2-segments.ts","webpack://G2Plot/../src/get-line-intersect.ts","webpack://G2Plot/../src/point-in-polygon.ts","webpack://G2Plot/../src/is-polygons-intersect.ts","webpack://G2Plot/../../src/util/label.ts","webpack://G2Plot/./src/utils/tooltip.ts","webpack://G2Plot/../../src/adjusts/adjust.ts","webpack://G2Plot/../../src/tick-method/register.ts","webpack://G2Plot/../../src/category/base.ts","webpack://G2Plot/../src/fecha.ts","webpack://G2Plot/../../src/util/time.ts","webpack://G2Plot/../../src/util/bisector.ts","webpack://G2Plot/../../src/category/time.ts","webpack://G2Plot/../../src/continuous/base.ts","webpack://G2Plot/../../src/continuous/linear.ts","webpack://G2Plot/../../src/util/math.ts","webpack://G2Plot/../../src/continuous/log.ts","webpack://G2Plot/../../src/continuous/pow.ts","webpack://G2Plot/../../src/continuous/time.ts","webpack://G2Plot/../../src/continuous/quantize.ts","webpack://G2Plot/../../src/continuous/quantile.ts","webpack://G2Plot/../../src/identity/index.ts","webpack://G2Plot/../../src/util/pretty-number.ts","webpack://G2Plot/../../src/util/extended.ts","webpack://G2Plot/../../src/tick-method/cat.ts","webpack://G2Plot/../../src/util/d3-linear.ts","webpack://G2Plot/../../src/util/interval.ts","webpack://G2Plot/../../src/util/strict-limit.ts","webpack://G2Plot/../../src/util/pretty.ts","webpack://G2Plot/../../src/tick-method/quantile.ts","webpack://G2Plot/../../src/tick-method/time-pretty.ts","webpack://G2Plot/../../src/tick-method/index.ts","webpack://G2Plot/../../src/tick-method/time-cat.ts","webpack://G2Plot/../../src/tick-method/linear.ts","webpack://G2Plot/../../src/tick-method/r-prettry.ts","webpack://G2Plot/../../src/tick-method/time.ts","webpack://G2Plot/../../src/tick-method/log.ts","webpack://G2Plot/../../src/tick-method/pow.ts","webpack://G2Plot/../../src/tick-method/d3-linear.ts","webpack://G2Plot/./src/constant.ts","webpack://G2Plot/../../src/abstract/html-component.ts","webpack://G2Plot/../../src/util/state.ts","webpack://G2Plot/./src/utils/padding.ts","webpack://G2Plot/./src/adaptor/pattern.ts","webpack://G2Plot/./src/utils/transform/percent.ts","webpack://G2Plot/./src/plots/tiny-line/utils.ts","webpack://G2Plot/./src/plots/funnel/constant.ts","webpack://G2Plot/../../src/abstract/component.ts","webpack://G2Plot/./node_modules/gl-matrix/esm/vec2.js","webpack://G2Plot/./src/plots/column/adaptor.ts","webpack://G2Plot/./src/plots/tiny-line/constants.ts","webpack://G2Plot/./src/plots/venn/constant.ts","webpack://G2Plot/./src/utils/hierarchy/util.ts","webpack://G2Plot/./src/core/locale.ts","webpack://G2Plot/./src/utils/data.ts","webpack://G2Plot/./src/plots/tiny-area/adaptor.ts","webpack://G2Plot/./src/interactions/actions/drill-down.ts","webpack://G2Plot/./src/plots/gauge/constants.ts","webpack://G2Plot/./node_modules/gl-matrix/esm/vec3.js","webpack://G2Plot/../../src/util/event.ts","webpack://G2Plot/./node_modules/detect-browser/es/index.js","webpack://G2Plot/./src/utils/number.ts","webpack://G2Plot/./src/plots/line/adaptor.ts","webpack://G2Plot/./src/utils/pattern/util.ts","webpack://G2Plot/./src/plots/dual-axes/types.ts","webpack://G2Plot/./src/plots/dual-axes/util/option.ts","webpack://G2Plot/./src/plots/progress/adaptor.ts","webpack://G2Plot/./src/plots/progress/utils.ts","webpack://G2Plot/./src/plots/box/constant.ts","webpack://G2Plot/./src/plots/venn/interactions/util.ts","webpack://G2Plot/./src/plots/stock/constant.ts","webpack://G2Plot/./src/plots/funnel/geometries/common.ts","webpack://G2Plot/./src/plots/sunburst/constant.ts","webpack://G2Plot/./src/interactions/drill-down.ts","webpack://G2Plot/./src/plots/waterfall/constant.ts","webpack://G2Plot/./src/plots/sankey/constant.ts","webpack://G2Plot/./src/plots/mix/index.ts","webpack://G2Plot/./node_modules/d3-hierarchy/src/cluster.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/find.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/pack/enclose.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/array.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/pack/siblings.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/accessors.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/constant.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/pack/index.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/round.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/dice.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/partition.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/stratify.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/tree.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/slice.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/index.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/binary.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack://G2Plot/./node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack://G2Plot/./node_modules/@babel/runtime/regenerator/index.js","webpack://G2Plot/./src/utils/pick.ts","webpack://G2Plot/./src/utils/invariant.ts","webpack://G2Plot/./src/utils/view.ts","webpack://G2Plot/./src/utils/deep-assign.ts","webpack://G2Plot/./src/utils/statistic.ts","webpack://G2Plot/./src/core/global.ts","webpack://G2Plot/./node_modules/size-sensor/lib/debounce.js","webpack://G2Plot/./node_modules/size-sensor/lib/constant.js","webpack://G2Plot/./src/plots/line/index.ts","webpack://G2Plot/./src/utils/pattern/index.ts","webpack://G2Plot/./src/adaptor/geometries/point.ts","webpack://G2Plot/./src/adaptor/geometries/polygon.ts","webpack://G2Plot/./src/plots/area/index.ts","webpack://G2Plot/./src/plots/area/adaptor.ts","webpack://G2Plot/./src/plots/column/index.ts","webpack://G2Plot/./src/utils/conversion.ts","webpack://G2Plot/./src/adaptor/brush.ts","webpack://G2Plot/./src/interactions/brush.ts","webpack://G2Plot/./src/plots/bar/index.ts","webpack://G2Plot/./src/plots/bar/adaptor.ts","webpack://G2Plot/./src/plots/pie/index.ts","webpack://G2Plot/./src/plots/pie/adaptor.ts","webpack://G2Plot/./src/plots/pie/contants.ts","webpack://G2Plot/./src/plots/pie/utils.ts","webpack://G2Plot/./src/plots/pie/interactions/index.ts","webpack://G2Plot/./src/utils/matrix.ts","webpack://G2Plot/./src/plots/word-cloud/utils.ts","webpack://G2Plot/./src/plots/word-cloud/constant.ts","webpack://G2Plot/./src/plots/scatter/index.ts","webpack://G2Plot/./src/plots/scatter/adaptor.ts","webpack://G2Plot/./src/interactions/drag-move.ts","webpack://G2Plot/./src/plots/dual-axes/constant.ts","webpack://G2Plot/./src/plots/tiny-line/index.ts","webpack://G2Plot/./src/plots/tiny-line/adaptor.ts","webpack://G2Plot/./src/plots/tiny-column/index.ts","webpack://G2Plot/./src/plots/tiny-column/adaptor.ts","webpack://G2Plot/./src/plots/tiny-area/index.ts","webpack://G2Plot/./src/plots/histogram/index.ts","webpack://G2Plot/./src/utils/transform/histogram.ts","webpack://G2Plot/./src/plots/histogram/adaptor.ts","webpack://G2Plot/./src/plots/histogram/constant.ts","webpack://G2Plot/./src/plots/progress/index.ts","webpack://G2Plot/./src/plots/progress/constants.ts","webpack://G2Plot/./src/plots/ring-progress/index.ts","webpack://G2Plot/./src/plots/ring-progress/adaptor.ts","webpack://G2Plot/./src/plots/box/utils.ts","webpack://G2Plot/./src/plots/violin/utils.ts","webpack://G2Plot/./src/plots/violin/constant.ts","webpack://G2Plot/./node_modules/fmin/build/fmin.js","webpack://G2Plot/./src/plots/venn/layout/circleintersection.ts","webpack://G2Plot/./src/plots/stock/index.ts","webpack://G2Plot/./src/plots/stock/adaptor.ts","webpack://G2Plot/./src/plots/stock/utils.ts","webpack://G2Plot/./src/plots/funnel/index.ts","webpack://G2Plot/./src/plots/funnel/adaptor.ts","webpack://G2Plot/./src/plots/funnel/geometries/basic.ts","webpack://G2Plot/./src/plots/liquid/utils.ts","webpack://G2Plot/./src/plots/liquid/shapes/liquid.ts","webpack://G2Plot/./src/plots/bullet/utils.ts","webpack://G2Plot/./src/utils/hierarchy/treemap.ts","webpack://G2Plot/./src/plots/gauge/index.ts","webpack://G2Plot/./src/plots/gauge/adaptor.ts","webpack://G2Plot/./src/plots/gauge/utils.ts","webpack://G2Plot/./src/plots/waterfall/utils.ts","webpack://G2Plot/./src/plots/bidirectional-bar/constant.ts","webpack://G2Plot/./src/plots/bidirectional-bar/utils.ts","webpack://G2Plot/./src/plots/treemap/utils.ts","webpack://G2Plot/./src/plots/sankey/helper.ts","webpack://G2Plot/./src/plots/sankey/sankey/align.ts","webpack://G2Plot/./src/plots/chord/constant.ts","webpack://G2Plot/./src/plots/circle-packing/constant.ts","webpack://G2Plot/./src/plots/mix/utils.ts","webpack://G2Plot/../../src/util/graphic.ts","webpack://G2Plot/../../src/annotation/line.ts","webpack://G2Plot/../../src/annotation/text.ts","webpack://G2Plot/../../src/annotation/arc.ts","webpack://G2Plot/../../src/annotation/region.ts","webpack://G2Plot/../../src/annotation/image.ts","webpack://G2Plot/../../src/annotation/data-marker.ts","webpack://G2Plot/../../src/annotation/data-region.ts","webpack://G2Plot/../../src/annotation/region-filter.ts","webpack://G2Plot/../../src/annotation/shape.ts","webpack://G2Plot/../../src/annotation/html.ts","webpack://G2Plot/../../src/axis/base.ts","webpack://G2Plot/../../../src/axis/overlap/auto-ellipsis.ts","webpack://G2Plot/../../../src/axis/overlap/auto-hide.ts","webpack://G2Plot/../../../src/axis/overlap/auto-rotate.ts","webpack://G2Plot/../../src/axis/line.ts","webpack://G2Plot/../../src/axis/circle.ts","webpack://G2Plot/../../src/crosshair/base.ts","webpack://G2Plot/../../src/crosshair/line.ts","webpack://G2Plot/../../src/crosshair/circle.ts","webpack://G2Plot/../../src/crosshair/html-theme.ts","webpack://G2Plot/../../src/crosshair/css-const.ts","webpack://G2Plot/../../src/crosshair/html.ts","webpack://G2Plot/../../src/trend/constant.ts","webpack://G2Plot/../../src/trend/path.ts","webpack://G2Plot/../../src/trend/trend.ts","webpack://G2Plot/../../src/slider/handler.ts","webpack://G2Plot/../../src/slider/constant.ts","webpack://G2Plot/../../src/slider/slider.ts","webpack://G2Plot/../../src/grid/base.ts","webpack://G2Plot/../../src/grid/circle.ts","webpack://G2Plot/../../src/grid/line.ts","webpack://G2Plot/../../src/legend/base.ts","webpack://G2Plot/../../src/legend/category.ts","webpack://G2Plot/../../src/legend/continuous.ts","webpack://G2Plot/../../src/tooltip/html-theme.ts","webpack://G2Plot/../../src/tooltip/html.ts","webpack://G2Plot/../../src/util/align.ts","webpack://G2Plot/../../src/scrollbar/scrollbar.ts","webpack://G2Plot/../../src/adjusts/dodge.ts","webpack://G2Plot/../../src/adjusts/jitter.ts","webpack://G2Plot/../../src/adjusts/stack.ts","webpack://G2Plot/../../src/adjusts/symmetric.ts","webpack://G2Plot/./src/index.ts","webpack://G2Plot/./node_modules/process/browser.js","webpack://G2Plot/./src/utils/flow.ts","webpack://G2Plot/./src/utils/template.ts","webpack://G2Plot/./src/utils/dom.ts","webpack://G2Plot/./src/utils/geometry.ts","webpack://G2Plot/./src/utils/label.ts","webpack://G2Plot/./src/utils/path.ts","webpack://G2Plot/./src/utils/kebab-case.ts","webpack://G2Plot/./src/utils/measure-text.ts","webpack://G2Plot/./src/utils/context.ts","webpack://G2Plot/./src/locales/en_US.ts","webpack://G2Plot/./src/locales/zh_CN.ts","webpack://G2Plot/./node_modules/size-sensor/lib/index.js","webpack://G2Plot/./node_modules/size-sensor/lib/sensorPool.js","webpack://G2Plot/./node_modules/size-sensor/lib/id.js","webpack://G2Plot/./node_modules/size-sensor/lib/sensors/index.js","webpack://G2Plot/./node_modules/size-sensor/lib/sensors/object.js","webpack://G2Plot/./node_modules/size-sensor/lib/sensors/resizeObserver.js","webpack://G2Plot/./src/types/index.ts","webpack://G2Plot/./src/utils/pattern/dot.ts","webpack://G2Plot/./src/utils/pattern/line.ts","webpack://G2Plot/./src/utils/pattern/square.ts","webpack://G2Plot/./src/adaptor/geometries/area.ts","webpack://G2Plot/./src/adaptor/geometries/line.ts","webpack://G2Plot/./src/adaptor/geometries/interval.ts","webpack://G2Plot/./src/adaptor/geometries/edge.ts","webpack://G2Plot/./src/adaptor/geometries/schema.ts","webpack://G2Plot/./src/adaptor/geometries/violin.ts","webpack://G2Plot/./src/plots/line/constants.ts","webpack://G2Plot/./src/plots/line/interactions/index.ts","webpack://G2Plot/./src/plots/line/interactions/marker-active.ts","webpack://G2Plot/./src/plots/area/constants.ts","webpack://G2Plot/./src/adaptor/conversion-tag.ts","webpack://G2Plot/./src/adaptor/connected-area.ts","webpack://G2Plot/./src/interactions/actions/reset-button.ts","webpack://G2Plot/./src/plots/column/constants.ts","webpack://G2Plot/./src/plots/bar/constants.ts","webpack://G2Plot/./src/plots/pie/interactions/actions/legend-active.ts","webpack://G2Plot/./src/plots/pie/interactions/actions/statistic-active.ts","webpack://G2Plot/./src/plots/pie/interactions/util.ts","webpack://G2Plot/./src/plots/rose/index.ts","webpack://G2Plot/./src/plots/rose/adaptor.ts","webpack://G2Plot/./src/plots/rose/constant.ts","webpack://G2Plot/./src/plots/word-cloud/index.ts","webpack://G2Plot/./src/plots/word-cloud/adaptor.ts","webpack://G2Plot/./src/utils/transform/word-cloud.ts","webpack://G2Plot/./src/plots/word-cloud/shapes/word-cloud.ts","webpack://G2Plot/./src/plots/scatter/util.ts","webpack://G2Plot/./node_modules/d3-regression/dist/d3-regression.esm.js","webpack://G2Plot/./src/plots/scatter/constant.ts","webpack://G2Plot/./src/plots/scatter/interactions/index.ts","webpack://G2Plot/./src/plots/radar/index.ts","webpack://G2Plot/./src/plots/radar/adaptor.ts","webpack://G2Plot/./src/plots/radar/interactions/index.ts","webpack://G2Plot/./src/plots/radar/interactions/radar-tooltip-action.ts","webpack://G2Plot/./src/plots/dual-axes/index.ts","webpack://G2Plot/./src/plots/dual-axes/adaptor.ts","webpack://G2Plot/./src/plots/dual-axes/util/legend.ts","webpack://G2Plot/./src/plots/dual-axes/util/geometry.ts","webpack://G2Plot/./src/plots/dual-axes/util/render-sider.ts","webpack://G2Plot/./src/plots/tiny-column/constants.ts","webpack://G2Plot/./src/plots/tiny-area/constants.ts","webpack://G2Plot/./src/plots/ring-progress/constants.ts","webpack://G2Plot/./src/plots/heatmap/index.ts","webpack://G2Plot/./src/plots/heatmap/adaptor.ts","webpack://G2Plot/./src/plots/heatmap/constant.ts","webpack://G2Plot/./src/plots/heatmap/shapes/circle.ts","webpack://G2Plot/./src/plots/heatmap/shapes/square.ts","webpack://G2Plot/./src/plots/box/index.ts","webpack://G2Plot/./src/plots/box/adaptor.ts","webpack://G2Plot/./src/plots/violin/index.ts","webpack://G2Plot/./src/plots/violin/adaptor.ts","webpack://G2Plot/./node_modules/pdfast/src/index.js","webpack://G2Plot/./node_modules/pdfast/src/helper.js","webpack://G2Plot/./src/utils/transform/quantile.ts","webpack://G2Plot/./src/plots/venn/index.ts","webpack://G2Plot/./src/plots/venn/types.ts","webpack://G2Plot/./src/plots/venn/adaptor.ts","webpack://G2Plot/./src/plots/venn/utils.ts","webpack://G2Plot/./src/utils/color/blend.ts","webpack://G2Plot/./src/plots/venn/layout/layout.ts","webpack://G2Plot/./src/plots/venn/layout/diagram.ts","webpack://G2Plot/./src/plots/venn/shape.ts","webpack://G2Plot/./src/plots/venn/label.ts","webpack://G2Plot/./src/plots/venn/interactions/index.ts","webpack://G2Plot/./src/plots/venn/interactions/actions/active.ts","webpack://G2Plot/./src/plots/venn/interactions/actions/highlight.ts","webpack://G2Plot/./src/plots/venn/interactions/actions/selected.ts","webpack://G2Plot/./src/plots/funnel/geometries/compare.ts","webpack://G2Plot/./src/plots/funnel/geometries/facet.ts","webpack://G2Plot/./src/plots/funnel/geometries/dynamic-height.ts","webpack://G2Plot/./src/plots/liquid/index.ts","webpack://G2Plot/./src/plots/liquid/adaptor.ts","webpack://G2Plot/./src/plots/liquid/constants.ts","webpack://G2Plot/./src/plots/bullet/index.ts","webpack://G2Plot/./src/plots/bullet/adaptor.ts","webpack://G2Plot/./src/plots/bullet/constant.ts","webpack://G2Plot/./src/plots/sunburst/index.ts","webpack://G2Plot/./src/plots/sunburst/adaptor.ts","webpack://G2Plot/./src/plots/sunburst/utils.ts","webpack://G2Plot/./src/utils/hierarchy/partition.ts","webpack://G2Plot/./node_modules/regenerator-runtime/runtime.js","webpack://G2Plot/(webpack)/buildin/module.js","webpack://G2Plot/./src/plots/sunburst/interactions/index.ts","webpack://G2Plot/./src/plots/gauge/types.ts","webpack://G2Plot/./src/plots/gauge/shapes/indicator.ts","webpack://G2Plot/./src/plots/gauge/shapes/meter-gauge.ts","webpack://G2Plot/./src/plots/waterfall/index.ts","webpack://G2Plot/./src/plots/waterfall/adaptor.ts","webpack://G2Plot/./src/plots/waterfall/shape.ts","webpack://G2Plot/./src/plots/radial-bar/index.ts","webpack://G2Plot/./src/plots/radial-bar/adaptor.ts","webpack://G2Plot/./src/plots/radial-bar/utils.ts","webpack://G2Plot/./src/plots/radial-bar/constant.ts","webpack://G2Plot/./src/plots/bidirectional-bar/index.ts","webpack://G2Plot/./src/plots/bidirectional-bar/adaptor.ts","webpack://G2Plot/./src/plots/treemap/index.ts","webpack://G2Plot/./src/plots/treemap/adaptor.ts","webpack://G2Plot/./src/plots/treemap/constant.ts","webpack://G2Plot/./src/plots/treemap/interactions/index.ts","webpack://G2Plot/./src/plots/sankey/index.ts","webpack://G2Plot/./src/plots/sankey/adaptor.ts","webpack://G2Plot/./src/plots/sankey/layout.ts","webpack://G2Plot/./src/plots/sankey/sankey/index.ts","webpack://G2Plot/./src/plots/sankey/sankey/sankey.ts","webpack://G2Plot/./src/plots/sankey/sankey/helper.ts","webpack://G2Plot/./src/plots/sankey/circle.ts","webpack://G2Plot/./src/plots/sankey/interactions/index.ts","webpack://G2Plot/./src/plots/sankey/interactions/node-draggable.ts","webpack://G2Plot/./src/plots/sankey/interactions/actions/node-drag.ts","webpack://G2Plot/./src/plots/chord/index.ts","webpack://G2Plot/./src/plots/chord/adaptor.ts","webpack://G2Plot/./src/utils/transform/chord.ts","webpack://G2Plot/./src/plots/circle-packing/index.ts","webpack://G2Plot/./src/plots/circle-packing/adaptor.ts","webpack://G2Plot/./src/plots/circle-packing/utils.ts","webpack://G2Plot/./src/utils/hierarchy/pack.ts","webpack://G2Plot/./src/plots/circle-packing/interactions/index.ts","webpack://G2Plot/./src/plugin/index.ts","webpack://G2Plot/./src/plots/mix/adaptor.ts","webpack://G2Plot/./src/plots/mix/interactions/index.ts","webpack://G2Plot/./src/plots/mix/interactions/association.ts","webpack://G2Plot/./src/plots/mix/interactions/utils.ts","webpack://G2Plot/./src/plots/facet/index.ts","webpack://G2Plot/./src/plots/facet/adaptor.ts","webpack://G2Plot/./src/plots/facet/utils.ts","webpack://G2Plot/./src/plots/facet/constant.ts","webpack://G2Plot/./src/lab.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","isArrayLike","isFinite","length","contains","arr","indexOf","filter","func","result","index","push","difference","values","toString","isType","type","isNil","Array","isArray","each","elements","len","isObject","k","keys","obj","isFunction","isMatch","attrs","_keys","isObjectLike","isPlainObject","getPrototypeOf","proto","find","predicate","_predicate","a","findIndex","fromIndex","firstValue","data","rst","flatten","concat","flattenDeep","reduce","prev","curr","Math","max","min","getRange","filterValues","v","isNaN","tmp","getMax","getMin","arrPrototype","splice","pull","pullAt","indexes","last","previous","fn","init","remove","str","sortBy","comparer","b","keys_1","isString","prop","sort","uniq","cache","Map","item","has","set","union","sources","apply","tmpMap","j","val","head","startsWith","e","endsWith","every","some","groupBy","condition","groupToMap","paramscondition_1","replace","split","row","unique","groups","array","getWrapBehavior","action","wrapBehavior","method","numColorCache","numberToColor","num","color","parseRadius","radius","r1","r2","r3","r4","clamp","fixedBase","base","round","substr","parseFloat","toFixed","isNumber","isDecimal","isEven","isInteger","Number","isNegative","isNumberEqual","precision","abs","isOdd","isPositive","maxItem","Infinity","minItem","mod","DEGREE","PI","toDegree","radian","parseInt","RADIAN","toRadian","degree","lowerCase","toLowerCase","lowerFirst","charAt","substring","substitute","match","slice","undefined","upperCase","toUpperCase","upperFirst","getType","isArguments","isBoolean","isDate","isError","isNull","objectProto","isPrototype","Ctor","constructor","isRegExp","isUndefined","isElement","Element","HTMLDocument","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","f","setTimeout","cancelAnimationFrame","handler","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","_mix","dist","mix","src1","src2","src3","augment","args","clone","debounce","wait","immediate","timeout","context","arguments","later","callNow","resolver","TypeError","memoized","_deepMix","src","level","maxLevel","deepMix","extend","subclass","superclass","overrides","staticOverrides","Tmp","superObj","isEmpty","size","isEqual","other","valueKeys","otherKeys","map","identity","forEach","defaultValue","keyArr","path","idx","includes","options","leading","Date","now","throttled","remaining","trailing","cancel","prefix","isArraylike","ctx","memoize","text","font","fontFamily","fontWeight","fontStyle","fontVariant","document","createElement","getContext","fontSize","join","measureText","width","maxWidth","currentText","currentWidth","PLACEHOLDER_WIDTH","measureTextWidth","leftText","leftWidth","default_1","def","extendStatics","setPrototypeOf","__proto__","__extends","String","__","this","__assign","assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","__generator","body","y","g","_","label","sent","trys","ops","verb","iterator","op","pop","__createBinding","k2","__exportStar","__values","__read","ar","error","__spread","__spreadArrays","il","jl","__spreadArray","to","from","pack","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","__importDefault","default","__classPrivateFieldGet","receiver","state","kind","__classPrivateFieldSet","flow","pick","template","log","invariant","LEVEL","getContainerSize","tslib_1","findViewById","getViews","getSiblingViews","transformLabel","getSplinePath","deepAssign","kebabCase","renderStatistic","renderGaugeStatistic","isBetween","isRealNumber","leftTranslate","out","transMat","mat3","fromTranslation","multiply","leftRotate","rad","rotateMat","fromRotation","leftScale","scaleMat","fromScaling","transform","actions","a1","matrix","direction","v1","v2","angleTo","direct","ang","vec2","angle","angleLargeThanPI","vertical","flag","formatPadding","padding","top","left","right","bottom","clearDom","container","children","childNodes","removeChild","hasClass","cName","className","RegExp","regionToBBox","region","end","minX","start","x","minY","maxX","maxY","height","pointsToBBox","points","xs","point","ys","createBBox","getValueByPercent","percent","getCirclePoint","center","cos","sin","near","EPSILON","getBBoxWithClip","element","bbox","box1","box2","clipShape","getClip","clipBBox","getBBox","isGroup","minX_1","maxX_1","minY_1","maxY_1","getChildren","child","box","leftTop","applyToMatrix","leftBottom","rightTop","rightBottom","boxMinX","boxMaxX","boxMinY","boxMaxY","updateClip","newElement","newClipShape","clipCfg","attr","setClip","toPx","number","getTextPoint","position","offset","p1","p2","dx","dy","offsetPercent","sqrt","textColor","activeTextColor","uncheckedColor","lineColor","regionColor","verticalAxisRotate","horizontalAxisRotate","_super","_this","getElementById","utils_1","getDefaultOptions","createG2","bindEvents","Plot","renderer","xAxis","nice","autoRotate","autoHide","cfg","minGap","yAxis","animation","defaultInteractions","chart","g2_1","autoFit","getChartSize","localRefresh","setAttribute","chartSize","on","emit","clear","animate","views","execAdaptor","render","bindSizeSensor","updateOption","status","util_1","ele","getData","setState","stateObjects","states","getStates","geometry","update","changeSize","annotations","view","incoming","controller","getController","current","getComponents","co","extra","annotation","id","unbindSizeSensor","destroy","off","removeAttribute","adaptor","getSchemaAdaptor","appendPadding","forceFit","unbind","_a","size_sensor_1","triggerResize","event_emitter_1","LAYER","DIRECTION","COMPONENT_TYPE","VIEW_LIFE_CIRCLE","GEOMETRY_LIFE_CIRCLE","PLOT_EVENTS","ELEMENT_STATE","GROUP_Z_INDEX","GROUP_ATTRS","ENGINES","getEngine","G","Error","registerEngine","engine","w","h","style","getComputedStyle","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","getElementSize","visible","Base","changeVisible","destroyed","EE","toScaleString","scale","invert","_parseCfg","Attribute","params","param","_toOriginParam","scales","callback","steps","floor","leftPercent","names","field","_getAttributeValue","_b","_c","_d","ret","defaultCallback","isCategory","linear","translate","getLinearValue","isLinear","gradient","colorUtil","Color","Position","scaleX","scaleY","xi","yi","Shape","ATTRIBUTE_MAP","getAttribute","registerAttribute","ctor","Opacity","Size","isTransposed","originalMatrix","Coordinate","initial","dim","isReflect","tag","vector","vec3","transformMat3","inverted","convertPoint","applyMatrix","invertMatrix","invertPoint","ext","isReflectX","isReflectY","s1","s2","Cartesian","convertDim","invertDim","endAngle","innerRadius","startAngle","Helix","maxRadius","thi","newY","subtract","rMin","Polar","oneBox","getOneBox","oneWidth","oneHeight","circleCenter","polarRadius","getCenter","vPoint","vStart3","vStart2","xPercent","yPercent","COORDINATE_MAP","registerCoordinate","LineAxis","Axis","CircleAxis","LineGrid","Grid","CircleGrid","CategoryLegend","Legend","ContinuousLegend","HtmlTooltip","Tooltip","uniqueValues","Set","mid","polarToCartesian","centerX","centerY","angleInRadian","getSectorPath","startAngleInRadian","endAngleInRadian","innerStart","innerEnd","middlePoint","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","getArcPath","getAngle","shapeModel","coordinate","getPointsBox","coordStartAngle","diffAngle","getReplaceAttrs","sourceShape","targetShape","originAttrs","newAttrs","omit","sourceArray","targetArray","_i","source","BBox","subBBox","TOP","TOP_LEFT","TOP_RIGHT","fromRange","RIGHT","RIGHT_TOP","RIGHT_BOTTOM","BOTTOM","BOTTOM_LEFT","BOTTOM_RIGHT","LEFT","LEFT_TOP","LEFT_BOTTOM","gap","getXDimensionLength","isPolar","getRadius","convert","pow","getDistanceToCenter","isPointInCoordinate","getAngleByPoint","atan2","getCoordinateClipCfg","margin","endState","getWidth","getHeight","endAngle_1","center_1","radius_1","startState","startAngle_1","ratio","diff","dateRegex","inferScaleType","scaleDef","attrType","geometryType","createScaleByField","validData","getScale","valuesOfKey","test","getDefaultType","getName","alias","getDefaultCategoryScaleRange","theme","range","count","isFullCircle","getAxisRegion","isRect","getLineAxisRelativeRegion","getCircleAxisRelativeRegion","isVertical","getAxisFactorByRegion","getAxisThemeCfg","axisTheme","getAxisTitleOptions","axisOptions","getCircleAxisCenterRadius","startVector","normalVector","getAxisOption","axes","getAxisDirection","axisOption","getAxisTitleText","facets","getDefaultCfg","Facet","createContainer","generateFacets","renderViews","clearFacetViews","facet","createView","beforeEachView","eachView","afterEachView","getLayer","FORE","addGroup","createFacetViews","facetToView","removeView","viewBBox","spacing","rows","cols","xIndex","yIndex","parseSpacing","xSpacing","ySpacing","xRatio","yRatio","showTitle","fields","fill","getTheme","getOptions","coordinateOption","geometries","getXYFields","xOption","yOption","getXAxisOption","getYAxisOption","conditions","datum","Facets","getFacet","registerFacet","Action","addAction","applyCfg","removeAction","CallbackAction","ActionCache","getActionClass","actionName","actionOption","registerAction","ActionClass","createCallbackAction","_convertArr","coord","_convertArcPath","catmullRom2bezier","crp","z","constraint","isLoop","pointList","cp1","cp2","controlPointList","smooth","prevPoint","nextPoint","nextCp0","cp0","cps","hasConstraint","sub","d0","distance","d1","sum","add","smoothBezier","getLinePath","isInCircle","length_1","_points2path","constaint","first","prePoint","splinePath","unshift","convertPolarPath","pre","cur","transposed","subPath","curPoint","xDim","angleRange","middleConvertPoint","_convertPolarPath","_filterFullCirleLine","getMaskBBox","tolerance","maskBBox","event","getCanvasBBox","getCurrentElement","getDelegationObject","delegateObject","isElementChange","gEvent","fromShape","toShape","isList","component","isSlider","isMask","getMaskedElements","maskPath","maskShape","getMaskPath","getElements","pathToPoints","el","shapePoints","shape","shapeBBox","isPolygonsIntersect","getIntersectElements","getSiblingMaskElements","sibling","getSiblingPoint","geom","subView","getElementsByState","stateName","getElementsBy","hasState","getElementValue","record","getModel","seg","isInBox","getSilbings","parent","siblings","normalPoint","getCoordinate","point2Normalize","isInRecords","records","xFiled","yField","isIn","getScaleByField","cacheMap","Context","HTMLElement","getCanvas","getPointByClient","clientX","clientY","getCurrentPoint","isPointInPlot","getCurrentShape","components","Interaction","initEvents","clearEvents","parseAction","actionStr","arg","getAction","createAction","methodName","executeAction","actionObject","STEP_NAMES","GrammarInteraction","initContext","callbackCaches","stepArr","stepName","getActionCallback","bindEvent","trigger","offEvent","InteractionContext","subSteps","actionArr","argArr_1","currentStepName","isAllowStep","getKey","once","emitCaches","isEnable","enterStep","actionCallback","isAllowExecute","afterExecute","throttle","eventName","nameArr","addEventListener","removeEventListener","Interactions","getInteraction","registerInteraction","interaction","createThemeByStyleSheet","styleSheet","shapeStyles","pointFillColor","pointSize","stroke","pointBorderColor","lineWidth","pointBorder","fillOpacity","pointFillOpacity","active","pointActiveBorderColor","pointActiveBorder","selected","pointSelectedBorderColor","pointSelectedBorder","inactive","pointInactiveFillOpacity","strokeOpacity","pointInactiveBorderOpacity","hollowPoint","hollowPointFillColor","hollowPointBorder","hollowPointBorderColor","hollowPointBorderOpacity","hollowPointSize","hollowPointActiveBorderColor","hollowPointActiveBorderOpacity","hollowPointSelectedBorder","hollowPointSelectedBorderColor","hollowPointSelectedBorderOpacity","hollowPointInactiveBorderOpacity","area","areaFillColor","areaFillOpacity","areaActiveFillOpacity","areaSelectedFillOpacity","areaInactiveFillOpacity","hollowArea","hollowAreaBorderColor","hollowAreaBorder","hollowAreaBorderOpacity","hollowAreaActiveBorder","hollowAreaSelectedBorder","hollowAreaInactiveBorderOpacity","interval","intervalFillColor","intervalFillOpacity","intervalActiveBorderColor","intervalActiveBorder","intervalSelectedBorderColor","intervalSelectedBorder","intervalInactiveFillOpacity","intervalInactiveBorderOpacity","hollowInterval","hollowIntervalFillColor","hollowIntervalBorderColor","hollowIntervalBorder","hollowIntervalBorderOpacity","hollowIntervalActiveBorderColor","hollowIntervalActiveBorder","hollowIntervalActiveBorderOpacity","hollowIntervalSelectedBorderColor","hollowIntervalSelectedBorder","hollowIntervalSelectedBorderOpacity","hollowIntervalInactiveBorderColor","hollowIntervalInactiveBorder","hollowIntervalInactiveBorderOpacity","line","lineBorderColor","lineBorder","lineBorderOpacity","lineAppendWidth","lineCap","lineJoin","lineActiveBorder","lineSelectedBorder","lineInactiveBorderOpacity","axisStyles","title","axisTitleSpacing","axisTitleTextFillColor","axisTitleTextFontSize","lineHeight","axisTitleTextLineHeight","textBaseline","autoEllipsis","axisLabelOffset","axisLabelFillColor","axisLabelFontSize","axisLabelLineHeight","axisLineBorder","axisLineBorderColor","grid","axisGridBorderColor","axisGridBorder","lineDash","axisGridLineDash","alignTick","tickLine","axisTickLineBorder","axisTickLineBorderColor","axisTickLineLength","subTickLine","createAxisStyles","legendStyles","marker","symbol","legendMarkerSpacing","legendCircleMarkerSize","legendMarkerColor","itemName","legendItemNameFillColor","legendItemNameFontSize","legendItemNameLineHeight","legendItemNameFontWeight","textAlign","itemStates","nameStyle","opacity","unchecked","markerStyle","flipPage","pageNavigator","legendPageNavigatorMarkerSize","inactiveFill","legendPageNavigatorMarkerInactiveFillColor","inactiveOpacity","legendPageNavigatorMarkerInactiveFillOpacity","legendPageNavigatorMarkerFillColor","legendPageNavigatorMarkerFillOpacity","legendPageNavigatorTextFillColor","legendPageNavigatorTextFontSize","maxItemWidth","itemSpacing","legendItemSpacing","itemMarginBottom","legendItemMarginBottom","legendPadding","createLegendStyles","background","backgroundColor","defaultColor","brandColor","subColor","semanticRed","paletteSemanticRed","semanticGreen","paletteSemanticGreen","columnWidthRatio","maxColumnWidth","minColumnWidth","roseWidthRatio","multiplePieWidthRatio","colors10","paletteQualitative10","colors20","paletteQualitative20","sequenceColors","paletteSequence","shapes","sizes","rect","middleAngle","tick","funnel","pyramid","dot","dash","hv","vh","hvh","vhv","polygon","circle","square","bowtie","diamond","hexagon","triangle","cross","plus","hyphen","schema","candle","edge","arc","violin","hollow","axis","common","verticalLimitLength","legend","layout","legendVerticalPadding","legendHorizontalPadding","continuous","track","rail","sliderRailHeight","defaultLength","sliderRailWidth","sliderRailFillColor","sliderRailBorderColor","sliderRailBorder","align","formatter","sliderLabelTextFillColor","sliderLabelTextFontSize","sliderLabelTextLineHeight","sliderHandlerWidth","sliderHandlerFillColor","sliderHandlerBorderColor","slidable","tooltip","showContent","follow","showCrosshairs","showMarkers","shared","enterable","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","crosshairs","tooltipCrosshairsBorderColor","tooltipCrosshairsBorder","textBackground","domStyles","TOOLTIP_CSS_CONST","CONTAINER_CLASS","visibility","zIndex","transition","tooltipContainerFillColor","tooltipContainerFillOpacity","boxShadow","tooltipContainerShadow","borderRadius","tooltipContainerBorderRadius","tooltipTextFillColor","tooltipTextFontSize","tooltipTextLineHeight","TITLE_CLASS","marginBottom","marginTop","LIST_CLASS","listStyleType","LIST_ITEM_CLASS","marginLeft","marginRight","MARKER_CLASS","display","VALUE_CLASS","float","annotationArcBorderColor","annotationArcBorder","annotationLineBorderColor","annotationLineDash","annotationLineBorder","annotationTextFillColor","annotationTextBorderColor","annotationTextBorder","annotationTextFontSize","annotationRegionBorder","annotationRegionBorderColor","annotationRegionFillColor","annotationRegionFillOpacity","image","dataMarker","annotationDataMarkerLineLength","autoAdjust","dataRegion","slider","backgroundStyle","cSliderBackgroundFillColor","cSliderBackgroundFillOpacity","foregroundStyle","cSliderForegroundFillColor","cSliderForegroundFillOpacity","handlerStyle","cSliderHandlerWidth","cSliderHandlerHeight","cSliderHandlerFillColor","cSliderHandlerFillOpacity","cSliderHandlerBorderColor","cSliderHandlerBorder","cSliderHandlerBorderRadius","highLightFill","cSliderHandlerHighlightFillColor","textStyle","cSliderTextFillColor","cSliderTextFillOpacity","cSliderTextFontSize","cSliderTextLineHeight","cSliderTextFontWeight","cSliderTextBorderColor","cSliderTextBorder","scrollbar","trackColor","scrollbarTrackFillColor","thumbColor","scrollbarThumbFillColor","hover","scrollbarThumbHighlightFillColor","labels","labelFillColor","labelFontSize","labelBorderColor","labelBorder","fillColorDark","labelFillColorDark","fillColorLight","labelFillColorLight","innerLabels","innerLabelFillColor","innerLabelFontSize","innerLabelBorderColor","innerLabelBorder","overflowLabels","overflowLabelFillColor","overflowLabelFontSize","overflowLabelBorderColor","overflowLabelBorder","pieLabels","labelHeight","labelLine","labelLineBorder","BLACK_COLORS","WHITE_COLORS","QUALITATIVE_10","QUALITATIVE_20","SINGLE_SEQUENCE","createLightStyleSheet","token","paletteSemanticYellow","axisLineDash","axisTitleTextFontWeight","axisSubTickLineBorderColor","axisSubTickLineLength","axisSubTickLineBorder","axisLabelFontWeight","legendTitleTextFillColor","legendTitleTextFontSize","legendTitleTextLineHeight","legendTitleTextFontWeight","legendMarkerSize","legendSquareMarkerSize","legendLineMarkerSize","sliderLabelTextFontWeight","sliderHandlerHeight","sliderHandlerBorder","annotationTextLineHeight","annotationTextFontWeight","tooltipCrosshairsLineDash","tooltipTextFontWeight","labelLineHeight","labelFontWeight","innerLabelLineHeight","innerLabelFontWeight","overflowLabelLineHeight","overflowLabelFontWeight","labelLineBorderColor","cSliderRailHieght","pointBorderOpacity","hollowPointActiveBorder","areaActiveFillColor","areaSelectedFillColor","hollowAreaActiveBorderColor","hollowAreaSelectedBorderColor","intervalActiveBorderOpacity","intervalSelectedBorderOpacity","createTheme","themeCfg","styleSheetCfg","themeObject","Themes","registerTheme","snapEqual","value1","value2","filterYValue","yScale","getYScale","yValue","originData","getXDistance","scaleValues","numericValue","getTooltipValueScale","attributes","attribute","getAttributesForLegend","tmpScale","scaleDefs","xScale","getXScale","findDataByPoint","xField","xValue","rangeMax","rangeMin","getXValueByPoint","firstXValue","firstYValue","lastXValue","isYArray","firstIdx","lastIdx","middleIdx","getTooltipItems","showNil","tooltipTitle","getFields","titleField","titleScale","getText","getTooltipTitle","tooltipOption","items","addItem","itemValue","mappingData","callbackParams","itemCfg","valueScale","eachValue","getTooltipValue","nameScale","groupScales","getGroupScales","getTooltipName","getTooltipItemsByFindData","tooltipCfg","dataArray","elementId","getElementId","elementsMap","getTooltipItemsByHitShape","getShape","findItemsFromView","reversed","tooltipItems","reverse","parsePadding","paddingArray","LOAD_COMPONENT_CONTROLLERS","registerComponentController","plugin","option","wrapperOption","CoordinateController","isTheta","props","C","hasAction","transpose","execActions","resetMatrix","sx","sy","includeActions","Event","GEvent","originalEvent","defaultLayout","syncScales","ScalePool","finalScaleDef","cacheScaleMeta","getScaleMeta","cacheScale","cacheScaleDef","scaleKeys","syncKey","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","isContinuous","change","sm","newScale","syncScale","getSyncKey","removeFromSyncScales","scaleMeta","delete","sync","PaddingCal","getPadding","calculatePadding","isAutoPadding","paddingCal","axisComponents","paddingComponents","otherComponents","AXIS","LEGEND","SLIDER","SCROLLBAR","GRID","TOOLTIP","bboxObject","getLayoutBBox","exceed","componentPadding","componentBBox","expand","inc","defaultSyncViewPadding","PC","syncPadding","instance","autoPadding","evt","createViewEvent","doPlotEvent","uniqueId","canvas","backgroundGroup","middleGroup","foregroundGroup","limitInPlot","syncViewPadding","View","layoutFunc","calculateViewBBox","initComponentController","initOptions","isUpdate","payload","BEFORE_RENDER","fromData","paint","AFTER_RENDER","BEFORE_CLEAR","filteredData","coordinateInstance","isDataChanged","isCoordinateChanged","labelsContainer","controllers","createdScaleKeys","getRootView","scalePool","deleteScale","AFTER_CLEAR","BEFORE_DESTROY","interactions","draw","console","warn","filters","legendOption","scaleOption","coordinateCfg","coordinateController","facetInstance","coordinateBBox","opt","existInteraction","interaciton","createInteraction","BEFORE_CHANGE_DATA","changeData","AFTER_CHANGE_DATA","sharedOptions","getOption","legends","removedView","yScales","dimType","defaultKey","getScaleKey","layer","BG","MID","getGroupAttributes","xScales","getScalesByDim","showTooltip","hideTooltip","lockTooltip","unlockTooltip","isTooltipLocked","dataLen","snapRecords","getSnapRecords","curStart","curEnd","bl","tr","adjust","renderDataRecursive","BEFORE_PAINT","renderPaddingRecursive","renderLayoutRecursive","renderBackgroundStyleShape","renderPaintRecursive","AFTER_PAINT","backgroundStyleRectShape","addShape","capture","toBack","adjustCoordinate","initComponents","shrink","syncViewPaddingFn","doLayout","paintGeometries","renderComponents","currentScaleDef","mergedScaleDef","createScale","doFilterData","createCoordinate","initGeometries","renderFacet","onDelegateEvents","onCanvasEvent","usedControllers","controllerName","currentInPlot","newEvent","TYPE","isPreMouseInPlot","MOUSE_LEAVE","LEAVE","MOUSE_ENTER","ENTER","filterData","createOrUpdateScales","getGeometryScales","adjustScales","getScaleFields","groupedFields","getGroupedFields","getGroupFields","adjustCategoryScaleRange","xyScales","getYScales","scaleOptions","isIdentity","doAnimation","canvasRegion","_e","events","geometryOption","createGeometry","interactionOption","viewOption","annotationComponent","annotationOption","eventCallback","rest","geometry_1","registerGeometry","pixelRatio","supportCSSTransform","_f","wrapperElement","createDom","appendChild","Canvas","updateCanvasStyle","bindAutoFit","initDefaultInteractions","Chart","ariaOption","BEFORE_CHANGE_SIZE","AFTER_CHANGE_SIZE","aria","dom","unbindAutoFit","parentNode","modifyCSS","verticalAlign","onResize","Controller","includeOption","show","hide","isVisible","getTitle","dataPoint","getTooltipCfg","lastItems","lastTitle","tooltipMarkersGroup","renderTooltip","getItemsAfterProcess","renderTooltipMarkers","isCrosshairsFollowCursor","renderCrosshairs","xCrosshair","yCrosshair","isLocked","setCapture","guideGroup","reset","tooltipCrosshairsGroup","snapItem","aItem","yDistance","uniqItems","subItem","getContainer","getBoundingClientRect","isPointIn","processOption","processCustomContent","defaultCfg","currentCustomContent","customContent","content","getTooltipMarkersGroup","rootView","attrs_1","crosshairsType","renderXCrosshairs","renderYCrosshairs","getViewWithGeometry","getTooltipCrosshairsGroup","getCrosshairsText","Crosshair","Line","textCfg","firstItem","getGuideGroup","toFront","childView","originalItems","customItems","ANIMATIONS_MAP","getAnimation","registerAnimation","DEFAULT_ANIMATE_CFG","appear","duration","easing","enter","leave","GEOMETRY_ANIMATE_CFG","delay","GEOMETRY_GROUP_APPEAR_ANIMATION","getDefaultAnimateCfg","elementName","animateType","animateCfg","doAnimate","parsedAnimateCfg","repeat","parseAnimateConfig","animateFunction","toAttrs","shapeFactory","offscreenGroup","elementIndex","model","shapeType","getShapeType","drawShape","setShapeInfo","getOffscreenGroup","newShape","origin","syncShapeStyle","getAnimateCfg","labelShape","statesStyle","stateStatus","sortZIndex","setZIndex","offscreenShape","eventObject","propagationDelegate","labelBBox","stateOption","defaultShapeType","stateTheme","shapeKey","getStatesStyle","stateCfg","shapeStyle","cfg_1","AFTER_DRAW_ANIMATE","name_1","BEFORE_DRAW_ANIMATE","GroupCtor","getGroupBase","clip","newClip","newChildren","name_2","getStateStyle","stopAnimate","GEOMETRY_LABELS_MAP","GEOMETRY_LABELS_LAYOUT_MAP","getGeometryLabel","registerGeometryLabel","getGeometryLabelLayout","registerGeometryLabelLayout","layoutFn","ShapeFactoryBase","getShapePoints","shapePoint","getPoints","getDefaultPoints","getDefaultStyle","geometryTheme","getMarker","markerCfg","ShapeBase","parsePath","parsedPath","parsePathString","convertNormalPath","parsePoint","parsePoints","ShapeFactoryMap","registerShapeFactory","factoryName","geomObj","registerShape","shapeObj","getShapeFactory","isModelChange","currentModel","preModel","parseFields","keyItem","added","updated","removed","keyIncluded","sortable","intervalPadding","dodgePadding","zIndexReversed","userTheme","Geometry","positionCfg","attributeOption","createAttrOption","adjustCfg","adjusts","adjustOption","styleFunc","styleOption","animateOption","secondParam","thirdParam","labelOption","customOption","setCfg","initAttributes","processData","adjustScale","lastAttributeOption","defaultSize","beforeMappingData","beforeMapping","mapping","updateElements","lastElementsMap","canDoGroupAnimation","yMinPoint","getYMinValue","minYPoint","doGroupAppearAnimate","renderLabels","geometryLabel","idFields","hasSorted","attrName","adjustType","shapeName","xVal","yVal","length_2","dodgeAdjust","getAdjust","dodgeBy","attributeType","eachOpt","length_3","uniqMap","groupFields","length_4","attributeName","mappingArray","xScale_1","xField_1","obj1","obj2","updateStackRange","normalizeValues","y0","mappingDatum","shapeCfg","getDrawCfg","customInfo","defaultStyle","getStyleCfg","generatePoints","nextPoints","mappingDataArray","keyDatum","keyIndex","finalKey","currentShapeCfg","preShapeCfg","coordinateType","labelType","attrCfg","AttributeCtor","getAttributeClass","categoryScales","groupedArray","groupData","beforeAdjust","subData","subLen","adjustData","xScale_2","xDimensionLength","groupNum","sizeAttr","adjustNames","dodgeRatio","getDefaultValue","reverseOrder","adjustCtor","getAdjustClass","dimValuesMap","adjustInstance","process","appendConditions","eachGroup","group","mergeArray","tmpMin","tmpMax","length_5","currentData","generateShapePoints","nextData","shapeAttr","createShapePointsCfg","getAttributeValues","newRecord","_origin","mappingRecord","rstX","rstY","xLen","yLen","getLabelType","labelsMap","labelsRenderer","shapesMap","labelId","filterLabelsById","labelChildren","getMatrix","setMatrix","rotate","rotateRadian","getRotateMatrix","findLabelTextShape","getlLabelBackgroundInfo","labelGroup","labelItem","boxPadding","rotation","checkShapeOverlap","dones","lastShapesMap","Labels","createOffscreenGroup","renderLabel","renderLabelLine","renderLabelBackground","adjustLabel","origin_1","currentAnimateCfg","currentShape","updateLabel","updateAnimateCfg","fromChild","toChild","getChildByIndex","getCount","deleteShape","shapeAppendCfg","isShape","layouts","labelShapes_1","geometryShapes_1","labelItems","labelLineCfg","labelContentShape","backgroundShape","labelShapes","findAll","offsetX","offsetY","avg","GeometryLabel","mapppingArray","labelCfgs","getLabelCfgs","labelCfg","labelContent","total","subIndex","getLabelPoint","getLabelAlign","getLabelItems","getLabelsRenderer","getGeometryShapes","defaultLabelCfg","getDefaultLabelCfg","labelPointCfg","getOffsetVector","factor","offsetPoint","getDimValue","isAvg","isFunnel","centroid","former","getPolygonCentroid","point1","point2","setLabelPosition","getLabelOffsetPoint","labelScales","callbackCfg","originText","getLabelText","originValues","getLabelId","getLabelOffset","labelTexts","subVal","actualOffset","getMappingValue","restArgs","MarkerSymbols","diffX","diffY","STROKES_SYMBOLS","setMarkerSymbol","getLegendLayout","getLegendItems","themeMarker","userMarker","field_1","colorAttr_1","shapeAttr_1","defaultColor_1","isInPolar_1","getTicks","scaleValue","filterFieldData","getShapeMarker","isInPolar","adpatorMarkerStyle","getLegendThemeCfg","legendTheme","isValueEmpty","isYNil","getPathPoints","connectNulls","showSinglePoint","filtered","getViolinPath","getSmoothViolinPath","half","leftPoints","rightPoints","leftPath","rightPath","getStyle","isStroke","isFill","sizeName","getBackgroundRectStyle","splitPoints","eachY","LineSymbols","getLineMarker","getSinglePath","getPath","isStack","topPoints","bottomPoints","topPath","bottomPath","getRangePath","shapeAttrs","eachLinePoints","getShapeAttrs","LineShapeFactory","VERSION","Util","zoom","antvDark","legendSpacing","overflowLabelFillColorDark","overflowLabelFillColorLight","createDarkStyleSheet","x1","y1","x2","y2","inBox","intersectRect","isSamePoint","regexLG","regexRG","regexPR","regexColorStop","addStop","itemArr","addColorStop","parseStyle","gradientStr","exec","tanTheta","tan","tanTheta2","createLinearGradient","parseLineGradient","fx","fy","fr","colors","createRadialGradient","parseRadialGradient","patternStr","pattern","img","onload","createPattern","Image","crossOrigin","complete","parsePattern","CanvasPattern","vMag","vRatio","u","vAngle","acos","getArcParams","startPoint","rx","ry","xRotation","arcFlag","sweepFlag","xp","yp","lambda","cxp","cyp","cx","cy","theta","dTheta","_addDefaultArrow","isStart","arrowShape","Path","isArrowShape","rotateAtPoint","_addCustomizedArrow","endArrow","arrowAttrs","startArrow","arrowFill","arrowStroke","arrowLineWidth","restAttrs","getShortenOffset","addStartArrow","addEndArrow","SHAPE_ATTRS_MAP","applyAttrsToContext","setLineDash","globalAlpha","drawChildren","skipDraw","checkRefresh","refreshElements","parent_1","refresh","setChildrenRefresh","checkChildrenRefresh","hasChanged","checkElementRefresh","cacheCanvasBBox","isInView","drawPath","arcParamsCache","currentPoint","startMovePoint","beginPath","command","ArrowUtil","tangent","getStartTangent","getEndTangent","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","arcParams","ellipse","closePath","refreshElement","changeType","_cacheCanvasBBox","getRefreshRegion","region1","region2","cacheBox","validCache","validBBox","Group","save","createPath","restore","_afterDraw","xArr","yArr","viewRange","getViewRange","allowDraw","_applyClip","AbstractGroup","getDefaultAttrs","getHitLineWidth","getBBoxMethod","bboxMethod","halfLineWidth","isClipShape","canvasBBox","getCanvasViewBox","strokeAndFill","afterDrawPath","refX","refY","isInStrokeOrPath","AbstractShape","Circle","absDistance","ellipseDistance","squareX","squareY","Ellipse","halfLineWith","isCanvas","nodeName","ImageShape","_setImage","image_1","_afterLoading","originValue","onAttrChange","swidth","sheight","drawImage","inLine","halfWidth","LineUtil","pointToLine","setArrow","startArrowDistance","endArrowDistance","startArrowShape","endArrowShape","pointAt","Symbols","Marker","_resetParamsCache","_getR","path2Absolute","_getPath","isPointInPath","getOffScreenContext","dcmp","onSegment","isInPolygon","isHit","hasArc","cmd","extractPolygons","polygons","polylines","isPointInStroke","segments","segment","QuadUtil","pointDistance","CubicUtil","inArc","PathUtil","isInPolygons","_setPathArr","path2Segments","getSegments","getTotalLength","extractResutl","totalLength","_calculateCurve","_setTcache","subt","tCache","curve","nextSeg","pathToCurve","segmentT","segmentL","segmentN","tempLength","endPoint","startTangent","endTangent","inPolyline","isClose","Polygon","PolyLine","_resetCache","PolylineUtil","Rect","inRectWithRadius","inRect","Text","_assembleFont","_setText","assembleFont","textArr","subY","spaceingY","_getSpaceingY","getTextHeight","subText","fillText","strokeText","_drawTextArr","_drawText","getRefXY","totalMatrix","getTotalMatrix","multiplyVec2","invertFromMatrix","preTest","isAllowCapture","isClipped","devicePixelRatio","ceil","setDOMSize","getPixelRatio","_clearFrame","clearRect","curShape","isInShape","viewRegion","minXArr","minYArr","maxXArr","maxYArr","getMergedRegion","mergeView","drawFrame","clearAnimationFrame","_startDraw","_getRefreshRegion","clearChanged","_drawRegion","_drawAll","AbstractCanvas","version","SHAPE_TO_TAGS","polyline","SVG_ATTR_MAP","fillStyle","strokeStyle","lineDashOffset","miterLimit","class","preserveAspectRatio","createSVGElement","createElementNS","getParent","sortDom","sorter","childList","toArray","fragment","createDocumentFragment","setTransform","hasAttribute","addClip","parentChildren","clipPathEl","defsEl","targetIndex","node","nodeType","currentIndex","insertBefore","targetNext","children_1","innerHTML","targetAttrs","afterAttrsChange","canFill","canStroke","shadow","_setColor","trim","addGradient","addPattern","blur","addShadow","setShadow","elementFromPoint","isEqualNode","Dom","toDataURL","ImageData","putImageData","addArrow","getDefaultArrow","triangleDown","register","getAll","_assembleMarker","symbolsFactory","_formatPath","newValue","getPointAtLength","Polyline","completed","pathRelatedAttrs","_assembleRect","BASELINE_MAP","middle","alphabetic","hanging","BASELINE_MAP_FOR_FIREFOX","ANCHOR_MAP","_setFont","browser","detect","baseline","textLen_1","arr_1","stops","Gradient","self","ATTR_MAP","shadowOpacity","SHADOW_DIMENSION","Shadow","_parseShadow","config","Arrow","_setDefaultPath","_setMarker","Clip","shapeEl","Pattern","Defs","defaultArrow","arrow","autoDraw","ev","srcElement","tagName","keyData","getShapeInfo","getPointsAndData","registeredShape","topLinePoints_1","bottomLinePoints_1","pointsData","parsedPoints","pathPoints","eachPoints","getConstraint","pointInfo","yItem","AreaShapeFactory","startOnZero","Area","EdgeShapeFactory","Heatmap","prepareRange","prepareSize","blur_1","prepareGreyScaleBlurredCircle","drawWithRange","clearShadowCanvasCtx","paletteCache","colorField","getDefaultSize","grayScaleBlurredCanvas","getGrayScaleBlurredCanvas","valueField","getShadowCanvasCtx","alpha","drawGrayScaleBlurredCircle","colored","getImageData","colorize","imageShape","getImageShape","ticks","shadowCanvas","colorAttr","pixels","palette","ColorUtil","rgb2arr","getRectPoints","yMin","yMax","xMin","xMax","getRectPath","isClosed","firstPoint","minLength","getBackgroundRectPath","p0","getFunnelPath","isPyramid","swap","backgroundCfg","backgroundPath","p3","_g","getRectWithCornerRadius","coor","getIntervalRectPath","xValues","sourceArr","findMinDistance","normalizedSize","wr","dodgeCount","mergeData","getDodgeCount","normalizedMaxColumnWidth","normalizedMinColumnWidth","Interval","SHAPES","drawPoints","pointPosition","PointShapeFactory","Point","subX","PolygonShapeFactory","temp","xOffset","yOffset","Schema","sizeArr","maxValue","normalizeSize","_size","isMin","isMax","ViolinShapeFactory","Violin","_sizeField","sizeField","getCPath","getQPath","getArcShapePath","arc1","arc2","getArcShapeWeightPath","c1","c2","getSmoothPath","getVHVPath","newStyle","getTickPoints","getInterpolateShapeAttrs","interpolatePoints","interpolatePoint","nextX","nextY","middleX","middleY","interpolateCallback","getInterpolatePoints","getInterpolatePath","parseValue","min1","max1","median","getBoxPoints","pointsArray","halfSize","getCandleYValues","sorted","targetLength","padValue","padEnd","sourceLength","getCandlePoints","yValues","getRectAttrs","IntervalLabel","dir","getLabelValueDir","point0","nextP0","nextP1","HALF_PI","PolarLabel","labelEmit","arcPoint","isToMiddle","getMiddlePoint","getArcPoint","getPointAngle","isLabelEmit","labelPositionCfg","getLabelRotate","labelAngle","asin","PieLabel","isLabelLimit","antiCollision","plotRange","invisible","overlapping","startY","endY","totalHeight","MIN_VALUE","boxes","targets","pos","previousBox","posInCompositeBox","bitmap","xGap","yGap","Greedy","hasGap","adjustLabelPosition","getAxes","deg","getProjection","scalars","isProjectionOverlap","projection1","projection2","isValidNumber","isValidBox","isIntersect","isIntersectRect","rect1Points","rect2Points","preset","shouldInShape","textShape","textBBox","fromObject","shouldInShapeSingle","hasSome","compare","rightText","doScaleAnimate","endMatrix","scaledMatrix","transformShape","arcPath","getArcStartPoint","getArcInfo","arcPaths","firstArcPathCommand","lastArcPathCommand","firstIndex","lastIndex","firstStartPoint","lastStartPoint","firstStartAngle","firstEndAngle","lastStartAngle","lastEndAngle","doShapeZoom","getFactTitleConfig","getAnglePoint","getDefaultTitleCfg","renderTitle","avgAngle","facetR","processAxis","getFieldValues","facetData","getFacetDataFilter","getRegion","columnValue","columnField","columnIndex","columnValuesLength","rowValue","rowField","rowIndex","rowValuesLength","List","colValues","getPageCount","getRowCol","col","pageSize","Matrix","columnTitle","rowTitle","facetIndex","Mirror","reflect","columnValues","rowValues","drawLines","Tree","afterChartRender","rootFacet","getRows","getChildFacets","setRegion","forceColIndex","xWidth","yWidth","leafs","isLeaf","getFacetsByLevel","originColIndex","getRegionIndex","addFacetLines","subFacet","subRegion","middle1","middle2","drawLine","getMedian","getNormalizedValue","scaled","ANNOTATIONS_AFTER_RENDER","foregroundContainer","backgroundContainer","Annotation","onAfterRender","updateOrCreate","getCacheKey","syncCache","updateCache","clearComponents","doWhat","AnnotationComponent","getAnnotationTheme","getAnnotationCfg","isTop","NONE","ANNOTATION","xPos","yPos","parsePercentPosition","startIndex","viewData","startXValue","endXValue","parsePosition","topLeft","sp","ep","textPoint","textContent","getCoordinateBBox","start_5","end_5","lineLength","getRegionPoints","_h","apply_1","shapes_1","addShapes_1","elem","_j","render_1","restOptions","_k","html_1","html","getComponentContainer","createAnnotation","newCache","getGridThemeCfg","getLineGridItems","tickValue","preTick","currentTick","currentValue","middleValue","getCircleGridItems","preValue","showGrid","userGrid","themeGrid","OMIT_CFG","AXIS_DEFAULT_ANIMATE_CFG","gridContainer","gridForeContainer","axisContainer","axisForeContainer","updatedCache","updateXAxes","updateYAxes","xAxisOption","axisId","getId","gridId","getLineAxisCfg","createLineAxis","getLineGridCfg","createLineGrid","RADIUS","getCircleAxisCfg","createCircleAxis","getCircleGridCfg","CIRCLE","createCircleGrid","yAxisOption","titleText","axisThemeCfg","optionWithTitle","verticalFactor","isAxisVertical","canvasWidth","canvasHeight","gridThemeCfg","gridCfg","verticalScale","directionToPosition","parentBBox","tl","br","getLegendOption","getDirection","layoutBBox","maxWidthRatio","maxHeightRatio","maxSize","getCategoryLegendSizeCfg","maxHeight","setLocation","cut","existCo","getComponentById","customCfg","getCategoryCfg","createCustomLegend","loopLegends","getContinuousCfg","createFieldLegend","getGeometries","doEach","looped","createContinuousLegend","createCategoryLegend","containMin","containMax","attrValue","attrLegendCfg","mergeLegendCfg","custom","themePageNavigator","userPageNavigator","itemMarker","getCustomLegendItems","baseCfg","categoryCfg","vw","noop","changeViewData","onChangeFn","onValueChange","resetMeasure","Slider","getSliderCfg","updateSlider","createSlider","measureSlider","getMinMaxText","minText","maxText","SliderComponent","trendCfg","getThemeOptions","ticks_1","dataSize","xTickCount","minIndex","maxIndex","xScaleValues","getValidScrollbarCfg","originalAnimate","getScrollRange","trackLen","thumbLen","Scrollbar","updateScrollbar","createScrollbar","measureScrollbar","getScrollbarComponentCfg","isHorizontal","thumbOffset","cnt","xScaleCfg","yScalesCfg","thumbHighlightColor","restStyles","getScrollbarData","getStep","getCnt","startIdx","endIdx","tickMethod","ScrollbarComponent","realConfig","categorySize","getScrollbarTheme","DEFAULT_REGION_PATH_STYLE","getItemsOfView","findItemsFromViewRecurisive","ActiveRegion","xValue_1","elements_1","coordinate_1","firstBBox_1","lastBBox_1","groupBBox_1","appendRatio","appendWidth","firstElement","lastElement","innterRadius","regionPath","TooltipAction","lastTimeStamp","timeStamp","preLoc","location","curLoc","isCursorEntered","SiblingTooltip","siblingPoint","EllipsisText","tipContent","tooltipStyles","StateBase","enable","setStateEnable","clearViewState","setElementState","getItem","ElementState","list","ignoreListItemStates","setElementsStateByItem","isMathItem","setStateByElement","isItemIgnore","event_1","setStateByComponent","ElementActive","StateAction","LinkByColor","nextElement","nextBBox","activeStyle","getLinkPath","getColorScale","getElementsByField","group_1","linkGroup","count_1","nextEl","addLinkShape","linkByElement","removeLink","ElementRangeState","isStarted","effectSiblings","effectByRecord","setSiblingsState","allElements","setSiblingsStateByRecord","setElementsState","effectElements","ElementRangeActive","ElementSingleState","ElementSingleActive","clearHighlight","setHighlightBy","EVENTS","STATUS_UNACTIVE","INACTIVE","STATUS_ACTIVE","ACTIVE","ElementHighlight","setElementHighlight","activeElements","allCancel_1","HighlightColor","highlightElements","Highlight","HighlightX","ElementRangeHighlight","BEFORE_HIGHLIGHT","AFTER_HIGHLIGHT","ElementSingleHighlight","ElementRangeSelected","ElementMultipleSelected","ElementSingleSelected","ListState","info","allowSetStateByElement","getAllowComponents","clearItemsState","componentNames","ignoreStates","ignoreItemStates","setItemsState","allowSetStateByItem","setItemState","getItems","triggerInfo","getTriggerListInfo","clearAllComponentsState","ListActive","ListHighlight","activeItems","getItemsByState","ListSelected","ListUnchecked","ListChecked","setCheckedBy","list_1","ListFocus","clickedItem","checkedItems","uncheckedItems","checkedItem","TIP_ID","ListRadio","containerId","MaskBase","maskAttrs","getMaskAttrs","draggable","emitEvent","starting","moving","createMask","updateMask","maskStyle","preMovePoint","CircleMask","RectMask","clampPoint","DimRect","normalStart","normalEnd","inPlot","PathMask","resize","SmoothPathMask","getSpline","CursorAction","cursor","setCursor","DataFilter","filterView","unCheckedItems","scale_1","names_1","getValue","max_1","min_1","getFilter","minValue","RangeFilter","dims","BEFORE_FILTER","normalCurrent","hasDim","reRender","FILTER","AFTER_FILTER","BEFORE_RESET","RESET","AFTER_RESET","SiblingFilter","ElementFilter","maskElements_1","byRecord","filterByRecord","filterByBBox","maskElements","ButtonAction","buttonCfg","getButtonCfg","buttonShape","buttonGroup","drawButton","resetPosition","Drag","dragStart","Move","startMatrix","isMoving","ScaleTranslate","cacheScaleDefs","resetDim","startCache","noramlCurrent","translateDim","translateLinear","TransformAction","zoomRatio","zoomDim","dRatio","zoomLinear","toMin","toMax","MousewheelScroll","wheelDelta","scrollbarController","currentRatio","nextStart","deltaY","isWheelDown","correction","nextRatio","setValue","isPointInView","isInPlot","preventDefault","CanvasEngine","SVGEngine","Edge","greedy","fillGap","totalHeight_1","lineHeight_1","plotRange_1","halves_1","maxLabelsCountForOneSide","isRight","rPow2","dyPow2","innerPoint","itemX","itemY","maxTimes","dxdy","maxDelta","nt","times","accessedCache","spiralFill","label1","label2","regionMinX","regionMinY","regionMaxX","regionMaxY","finalX","finalY","translateX_1","textBox","DOT_WIDTH","getEllipsisText","labelOffset","separateLabels","totalR","labelsContainerRange","dxPow2","dx_offset","smoothConnector","atan","breakPoint","breakPoint3","xSign","slope1","slope2","E","drawLabelline","overflow","fillWhite","rgb","toRGB","isContrastColorWhite","moveInShape","filteredLabels","pages","filterLabel","todo","groupedLabels","addCurrentGroup","curItems","sortedCollections","sortedLabels","sortLabels","downFail","inRight","inflectionPoint","totalOffset","halfHeight","originalPos","pathCommands","curStartAngle","curEndAngle","preStartAngle","preEndAngle","diffStartAngle","diffEndAngle","onFrameStartAngle","onFrameEndAngle","EllipsisTextAction","ElementHighlightByX","ElementHighlightByColor","ElementSelected","ElementLinkByColor","DimMask","DataRangeFilter","ElementSiblingFilter","ViewDrag","ViewMove","ScaleZoom","showEnable","processing","rollback","SPACES","PATH_COMMAND","PATH_VALUES","pathString","paramCounts","catmullRomToBezier","iLen","ellipsePath","res","pathToAbsolute","pathArray","pa0","dots","mx","my","crz","pa","ii","jj","kk","l2c","q2c","ax","ay","a2c","large_arc_flag","sweep_flag","recursive","xy","f1","f2","_120","rx2","ry2","df","f2old","x2old","y2old","hx","hy","m1","m2","m3","m4","newres","path2","bx","by","X","Y","qx","qy","attrs2","pcoms1","pcoms2","pfirst","pcom","processPath","nx","ny","T","Q","fixArc","pp","pi","fixM","path1","a2","seg2","seglen","seg2len","p2s","parsePathArray","base3","p4","bezlen","x3","y3","x4","y4","z2","Tvalues","Cvalues","ct","xbase","ybase","comb","curveDim","x0","tvalues","bounds","b2ac","sqrtb2ac","t1","t2","mt","jlen","intersect","denominator","px","py","px2","py2","isPointInsideBBox","rectPath","r0","vb","bezierBBox","p1x","p1y","c1x","c1y","c2x","c2y","p2x","p2y","findDotsAtSegment","t13","t12","t3","interHelper","bez1","bez2","justCount","bbox1","bbox2","isBBoxIntersect","n1","n2","dots1","dots2","di","di1","dj","dj1","ci","cj","is","intersection","x1m","y1m","x2m","y2m","pj","intr","segment1","segment2","interPathHelper","decasteljau","recurse","middlePoints","splitSegment","leftSegments","splitCurve","fillPath","sourceLen","targetLen","segmentsToFill","filled","getMinDiff","del","modify","fillPathByDiff","diffMatrix","sourceSegment","targetSegment","levenshteinDistance","changes","minPos","_splitPoints","formerEnd","_getSegmentPoints","formatPath","fromPath","toPath","GraphEvent","defaultPrevented","propagationStopped","removeFromArray","isBrowser","isParent","multiplyMatrix","a00","a01","a02","a10","a11","a12","a20","a21","a22","b00","b01","b02","b10","b11","b12","b20","b21","b22","det","CLONE_CFGS","RESERVED_PORPS","getFormatFromAttrs","fromAttrs","getFormatToAttrs","checkExistedAttrs","animations","onFrame","startTime","initAttrs","initAnimate","getDefaultMatrix","setAttr","applyTo","onCanvasChange","currentMatrix","parentMatrix","Cons","getShapeBase","_cloneArrayAttr","cons","cfgName","isPaused","timeline","timer","initTimer","pauseCallback","resumeCallback","formatToAttrs","getTime","pathFormatted","addAnimator","toEnd","pauseTime","_paused","_pauseTime","eventObj","relativeShape","paths","propagationPath","getEvents","subName","emitDelegateEvent","this_1","currentTarget","delegateTarget","translateX","translateY","newMatrix","targetX","targetY","move","ratioX","ratioY","SHAPE_MAP","Container","_applyChildrenMarix","preTotalMatrix","groupClass","tmpCfg","TmpGroupClass","_findShape","preParent","setCanvas","setTimeline","_applyElementMatrix","contain","taskHead","taskTail","frame","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","Timer","_call","_time","_next","time","restart","wake","timerFlush","t0","sleep","nap","poke","clearInterval","setInterval","stop","definition","reI","reN","reP","reHex","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","formatHex","color_formatRgb","formatRgb","format","rgbn","Rgb","rgba","hsla","NaN","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","Hsl","hslConvert","hsl2rgb","basis","v0","v3","copy","channels","displayable","formatHsl","brighter","darker","gamma","nogamma","exponential","constant","rgbGamma","colorRgb","rgbSpline","spline","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","reA","reB","am","bm","bs","bi","one","zero","string","date","numberArray","valueOf","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","polyIn","exponent","polyOut","polyInOut","halfPi","sinIn","sinOut","sinInOut","tpmt","expIn","expOut","expInOut","circleIn","circleOut","circleInOut","b0","bounceIn","bounceOut","bounceInOut","backIn","overshoot","backOut","backInOut","tau","elasticIn","amplitude","period","elasticOut","elasticInOut","EASING_MAP","registerEasing","easeFn","IDENTITY_MATRIX","elapsed","d3Ease","cProps","interf","toPathPoint","fromPathPoint","cPathPoint","interpolate","_update","Timeline","d3Timer","animators","removeAnimator","isAnimatePaused","animator","emitTargetEvent","bubbleEvent","bubbles","isOverEvent","EventController","_triggerEvent","dragging","_getPointInfo","_emitEvent","draggingShape","_afterDrag","_bindEvents","_eventCallback","_onDocumentMove","_onDocumentMouseUp","clientPoint","getClientByEvent","getPointByEvent","_getShape","leaveCanvas","preShape","button","mousedownShape","mousedownPoint","mousedownTimeStamp","isCanvasEmit","_emitMouseoverEvents","_emitDragoverEvents","timeWindow","_getEventObj","emitDelegation","_clearEvents","isFirefox","initContainer","initDom","initTimeline","eventController","layerX","layerY","clientInfo","touches","changedTouches","removeDom","clearCacheBBox","calculateBBox","calculateCanvasBBox","topRight","bottomLeft","bottomRight","shadowLeft","shadowRight","shadowTop","shadowBottom","vec","inBBox","_isInBBox","isOnlyHitBox","getMethod","mergeBBox","mergeArrowBBox","offScreenCtx","lineCount","getLineSpaceing","getExtraFromSegmentWithAngle","currentAndPre","currentAndNext","preAndNext","currentAngle","xExtra","yExtra","xAngle","yAngle","getBBoxByArray","measureWidth","getTextWidth","segmentsWithAngle","EllipseArcUtil","getPathBox","eventType","attachEvent","detachEvent","TABLE","TABLE_TR","FRAGMENT_REG","CONTAINERS","tbody","thead","tfoot","td","th","$1","getOuterHeight","offsetHeight","bTop","pTop","pBottom","getOuterWidth","offsetWidth","bLeft","pLeft","pRight","bRight","mRight","css","seriesField","removeInteraction","meta","constant_1","annotationOptions","annotationController","COPY_PROPERTIES","COPY_PROPERTIES_EXCLUDES","GroupComponent","isRegister","isUpdating","isInit","clearOffScreenCache","localId","offScreenRender","offScreenGroup","deleteElements","applyOffset","initEvent","removeEvent","getInnerLayoutBBox","applyMatrix2BBox","initGroup","getDelegateObject","moveElementTo","isComponent","createOffScreenGroup","renderInner","appendDelegateObject","registerElement","restCfg","inst","updateAutoRender","getMatrixByTranslate","elmentName","originOpacity","originElement","newGroup","originGroup","preElement","childComponent","origChildComponent","newCfg","replaceAttrs","updateAnimation","registerNewGroup","addAnimation","parentObject","deleteArray","callbackAnimCfg","removeElement","removeAnimation","Component","minNum","maxNum","getBBoxRange","piMod","tangentAngle","nearestPoint","tCallback","segNum","increaseRate","_t","d2","quadraticAt","onet","extrema","derivativeAt","divideQuadratic","xt","yt","controlPoint1","controlPoint2","xExtrema","yExtrema","quadraticLength","iterationCount","quadratics","interpolationAt","divide","cubicAt","discSqrt","extremas","disc","divideCubic","c3","c12","c23","cubicLength","snapLength","cubics","copysign","absv","nearestX","nearestY","relativeX","relativeY","squareA","squareB","ex","ey","rx1","ry1","hypot","xAt","yAt","getPoint","yDim","relativeVector","relativePoint","derivativeXAt","derivativeYAt","analyzePoints","lengthOfSegment","pointAtSegments","startRatio","localRatio","angleAtSegments","distanceAtSegment","minDistance","distance_1","ARRAY_TYPE","Float32Array","RANDOM","random","glMatrix","fromMat4","fromValues","m00","m01","m02","m10","m11","m12","m20","m21","m22","adjoint","determinant","fromMat2d","fromQuat","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","frob","multiplyScalar","multiplyScalarAndAdd","exactEquals","equals","a0","a3","a4","a5","a6","a7","a8","b1","b2","b3","b4","b5","b6","b7","b8","mul","identityMatrix","getMatrixByAngle","getAngleByMatrix","applyRotate","applyTranslate","translateMatrix","NAME_CLASS","CROSSHAIR_X","CROSSHAIR_Y","getMappingField","shapeField","styleField","rawFields","mappingFields","tileMappingField","getMappingFunction","tooltipFields","regexTags","regexDot","catmullRom2Bezier","REGEX_MD","toSymmetry","needProcess","preParams","upCmd","symetricT","symetricS","TAU","mapToEllipse","cosphi","sinphi","centerx","centery","approxUnitArc","ang1","ang2","vectorAngle","ux","uy","vx","vy","arcToBezier","xAxisRotation","largeArcFlag","curves","pxp","pyp","rxsq","rysq","pxpsq","pypsq","radicant","centerxp","centeryp","vx1","vy1","vx2","vy2","getArcCenter","arcToCubic","LAF","SF","quadToCubic","lineToCubic","segmentToCubic","needZCommandIndexes","allPathCommands","pathCommand","zCommandIndexes","ni","pathIntersection","path2Curve","nextParams","lastStartMovePointIndex","cp","preSegment","dx1","dy1","dx2","dy2","getLineIntersect","D0","D1","kross","parseToLines","lines","points1","points2","isPointInPolygon","lines1","lines2","lineIntersectPolygon","charAtLength","charCodeAt","getMaxLabelWidth","texts","maxLen","maxIdx","code","getMaxLabelWidthOptimized","ellipsisLabel","limitLength","ellipsisText","labelLength","getLabelLength","codeLength","strLen","ellipsisFlag","reserveLength","newText","reseveLength","startStr","endStr","endIndex","startCodeLen","hasAdd","endCodeLen","ellipsisString","defaultFields","Adjust","dimValue","isAdjust","groupedDataArray","mergedData","getDimValues","adjustDim","DEFAULT_Y","methodCache","registerTickMethod","__cfg__","initCfg","Scale","setDomain","getConfig","calculateTicks","Category","translateIndexMap","buildIndexMap","order","calcPercent","calcValue","scaledValue","domainRange","word","literal","shorten","sLen","newArr","monthUpdate","arrName","i18n","origObj","dayNames","monthNames","monthNamesShort","defaultI18n","dayNamesShort","amPm","DoFn","dayOfMonth","globalI18n","setGlobalDateI18n","regexEscape","pad","formatFlags","D","dateObj","getDate","DD","Do","getDay","dd","ddd","dddd","M","getMonth","MM","MMM","MMMM","YY","getFullYear","YYYY","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","S","getMilliseconds","SS","SSS","A","ZZ","getTimezoneOffset","Z","monthParse","emptyDigits","emptyWord","timezoneOffset","parts","minutes","parseFlags","cent","globalMasks","shortDate","mediumDate","longDate","fullDate","isoDate","isoDateTime","shortTime","mediumTime","longTime","setGlobalDateMasks","masks","mask","literals","$0","combinedI18nSettings","parse","dateStr","dateInfo","year","month","day","hour","minute","second","millisecond","isPm","parseInfo","newFormat","specifiedFields","requiredFields","regex","requiredField","matches","parser","dateWithoutTZ","validateFields","UTC","timeFormat","fecha1","fecha","toTimeStamp","HOUR","DAY","MONTH","intervals","SECOND","MINUTE","getTickInterval","tickCount","_lo","_hi","lo","hi","TimeCat","tickIndex","Continuous","getScalePercent","firstTick","lastTick","minLimit","maxLimit","Linear","getInvertPercent","calBase","getLogPositiveMin","positiveMin","Log","appendPercent","Pow","Time","numberValue","minConfig","maxConfig","timeStamps_1","secondMin_1","minTickInterval","Quantize","minTick","minIndexPercent","Quantile","getClass","registerClass","cls","Identity","prettyNumber","DEFAULT_Q","eps","simplicity","lmin","lmax","lstep","simplicityMax","density","dMin","dMax","lMin","lMax","rt","densityMax","coverage","coverageMax","span","extended","onlyLoose","best","score","dm","delta","log10","cm","minStart","maxStart","i_1","lStep","calculateCatTicks","tickInterval","e10","e5","e2","D3Linear","domain","_domain","i0","i1","tickIncrement","d3ArrayTicks","power","LN10","snapMultiple","snapType","intervalTicks","maxTick","availableInterval","strictLimit","defaultMin","defaultMax","tickMin","tickMax","pretty","unit","nu","quantileSorted","getYear","createYear","creatMonth","cat","catTicks","lastValue","minYear","maxYear","yearInterval","monthInterval","mmMoth","dMonths","minMonth","diffMonth","mday","ddays","diffDay","hours","dHours","diffHour","dMinus","diffMinus","minSecond","dSeconds","seconds","d3Linear","registerScale","RGB_REG","arr2rgb","toHex","iEl","x16Value","defaultView","getPropertyValue","colorArray","fixedPercent","calColor","toCSSGradient","gradientColor","cssColor_1","colorStops_1","HtmlComponent","containerTpl","containerClassName","pointerEvents","resetStyles","applyStyles","initCapture","initVisible","defaultStyles","applyChildrenStyles","containerCss","styles","getElementsByClassName","cssName","hasKey","MARGIN_RATIO","DODGE_RATIO","GAP","ADJUST_MAP","registerAdjust","stateStyles","styleName","normalPadding","append","currentAppendPadding","PADDING","paddings","normalPaddings","finalPadding","patternOption","colorAttribute","seriesValue","pattern_1","measure","groupField","as","sumMap","groupValue","number_1","percentage","asField","isPercent","minSize","conversionTag","Dodge","Jitter","Stack","Symmetric","LOCATION_FIELD_MAP","none","locationType","updateInner","afterUpdate","scaleAndAdd","squaredDistance","squaredLength","negate","inverse","normalize","lerp","transformMat2","transformMat2d","transformMat4","sinC","cosC","mag","cosine","div","sqrDist","sqrLen","stride","defaultOptions","columnStyle","percentData","percent_1","chartData","stackedItem","tooltipOptions","widthRatio","geometries_1","percentYMeta","common_1","isRange","columnTooltip","tooltipFormatter_1","isBar","brush_1","conversion_tag_1","connected_area_1","itemTpl","blendMode","defaultField","INVALID_FIELD_ERR_MSG","index_1","nodes","ancestors","depth","eachNode","EventEmitter","_events","wildcardEvents","doEmit","es","LocaleMap","locale","localeObj","global_1","numberData","gtZero","ltZero","sourceField","targetField","weightField","links","nodesMap","nodesIndex","weight","rawData","pick_1","invariant_1","WARN","areaStyle","pointOptions","lineOptions","pointState","seriesData","utils_2","primary","constants_1","pointParams","data_1","dividerText","activeTextStyle","DrillDownAction","drill","drawBreadCrumb","breadCrumbGroup","historyCache","backTo","hideCrumbGroup","nodeInfo","transformData","drillData","nodeData","drillDownConfig","deep_assign_1","breadCrumbCfg","breadCrumb","drawBreadCrumbGroup","rootText","textShapeBox","targetId","newHistoryCache","dividerBox","indicator","pointer","pin","statistic","az","bz","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformQuat","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","rotateX","rotateY","rotateZ","BrowserInfo","os","NodeInfo","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","userAgent","parseUserAgent","navigator","product","matchUserAgent","ua","matched","uaMatch","matchedRule","versionParts","output","createVersionParts","detectOS","searchBotMatch","lineStyle","lineShape","pointMapping","areaMapping","areaState","areaParams","lineGeometry","fillRect","isStagger","unitSize","dpr","AxisType","DualAxesGeometry","isColumn","types_1","Column","transformAttribute","axisType","Left","Right","progressStyle","barWidthRatio","clampPercent","plot_1","boxStyle","defaultContent","risingFill","fallingFill","maxYFieldValue","getLineCoordinate","lineOption","formatter_1","hierarchyConfig","sunburstStyle","drilldown","enabled","isParentNode","inCenter","drill_down_1","leaderLine","waterfallStyle","require","Mix","adaptor_1","defaultSeparation","meanXReduce","maxYReduce","separation","nodeSize","cluster","previousNode","eachAfter","meanX","leafLeft","leafRight","hierarchy","mapChildren","objectChildren","childs","Node","eachBefore","computeHeight","copyData","that","ancestor","aNodes","bNodes","leastCommonAncestor","descendants","leaves","node_iterator","circles","shuffle","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","x21","y21","r21","d3","ab","xa","xb","ya","yb","place","intersects","packEnclose","aa","ca","sj","sk","enclose","optional","required","constantZero","defaultRadius","radiusLeaf","packChildren","translateChild","partition","treemapDice","positionNode","roundNode","preroot","ambiguous","defaultId","defaultParentId","parentId","stratify","nodeId","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","nextAncestor","vim","TreeNode","tree","treeRoot","firstWalk","secondWalk","sizeNode","tx","kx","ky","executeShifts","midpoint","vip","vop","vom","sip","sop","sim","som","apportion","phi","squarifyRatio","nodeValue","sumValue","newRatio","minRatio","beta","dice","treemapSlice","squarify","tile","paddingStack","paddingInner","treemap","paddingOuter","sums","valueOffset","valueTarget","valueLeft","valueRight","xk","yk","resquarify","_squarify","BRAND","getMessage","argIndex","deep","adapteStyle","styleObject","justifyContent","alignItems","shapeStyleKeys","_1","setStatisticContainerStyle","plotType","titleOpt","contentOpt","containerW","liquidShape","customHtml","polarCoord","polarCenter","polarMaxY","containerWidth","_len","_key","SensorTabIndex","SensorClassName","SizeSensorId","dot_1","line_1","square_1","tooltip_1","base_1","lineMapping","lineParams","areaGeometry","BRUSH_TYPES","brush","buttonConfig","getInteractionCfg","interactionType","brushType","maskType","reset_button_1","Bar","switchedFieldOptions","verticalAxis","horizontalAxis","coordinateOptions","barStyle","minBarWidth","maxBarWidth","barBackground","columnBackground","Pie","contants_1","prevOptions","angleField","prevData","curData","pieStyle","dataum","angleScale","content_1","labelLayoutType","inner","outer","spider","labelLayoutCfg","transformStatisticOptions","locale_1","titleOpt_1","contentOpt_1","dataValue","metaFormatter","pieAnnotation","startStages_1","interactions_1","stage","radio","defaultOffset","statistic_active_1","legend_active_1","ORIGIN_MATRIX","ulMatrix","getSize","containerSize","padding_1","resolvePadding","getFontSizeMapping","fMax_1","fMin_1","getSingleKeyValues","getRotate","rotationSteps","wordStyle","resolveRotate","perSize","numbers","rawOptions","chartPadding","imageMask","wordField","timeInterval","spiral","placementStrategy","words","hasText","word_cloud_1","rej","HTMLImageElement","onerror","ERROR","rotateRatio","Scatter","transformOptions","isOneX","isOneY","meta_1","util_2","pointStyle","newOptions","shapeLegend","sizeLegend","showLegend","scatterGeometry","scatterAnnotation","quadrant","xBaseline","yBaseline","labels_1","regionStyle_1","defaultConfig_1","regionStyle","labelStyle","regressionLine","defaultStyle_1","style_1","TinyLine","TinyColumn","TinyArea","Histogram","binField","binNumber","binWidth","stackField","histogram_1","getBinKey","originData_copy","rangeWidth","_binWidth","_defaultBinNumber","LN2","sturges","bins","bin","binKey","groupKey","groupKeyBinKey","plotData","Progress","RingProgress","newData","q1_1","median_1","q3_1","high_1","low_1","low","high","q1","quantile_1","q3","minMax","quantile","pdfOptions","pdfResults","pdfast_1","violinSize","violinY","kde","sampleSize","resultList","seriesGroup","series","violinStyle","zeros","norm2","weightedSum","w1","wolfeLineSearch","pk","phi0","phiPrime0","fxprime","phi_old","phiPrime","a_lo","a_high","phi_lo","iteration","bisect","parameters","maxIterations","fA","fB","fMid","nelderMead","maxDiff","nonZeroDelta","zeroDelta","minErrorDelta","minTolerance","rho","chi","psi","sigma","N","simplex","updateSimplex","sortOrder","reflected","contracted","expanded","history","sortedSimplex","worst","shouldReduce","conjugateGradient","delta_k","gradientDescent","learnRate","gradientDescentLineSearch","functionCalls","zerosM","containedInCircles","circleArea","circleCircleIntersection","stats","intersectionPoints","parentIndex","getIntersectionPoints","innerPoints","arcArea","polygonArea","arcs","midPoint","angleDiff","smallest","disjoint","Stock","stockStyle","constant_2","baseMeta","open","close","Funnel","compareField","funnelStyle","defaultOption","conversion_1","dynamicHeight","facet_1","compare_1","dynamic_height_1","basic_1","formatData","datumIndex","initLineOption","getWaterWavePositions","waveLength","getWaterWavePath","waterLevel","phase","_phase","waveRight","addWaterWave","waveCount","waveAttrs","wave","matrix_1","builtInShapeByName","cpX","cpY","outline","border","minXPoint","getFillAttrs","outlineAttrs","getLineAttrs","shapePath","waves","clipPath","measureField","rangeField","ds","rKey","mKey","tKey","flat","DEFAULT_OPTIONS","ignoreParentValue","getTileMethod","d3Hierarchy","tileMethod","Gauge","indicatorView","rangeView","gaugeStyle","meter","indicatorData","rangeData","rangeColor","contentOption","transformContent","processRangeData","newYField","dIdx","hopeData","data1","data2","__axisPosition","findInteraction","enableInteraction","drillDownInteraction","enableDrillDown","treemap_1","curPath","ancestorNode","getNodeWidthRatio","nodeWidth","nodeWidthRatio","getNodePaddingRatio","nodePadding","nodePaddingRatio","sankeyLayoutInputData","dataType","nodeAlign","nodeSort","nodeDepth","isNodeLink","circle_1","layout_1","isNode","edges","link","targetDepth","sourceLinks","targetLinks","nodeStyle","edgeStyle","PLOT_ADAPTORS","pie","adaptor_2","column","adaptor_3","bar","adaptor_4","adaptor_5","gauge","adaptor_6","adaptor_7","adaptor_8","adaptor_9","adaptor_10","progress","adaptor_11","scatter","adaptor_12","histogram","adaptor_13","adaptor_14","stock","adaptor_15","PLOT_CONSTRUCTOR","pie_1","column_1","bar_1","area_1","gauge_1","tiny_line_1","tiny_column_1","tiny_area_1","ring_progress_1","progress_1","scatter_1","funnel_1","stock_1","DEFAULT_OPTIONS_MAP","plot","renderTag","tagCfg","maxLength","ellipsisPosition","tagGroup","maxTextLength","LineAnnotation","Theme","renderLine","TextAnnotation","resetLocation","getLocation","textGroup","getElementByLocalId","ArcAnnotation","renderArc","largeFlag","RegionAnnotation","renderRegion","ImageAnnotation","renderImage","getImageAttrs","DataMarkerAnnotation","renderText","renderPoint","textAttrs","isVertival","findById","lineDisplay","DataRegionAnnotation","RegionFilterAnnotation","shapeIdx","adjustShapeAttrs","ShapeAnnotation","HtmlAnnotation","alignX","alignY","domWidth","domHeight","AxisBase","overlapOrder","tickStates","optimize","displayWithLabel","tickLineStyle","threshold","drawTicks","drawTitle","itemGroup","updateTickStates","getSideVector","tickLineItems","tickLineLength","tickSegment","getTickPoint","getSidePoint","tickId","subTickLineItems","subCount","tickLineCount","tickItem","tickItems","defaultTickLineStyle","tickLineGroup","getTickLineAttrs","getTickLineItems","tickCfg","drawTick","subTickLineItems_1","getSubTickLineItems","optimizeTicks","processTicks","drawLabels","drawTickLines","applyTickStates","page_1","optimizedTicks","getTextAnchor","getTextBaseline","getLabelAttrs","processOverlap","defaultLabelStyle","afterProcessTicks_1","titleCfg","titleHeight","titlePoint","getAxisVector","getTitleAttrs","getItemStates","labelStateStyle","tickLineId","tickLineShape","tickLineStateStyle","tickLineCfg","ellipseLabels","getDefault","ellipsisTail","ellipsisHead","ellipsisMiddle","getRotateAngle","isRotate","isOverlap","overlap","prevBBox","reserveOne","labelsGroup","autoHideCfg","hasHide","parityHide","firstBBox","equidistance","reserveFirst","reserveLast","reserveBoth","preLabel","equidistanceWithReverseBoth","labelRotate","setLabelsAngle","fixedAngle","customRotate","unfixedAngle","regionX","regionY","axisVector","normal","verticalVector","titleSpacing","canProcessOverlap","autoProcessOverlap","hasAdjusted","util","OverlapUtil","overlapCfg","verticalFactor_1","newAlign","unregisterElement","large","sweep","vecLen","CrosshairBase","renderBackground","textId","LineCrosshair","HtmlCrosshair","crosshairTpl","textTpl","HtmlTheme","resetText","crosshairEl","applyStyle","textEl","initCrossHair","alignText","BACKGROUND_STYLE","LINE_STYLE","AREA_STYLE","pointsToPath","dataToPath","getSmoothLinePath","linePathToAreaPath","areaPath","lineYPx","lineY","getAreaLineY","Trend","isArea","DEFAULT_HANDLER_STYLE","Handler","FOREGROUND_STYLE","HANDLER_STYLE","TEXT_STYLE","stopPropagation","prevX","pageX","prevY","pageY","containerDOM","getContainerDOM","onMouseMove","onMouseUp","offsetXRange","adjustOffsetRange","updateStartEnd","updateUI","delegateEmit","oldStart","oldEnd","newStart","newEnd","validCfg","minHandler","getChildComponentById","maxHandler","trend","addComponent","silent","handlerWidth","handlerHeight","foregroundShape","minTextShape","maxTextShape","_dodgeText","minAttrs","maxAttrs","onMouseDown","foreground","offsetRange","minBBox","maxBBox","GridBase","alternateColor","closed","drawGrid","prePoints","getGridPath","reversePoints","nextPath","preItem","getPathStyle","lineId","gridPath","regionId","drawAlternateRegion","getAlternatePath","lineType","getLineType","sweepFlag_1","LegendBase","resetDraw","drawLegendContent","drawBackground","DEFAULT_PAGE_NAVIGATOR","ROTATE_MAP","up","down","currentPageIndex","updateNavigation","getCurrentNavigationMatrix","totalPagesCnt","itemWidth","itemHeight","itemBackground","alignRight","itemElement","offsetGroup","drawItem","getItemHeight","clearUpdateStatus","processItems","drawItems","itemContainerGroup","startX","wrapped","pageWidth","subGroup","pageHeight","adjustNavigation","items_1","markerAttrs","textName","xPosition","radioCfg","showRadio","radioShape","tip","groupId","subContainer","getLimitItemWidth","curX","markerShape","drawMarker","itemMarkerSpacing","nameShape","drawItemText","valueShape","drawRadio","applyItemStates","subGroups","navigation","drawNavigation","navigationBBox","widthLimit","maxRow","maxRowHeight_1","cntPerPage_1","styleCfg","arrowStyle","leftArrow","drawArrow","onNavigationBack","leftArrowBBox","onNavigationAfter","rightArrow","cursorX","updateArrowPath","itemStates_1","elName","ContinueLegend","getCurrentValue","resetTrackClip","resetHandlers","bindSliderEvent","bindRailEvent","bindTrackEvent","drawRail","fixedElements","resetTrack","bindHandlersEvent","getValueByCanvasPoint","curValue","curDiff","dValue","drawLabel","labelAlign","labelFormatter","alignAttrs","getLabelAlignAttrs","railCfg","getRailPath","getRailShape","railBBox","getRailBBox","getPointByValue","trackCfg","getTrackPath","getTrackColor","trackId","trackShape","getClipTrackAttrs","trackAttrs","getTrackAttrs","getRailCanvasBBox","isVertcal","resetHandler","handlerCfg","oneSixthWidth","triangleX","triangleY","getHandlerPath","handlerShape","railShape","minLabel","maxLabel","getDrawPoint","fixedVertail","fixedHorizontal","minLabelBBox","maxLabelBBox","lengthField","changeRailLength","railHeight","fitRailLength","changeRailPosition","maxLabelWidth","CssConst","xCrosshairTpl","yCrosshairTpl","crosshairsRegion","TooltipTheme","renderCustomContent","resetTitle","renderItems","clearCrosshairs","setTitle","clearItemDoms","setCrossHairsVisible","xCrosshairDom","yCrosshairDom","getHtmlContentNode","cacheDoms","limitBox","getOffset","getPointByPosition","outSides","getOutSides","getAlignPoint","resetCrosshairs","curContainer","replaceChild","titleDom","listDom","innerText","crosshairBox","resetCrosshair","croshairDom","checkCrosshair","domName","tplName","constName","substituteObj","domStr","itemDom","DEFAULT_THEME","isMobile","startPos","bindLaterEvent","endPos","updateThumbOffset","newOffset","validateRange","originalValue","minThumbLen","renderTrackShape","renderThumbShape","themeSize","onStartEvent","onTrackClick","thumbShape","onThumbMouseOver","onThumbMouseOut","emitOffsetChange","customOffset","marginRatio","xDimensionLegenth","groupDataArray","adjustDataArray","frameIndex","getDistribution","getAdjustRange","valueArr","valIndex","getDodgeOffset","tickLength","getIntervalOnlyOffset","getDodgeOnlyOffset","getIntervalAndDodgeOffset","normalizedIntervalPadding","normalizedDodgePadding","geomWidth","normalizedMaxWidht","normalizedMinWidht","adjustGroup","getAdjustOffset","Cache","processStack","processOneDimStack","positive","negative","xKey","newXValue","stackHeight","stackValue","getXValuesMaxMap","off_1","getDimMaxValue","dimValues","flattenValues","en_US_1","zh_CN_1","setGlobal","Rose","WordCloud","Radar","DualAxes","Box","Venn","FUNNEL_CONVERSATION_FIELD","Liquid","Bullet","Sunburst","Waterfall","RadialBar","BidirectionalBar","Treemap","Sankey","Chord","CirclePacking","getCanvasPattern","Lab","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","run","runClearTimeout","Item","nextTick","env","argv","versions","addListener","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","flows","getAllElements","getAllElementsRecursively","labelOptions","points2Path","matrix_util_1","context_1","general","increase","decrease","waterfall","ver","_sensorPool","cb","sensor","getSensor","removeSensor","_id","_sensors","_constant","Sensors","sensorId","newId","createSensor","_object","_resizeObserver","ResizeObserver","_debounce","resizeListener","listener","contentDocument","newSensor","disconnect","observe","drawDot","dotCfg","Path2D","lineCfg","drawSquare","strokeRect","squareCfg","squares","stepType","otherAdaptor","marker_active_1","MarkerActiveAction","getView","getConversionTagOptionsWithDefaults","horizontal","headSize","elemPrev","elemNext","pointPrev","pointNext","totalWidth","renderArrowTag","textWidth","cWidth","cEnd","textAdjusted","renderTextTag","disabled","INTERACTION_MAP","click","getStartStages","disable","connectedArea","buttonStyle","drawText","PieLegendAction","item_1","getActiveElements","elementLabels","getActiveElementLabels","transfrom","StatisticAction","_view","initialAnnotation","getAnnotations","colorField_1","statistic_1","initialStatistic","getInitialAnnotation","sectorStyle","catch","cloudFont","cloudFontSize","cloudFontNormal","cloudRotate","cloudPadding","archimedeanSpiral","cloudText","cloudCanvas","cloud","board","dt","cloudCollide","sprite","sw","lx","msx","contextAndRatio","zeroArray","tags","cloudSprite","hasImage","cloudBounds","_tags","_bounds","can","w32","cxt","imageData","functor","spirals","tagCloud","cloudRadians","maxh","sr","cr","wcr","wsr","hcr","hsr","cw","xoff","yoff","seen","seenRow","archimedean","rectangular","sign","getTextAttrs","REGRESSION_MAP","exp","d3_regression_1","loess","poly","quad","pathData","algorithm","reg","xScaleView","yScaleView","xFieldValue","yFieldValue","xIsPositiveNumber","yIsPositiveNumber","getMetaMinMax","fieldMeta","getCustomValue","_slicedToArray","_arrayWithHoles","_arr","_n","_s","err","_iterableToArrayLimit","_nonIterableRest","xv","yv","Float64Array","visitPoints","iterations","determination","uY","predict","SSE","SST","sse","sst","interpose","xmin","xmax","LOG10E","iter","found","mp","ols","uX","uXY","uX2","slope","YL","XY","XYL","X2Y","ly","_ols2","rSquared","X2","intercept","bandwidth","_points2","bw","yhat","residuals","robustWeights","W","denom","tricube","xkw","updateInterval","medianResidual","_w","logarithmic","lb","quadratic","X3","X4","n0","X2X2","polynomial","coefficients","_o","lhs","rhs","coef","gaussianElimination","uncenter","YS","areaOptions","radar_tooltip_action_1","RadarTooltipController","cfgTitle","hintItems","title_1","result_1","displayTitle","RadarTooltipAction","getTooltipController","geometryOptions","allLine","option_1","createViews","SORT_MAP","view_1","themeColor","groupScale","leftView","rightView","leftLegend_1","rightLegend_1","leftItems","legend_1","rightItems","isGeometry","viewId","yF","legendItem_1","render_sider_1","legendItemName","attrItems","FIELD_KEY","adjust_1","sliderValue","sizeRatio","heatmapStyle","checkedSizeRatio","dautm","maxSideLength","sideLength","outliersView","yFieldName","outliersPoint","outliersField","outliersStyle","outliersViewData","syncName","TOOLTIP_FIELDS","violinView","boxView","minMaxView","quantileView","medianView","legendField_1","legendOptions","LN_2","helper","kernel","getUnifiedMinMax","getUnifiedMinMaxMulti","arrMulti","relaxMin","relaxMax","findMinMulti","findMaxMulti","normalizedMinMax","buckets","partialArea","partialAreas","accumulator","generatePartialAreas","fullArea","initalValue","bucket","xToBucket","leftBlockCount","rightBlockCount","spilledAreaLeft","spilledAreaRight","startGradPos","inside","gradAccumulator","getExpectedValueFromPdf","pdf","expected","getXWithLeftTailArea","getPerplexity","entropy","ln","findMin","findMax","quickselect","sd","quantileSelect","quantileIndex","indices","stack","multiQuantileSelect","results","colorMap","colorPalette","setsField","utils_3","tempPadding","currSets","sets","filterSets","vennData","colorOptions","map_1","transformColor","customLabelInfo","vennInteraction","MAP_1","colorPaletteLen","colorArr","blend","JSON","stringify","solution","textCenters","diagram_1","setCircles","legalArr","testArr","blendObject","screen","overlay","darken","lighten","dodge","burn","colorToArr","rgbaArr","color_util_1","c0","blendRgbArr","g0","g1","areas","setid","initialLayout","bestInitialLayout","loss","lossFunction","ids","pairs","addMissingAreas","setids","positions","fmin_1","setid_1","distanceFromIntersectArea","circleintersection_1","getDistanceMatrices","distances","constraints","greedyLayout","constrained","constrainedMDSLayout","restarts","matrices","norm","xj","yj","dij","constrainedMDSGradient","setOverlaps","rowid","mostOverlapped","positioned","isPositioned","positionSet","setIndex","extraPoints","bestLoss","bestPoint","localLoss","overlaps","orientateCircles","orientation","orientationOrder","largestX","largestY","disjointCluster","maxDistance","xRoot","yRoot","disjointClusters","getBoundingBox","xRange","yRange","clusters","returnBounds","addCluster","centreing","xScaling","yScaling","scaling","circleMargin","interior","exterior","computeTextCentre","valid","areaStats","circlePath","overlapped","circleids","circleid","getOverlappingCircles","areaids","exclude","centre","tokens","wide","path_util_1","fillAttrs","VennLabel","active_1","highlight_1","selected_1","VennElementActive","syncElementsPos","toggle","VennElementHighlight","highlight","ElementSelectedAction","ElementSingleSelectedAction","VennElementSelected","VennElementSingleSelected","showFacetTitle","formatterData","defaultFacetLabel","viewIndex","preItemX","preItemY","liquidStyle","bulletStyle","extData","rangeGeometry","measureGeometry","targetGeometry","pathFormatter","valueFormatter","adaptorInteraction","activeDepth","partition_1","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","toStringTagSymbol","configurable","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","_invoke","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","_sent","dispatchException","abrupt","tryCatch","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","unwrapped","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","mark","awrap","async","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","webpackPolyfill","deprecate","STEP","STEP_RATIO","COORD_START_ANGLE","COORD_END_ANGLE","INTERVAL","START_ANGLE","END_ANGLE","localeTotalLabel","colorMapping","Y_FIELD_META","labelMode","leaderLineCfg","linkPath","maxAngle","actualData","intervalGeometry","yData","formatRadian","stackedData","valueItem","firstViewData","secondViewData","firstView","secondView","aliasMap","metaKey","leftGeometry","rightGeometry","leftLabelCfg","positionMap_1","transData","rectStyle","polygon_1","viewZoomInteraction","edgeState","isLast","helper_1","nodesView","edgesView","nodeState","edgeView","nodeView","nodeDraggable","nodeInteractions","edgeInteractions","ALIGN_METHOD","justify","getNodeAlignFunction","sankey_1","sankeyLayoutOptions","layoutData","extent","sankeyProcessor","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultNodes","graph","defaultLinks","nodeById","computeLinkBreadths","linkSort","align_1","sankey","computeNodeLinks","fixedValue","computeNodeValues","maxDepth","computeNodeDepths","computeNodeHeights","columns","computeNodeLayers","nodes_6","reorderLinks","initializeNodeBreadths","relaxRightToLeft","relaxLeftToRight","computeNodeBreadths","targetTop","dy_1","reorderNodeLinks","resolveCollisions","sourceTop","dy_2","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","dy_3","dy_4","getNodes","graphMatrix","removedData","visited","DFS","dfsNode","node_drag_1","isDragging","SankeyNodeDragAction","getNodeView","isNodeElement","getCurrentDatumIdx","currentElementIdx","prevNodeAnimateCfg","prevEdgeAnimateCfg","getEdgeView","prevDatum","datumGap_1","nextDatum","edgeData","chordLayoutInputData","chord_1","nodesData","edgesData","chordData","nodeGeometry","edgeGeometry","edgeOptions","sourceWeight","targetWeight","chordLayoutOptions","inEdges","outEdges","frequency","processGraph","localeCompare","sortNodes","nodePaddingRatio_1","margin_1","nodeWidthRatio_1","totalValue_1","deltaX","deltaX_1","layoutNodes","valueById_1","sId","tId","sNode","tNode","sValue","currentSValue","sStart","sEnd","tValue","currentTValue","tStart","tEnd","locatingEdges","diameter","tempAppendPadding","appendPaddingByDrilldown","finalSize","circleSize","point_1","nameFormatter","pack_1","wSize","hSize","restWidthPadding","restHeightPadding","packLayout","multiView","viewOfG2","multiPlot","plots","Association","linkField","getAssociationItems","facetAdaptor","facetType","restFacetCfg","viewOptions","plotOptions","Stage","notice","DEV","BETA","STABLE","mix_1"],"mappings":"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","file":"g2plot.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"G2Plot\"] = factory();\n\telse\n\t\troot[\"G2Plot\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 158);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","export { flow } from './flow';\nexport { pick } from './pick';\nexport { template } from './template';\nexport { log, invariant, LEVEL } from './invariant';\nexport { getContainerSize } from './dom';\nexport * from './geometry';\nexport { findViewById, getViews, getSiblingViews } from './view';\nexport { transformLabel } from './label';\nexport { getSplinePath } from './path';\nexport { deepAssign } from './deep-assign';\nexport { kebabCase } from './kebab-case';\nexport { renderStatistic, renderGaugeStatistic } from './statistic';\nexport { measureTextWidth } from './measure-text';\nexport { isBetween, isRealNumber } from './number';\nexport * from './data';\nexport * from './padding';\n",null,null,null,"import { Chart, Event, Element, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport EE from '@antv/event-emitter';\nimport { bind } from 'size-sensor';\nimport { Options, StateName, StateCondition, Size, StateObject, Annotation } from '../types';\nimport { getContainerSize, getAllElementsRecursively, deepAssign, pick } from '../utils';\nimport { Adaptor } from './adaptor';\n\n/**  pick  */\nexport type PickOptions = Pick<\n  Options,\n  | 'width'\n  | 'height'\n  | 'padding'\n  | 'appendPadding'\n  | 'renderer'\n  | 'pixelRatio'\n  | 'autoFit'\n  | 'syncViewPadding'\n  | 'supportCSSTransform'\n  | 'limitInPlot'\n  | 'locale'\n  | 'defaultInteractions'\n>;\n\nconst SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n\n/** plot  */\nexport const PLOT_CONTAINER_OPTIONS = [\n  'padding',\n  'appendPadding',\n  'renderer',\n  'pixelRatio',\n  'syncViewPadding',\n  'supportCSSTransform',\n  'limitInPlot',\n];\n\n/**\n *  plot \n */\nexport abstract class Plot<O extends PickOptions> extends EE {\n  /**\n   *  options \n   * \n   */\n  static getDefaultOptions(): any {\n    return {\n      renderer: 'canvas',\n      xAxis: {\n        nice: true,\n        label: {\n          autoRotate: false,\n          autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n        },\n      },\n      yAxis: {\n        nice: true,\n        label: {\n          autoHide: true,\n          autoRotate: false,\n        },\n      },\n      animation: true,\n    };\n  }\n\n  /** plot  */\n  public abstract readonly type: string;\n  /** plot  schema  */\n  public options: O;\n  /** plot  dom */\n  public readonly container: HTMLElement;\n  /** G2 chart  */\n  public chart: Chart;\n  /** resizer unbind  */\n  private unbind: () => void;\n\n  constructor(container: string | HTMLElement, options: O) {\n    super();\n    this.container = typeof container === 'string' ? document.getElementById(container) : container;\n\n    this.options = deepAssign({}, this.getDefaultOptions(), options);\n\n    this.createG2();\n\n    this.bindEvents();\n  }\n\n  /**\n   *  G2 \n   */\n  private createG2() {\n    const { width, height, defaultInteractions } = this.options;\n\n    this.chart = new Chart({\n      container: this.container,\n      autoFit: false, // G2Plot  size-sensor  autoFit\n      ...this.getChartSize(width, height),\n      localRefresh: false, //  G \n      ...pick(this.options, PLOT_CONTAINER_OPTIONS),\n      defaultInteractions,\n    });\n\n    //  G2\n    this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n  }\n\n  /**\n   *  chart  width  height\n   * @param width\n   * @param height\n   */\n  private getChartSize(width: number, height: number): Size {\n    const chartSize = getContainerSize(this.container);\n    return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n  }\n\n  /**\n   *  G2 \n   */\n  private bindEvents() {\n    if (this.chart) {\n      this.chart.on('*', (e: Event) => {\n        if (e?.type) {\n          this.emit(e.type, e);\n        }\n      });\n    }\n  }\n\n  /**\n   *  options \n   * \n   */\n  protected getDefaultOptions(): any {\n    return Plot.getDefaultOptions();\n  }\n\n  /**\n   *  schema adaptor\n   */\n  protected abstract getSchemaAdaptor(): Adaptor<O>;\n\n  /**\n   * \n   */\n  public render() {\n    //  G2 \n    this.chart.clear();\n    //  view  view  options  legend legend \n    //  chart  options \n    //  G2 view.clear  options  resetOptions\n    // #1684  view  custom legend\n    // @ts-ignore\n    this.chart.options = {\n      data: [],\n      animate: true,\n    };\n    this.chart.views = []; //  views\n    //  adaptor\n    this.execAdaptor();\n    // \n    this.chart.render();\n    // \n    this.bindSizeSensor();\n  }\n\n  /**\n   * : \n   * @param options\n   */\n  public update(options: Partial<O>) {\n    this.updateOption(options);\n    this.render();\n  }\n\n  /**\n   * \n   * @param options\n   */\n  protected updateOption(options: Partial<O>) {\n    this.options = deepAssign({}, this.options, options);\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n\n  /**\n   * \n   * @override\n   * @param options\n   */\n  public changeData(data: any) {\n    // @ts-ignore\n    this.update({ data });\n    // TODO: \n    // this.chart.changeData(data);\n  }\n\n  /**\n   * \n   * @param width\n   * @param height\n   */\n  public changeSize(width: number, height: number) {\n    this.chart.changeSize(width, height);\n  }\n\n  /**\n   *  id \n   */\n  public addAnnotations(annotations: Annotation[], view?: View): void {\n    view = view ? view : this.chart;\n    const incoming = [...annotations];\n    const controller = view.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      let annotation = current[i];\n\n      const findIndex = incoming.findIndex((item) => item.id && item.id === annotation.id);\n      if (findIndex !== -1) {\n        annotation = deepAssign({}, annotation, incoming[findIndex]);\n        incoming.splice(findIndex, 1);\n      }\n      controller.annotation(annotation);\n    }\n\n    incoming.forEach((annotation) => controller.annotation(annotation));\n    view.render(true);\n  }\n\n  /**\n   *  id \n   */\n  public removeAnnotations(annotations: Array<{ id: string } & Partial<Annotation>>): void {\n    const controller = this.chart.getController('annotation');\n    const current = controller.getComponents().map((co) => co.extra);\n\n    controller.clear(true);\n    for (let i = 0; i < current.length; i++) {\n      const annotation = current[i];\n\n      if (!annotations.find((item) => item.id && item.id === annotation.id)) {\n        controller.annotation(annotation);\n      }\n    }\n\n    this.chart.render(true);\n  }\n  /**\n   * \n   */\n  public destroy() {\n    //  size-sensor \n    this.unbindSizeSensor();\n    // G2 \n    this.chart.destroy();\n    // \n    this.off();\n\n    this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n  }\n\n  /**\n   *  adaptor \n   */\n  protected execAdaptor() {\n    const adaptor = this.getSchemaAdaptor();\n\n    const { padding, appendPadding } = this.options;\n    //  padding\n    this.chart.padding = padding;\n    //  appendPadding\n    this.chart.appendPadding = appendPadding;\n\n    //  G2 API\n    adaptor({\n      chart: this.chart,\n      options: this.options,\n    });\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    this.chart.forceFit();\n  }\n\n  /**\n   *  dom \n   */\n  private bindSizeSensor() {\n    if (this.unbind) {\n      return;\n    }\n\n    const { autoFit = true } = this.options;\n    if (autoFit) {\n      this.unbind = bind(this.container, () => {\n        // \n        const { width, height } = getContainerSize(this.container);\n\n        //  resize \n        if (width !== this.chart.width || height !== this.chart.height) {\n          this.triggerResize();\n        }\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  private unbindSizeSensor() {\n    if (this.unbind) {\n      this.unbind();\n      this.unbind = undefined;\n    }\n  }\n}\n","/**\n * view  group  key\n */\nexport enum LAYER {\n  /**  */\n  FORE = 'fore',\n  /**  */\n  MID = 'mid',\n  /**  */\n  BG = 'bg',\n}\n\n/**\n *  12 \n */\nexport enum DIRECTION {\n  TOP = 'top',\n  TOP_LEFT = 'top-left',\n  TOP_RIGHT = 'top-right',\n  RIGHT = 'right',\n  RIGHT_TOP = 'right-top',\n  RIGHT_BOTTOM = 'right-bottom',\n  LEFT = 'left',\n  LEFT_TOP = 'left-top',\n  LEFT_BOTTOM = 'left-bottom',\n  BOTTOM = 'bottom',\n  BOTTOM_LEFT = 'bottom-left',\n  BOTTOM_RIGHT = 'bottom-right',\n  RADIUS = 'radius',\n  CIRCLE = 'circle',\n  // no direction information\n  NONE = 'none',\n}\n\n/**\n * \n */\nexport enum COMPONENT_TYPE {\n  /** axis  */\n  AXIS = 'axis',\n  /** grid  */\n  GRID = 'grid',\n  /** legend  */\n  LEGEND = 'legend',\n  /** tooltip  */\n  TOOLTIP = 'tooltip',\n  /** annotation  */\n  ANNOTATION = 'annotation',\n  /**  */\n  SLIDER = 'slider',\n  /**  */\n  SCROLLBAR = 'scrollbar',\n  /**  */\n  OTHER = 'other',\n}\n\n/**\n *  group  z index\n */\nexport const GROUP_Z_INDEX = {\n  FORE: 3,\n  MID: 2,\n  BG: 1,\n};\n\n/**\n * View  3.x \n * \n */\nexport enum VIEW_LIFE_CIRCLE {\n  BEFORE_RENDER = 'beforerender',\n  AFTER_RENDER = 'afterrender',\n\n  BEFORE_PAINT = 'beforepaint',\n  AFTER_PAINT = 'afterpaint',\n\n  BEFORE_CHANGE_DATA = 'beforechangedata',\n  AFTER_CHANGE_DATA = 'afterchangedata',\n\n  BEFORE_CLEAR = 'beforeclear',\n  AFTER_CLEAR = 'afterclear',\n\n  BEFORE_DESTROY = 'beforedestroy',\n\n  BEFORE_CHANGE_SIZE = 'beforechangesize',\n  AFTER_CHANGE_SIZE = 'afterchangesize',\n}\n\n/**\n * geometry \n */\nexport enum GEOMETRY_LIFE_CIRCLE {\n  BEFORE_DRAW_ANIMATE = 'beforeanimate',\n  AFTER_DRAW_ANIMATE = 'afteranimate',\n}\n\n/**\n * \n */\nexport enum PLOT_EVENTS {\n  // mouse \n  MOUSE_ENTER = 'plot:mouseenter',\n  MOUSE_DOWN = 'plot:mousedown',\n  MOUSE_MOVE = 'plot:mousemove',\n  MOUSE_UP = 'plot:mouseup',\n  MOUSE_LEAVE = 'plot:mouseleave',\n  // \n  TOUCH_START = 'plot:touchstart',\n  TOUCH_MOVE = 'plot:touchmove',\n  TOUCH_END = 'plot:touchend',\n  TOUCH_CANCEL = 'plot:touchcancel',\n  // click \n  CLICK = 'plot:click',\n  DBLCLICK = 'plot:dblclick',\n  CONTEXTMENU = 'plot:contextmenu',\n\n  LEAVE = 'plot:leave',\n  ENTER = 'plot:enter',\n}\n\n/**\n * Element \n */\nexport enum ELEMENT_STATE {\n  ACTIVE = 'active',\n  INACTIVE = 'inactive',\n  SELECTED = 'selected',\n  DEFAULT = 'default',\n}\n\n/**  */\nexport const GROUP_ATTRS = ['color', 'shape', 'size'];\n/**  */\nexport const FIELD_ORIGIN = '_origin';\n/**  */\nexport const MIN_CHART_WIDTH = 1;\n/**  */\nexport const MIN_CHART_HEIGHT = 1;\n/** 25% */\nexport const COMPONENT_MAX_VIEW_PERCENTAGE = 0.25;\n","import { IG } from '../dependents';\n\nconst ENGINES: Record<string, IG> = {};\n\n/**\n *  engine\n * @param name \n * @returns G engine\n */\nexport function getEngine(name: string): IG {\n  const G = ENGINES[name];\n\n  if (!G) {\n    throw new Error(`G engine '${name}' is not exist, please register it at first.`);\n  }\n\n  return G;\n}\n\n/**\n * \n * @param name\n * @param engine\n */\nexport function registerEngine(name: string, engine: IG) {\n  ENGINES[name] = engine;\n}\n","import { MIN_CHART_HEIGHT, MIN_CHART_WIDTH } from '../constant';\nimport { Size } from '../interface';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nfunction getElementSize(ele: HTMLElement): Size {\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n\n/**\n * is value a valid number\n * @param v the input value\n * @returns whether it is a number\n */\nfunction isNumber(v: any): boolean {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * calculate the chart size\n * @param ele DOM element\n * @param autoFit should auto fit\n * @param width chart width which is set by user\n * @param height chart height which is set by user\n * @returns the chart width and height\n */\nexport function getChartSize(ele: HTMLElement, autoFit: boolean, width: number, height: number): Size {\n  let w = width;\n  let h = height;\n\n  if (autoFit) {\n    const size = getElementSize(ele);\n\n    w = size.width ? size.width : w;\n    h = size.height ? size.height : h;\n  }\n\n  return {\n    width: Math.max(isNumber(w) ? w : MIN_CHART_WIDTH, MIN_CHART_WIDTH),\n    height: Math.max(isNumber(h) ? h : MIN_CHART_HEIGHT, MIN_CHART_HEIGHT),\n  };\n}\n\n/**\n * @ignore\n * remove html element from its parent\n * @param dom\n */\nexport function removeDom(dom: HTMLElement) {\n  const parent = dom.parentNode;\n\n  if (parent) {\n    parent.removeChild(dom);\n  }\n}\n\n/** @ignore */\nexport { createDom, modifyCSS } from '@antv/dom-util';\n","import EE from '@antv/event-emitter';\n\ninterface BaseCfg {\n  visible?: boolean;\n}\n\n/**\n * G2 ChartViewGeometry  Element \n */\nexport default class Base extends EE {\n  /**  */\n  public visible: boolean;\n  /**  */\n  public destroyed: boolean = false;\n\n  constructor(cfg: BaseCfg) {\n    super();\n    const { visible = true } = cfg;\n    this.visible = visible;\n  }\n\n  /**\n   * \n   */\n  public show() {\n    const visible = this.visible;\n    if (!visible) {\n      this.changeVisible(true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    const visible = this.visible;\n    if (visible) {\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.off();\n    this.destroyed = true;\n  }\n\n  /**\n   * \n   * @param visible\n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.visible = visible;\n  }\n}\n",null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,null,null,null,null,"import { GeometryCfg } from './geometry/base';\nimport { IInteractionContext } from './interface';\n\n// \nimport { registerTheme } from './core';\nimport { antvDark } from './theme/style-sheet/dark';\nimport { createThemeByStyleSheet } from './theme/util/create-by-style-sheet';\nregisterTheme('dark', createThemeByStyleSheet(antvDark));\n\n//  G \nimport * as CanvasEngine from '@antv/g-canvas';\nimport * as SVGEngine from '@antv/g-svg';\nimport { registerEngine } from './core';\n\nregisterEngine('canvas', CanvasEngine);\nregisterEngine('svg', SVGEngine);\n\n//  G2  geometry\nimport { registerGeometry } from './core';\nimport Area, { AreaCfg } from './geometry/area';\nimport Edge from './geometry/edge';\nimport Heatmap from './geometry/heatmap';\nimport Interval, { IntervalCfg } from './geometry/interval';\nimport Line from './geometry/line';\nimport Path, { PathCfg } from './geometry/path';\nimport Point from './geometry/point';\nimport Polygon from './geometry/polygon';\nimport Schema from './geometry/schema';\nimport Violin from './geometry/violin';\n\nregisterGeometry('Polygon', Polygon);\nregisterGeometry('Interval', Interval);\nregisterGeometry('Schema', Schema);\nregisterGeometry('Path', Path);\nregisterGeometry('Point', Point);\nregisterGeometry('Line', Line);\nregisterGeometry('Area', Area);\nregisterGeometry('Edge', Edge);\nregisterGeometry('Heatmap', Heatmap);\nregisterGeometry('Violin', Violin);\n\n//  shapes\nimport './geometry/shape/area/line';\nimport './geometry/shape/area/smooth';\nimport './geometry/shape/area/smooth-line';\n\nimport './geometry/shape/edge/arc';\nimport './geometry/shape/edge/smooth';\nimport './geometry/shape/edge/vhv';\n\nimport './geometry/shape/interval/funnel';\nimport './geometry/shape/interval/hollow-rect';\nimport './geometry/shape/interval/line';\nimport './geometry/shape/interval/pyramid';\nimport './geometry/shape/interval/tick';\n\nimport './geometry/shape/line/step';\n\nimport './geometry/shape/point/hollow';\nimport './geometry/shape/point/image';\nimport './geometry/shape/point/solid';\n\nimport './geometry/shape/schema/box';\nimport './geometry/shape/schema/candle';\n\nimport './geometry/shape/polygon/square';\n\nimport './geometry/shape/violin/smooth';\nimport './geometry/shape/violin/hollow';\n\n//  Geometry  label\nimport { registerGeometryLabel } from './core';\nimport GeometryLabel from './geometry/label/base';\nimport IntervalLabel from './geometry/label/interval';\nimport PieLabel from './geometry/label/pie';\nimport PolarLabel from './geometry/label/polar';\n\nregisterGeometryLabel('base', GeometryLabel);\nregisterGeometryLabel('interval', IntervalLabel);\nregisterGeometryLabel('pie', PieLabel);\nregisterGeometryLabel('polar', PolarLabel);\n\n//  Geometry label \nimport { registerGeometryLabelLayout } from './core';\nimport { distribute } from './geometry/label/layout/pie/distribute';\nimport { pieOuterLabelLayout } from './geometry/label/layout/pie/outer';\nimport { pieSpiderLabelLayout } from './geometry/label/layout/pie/spider';\nimport { limitInCanvas } from './geometry/label/layout/limit-in-canvas';\nimport { limitInShape } from './geometry/label/layout/limit-in-shape';\nimport { fixedOverlap, overlap } from './geometry/label/layout/overlap';\nimport { hideOverlap } from './geometry/label/layout/hide-overlap';\nimport { adjustColor } from './geometry/label/layout/adjust-color';\nimport { intervalAdjustPosition } from './geometry/label/layout/interval/adjust-position';\nimport { intervalHideOverlap } from './geometry/label/layout/interval/hide-overlap';\nimport { pointAdjustPosition } from './geometry/label/layout/point/adjust-position';\nimport { pathAdjustPosition } from './geometry/label/layout/path/adjust-position';\nimport { limitInPlot } from './geometry/label/layout/limit-in-plot';\n\nregisterGeometryLabelLayout('overlap', overlap);\nregisterGeometryLabelLayout('distribute', distribute);\nregisterGeometryLabelLayout('fixed-overlap', fixedOverlap);\nregisterGeometryLabelLayout('hide-overlap', hideOverlap);\nregisterGeometryLabelLayout('limit-in-shape', limitInShape);\nregisterGeometryLabelLayout('limit-in-canvas', limitInCanvas);\nregisterGeometryLabelLayout('limit-in-plot', limitInPlot);\nregisterGeometryLabelLayout('pie-outer', pieOuterLabelLayout);\nregisterGeometryLabelLayout('adjust-color', adjustColor);\nregisterGeometryLabelLayout('interval-adjust-position', intervalAdjustPosition);\nregisterGeometryLabelLayout('interval-hide-overlap', intervalHideOverlap);\nregisterGeometryLabelLayout('point-adjust-position', pointAdjustPosition);\nregisterGeometryLabelLayout('pie-spider', pieSpiderLabelLayout);\nregisterGeometryLabelLayout('path-adjust-position', pathAdjustPosition);\n\n// \nimport { fadeIn, fadeOut } from './animate/animation/fade';\nimport { growInX, growInXY, growInY } from './animate/animation/grow-in';\nimport { pathIn } from './animate/animation/path-in';\nimport { positionUpdate } from './animate/animation/position-update';\nimport { scaleInX, scaleInY } from './animate/animation/scale-in';\nimport { sectorPathUpdate } from './animate/animation/sector-path-update';\nimport { waveIn } from './animate/animation/wave-in';\nimport { zoomIn, zoomOut } from './animate/animation/zoom';\nimport { registerAnimation } from './core';\n\nregisterAnimation('fade-in', fadeIn);\nregisterAnimation('fade-out', fadeOut);\nregisterAnimation('grow-in-x', growInX);\nregisterAnimation('grow-in-xy', growInXY);\nregisterAnimation('grow-in-y', growInY);\nregisterAnimation('scale-in-x', scaleInX);\nregisterAnimation('scale-in-y', scaleInY);\nregisterAnimation('wave-in', waveIn);\nregisterAnimation('zoom-in', zoomIn);\nregisterAnimation('zoom-out', zoomOut);\nregisterAnimation('position-update', positionUpdate);\nregisterAnimation('sector-path-update', sectorPathUpdate);\nregisterAnimation('path-in', pathIn);\n\n//  Facet\nimport { registerFacet } from './core';\nimport Circle from './facet/circle';\nimport List from './facet/list';\nimport Matrix from './facet/matrix';\nimport Mirror from './facet/mirror';\nimport Rect from './facet/rect';\nimport Tree from './facet/tree';\n\nregisterFacet('rect', Rect);\nregisterFacet('mirror', Mirror);\nregisterFacet('list', List);\nregisterFacet('matrix', Matrix);\nregisterFacet('circle', Circle);\nregisterFacet('tree', Tree);\n\n//  Component\nimport { registerComponentController } from './core';\n\nimport Annotation from './chart/controller/annotation';\nimport Axis from './chart/controller/axis';\nimport Legend from './chart/controller/legend';\nimport Slider from './chart/controller/slider';\nimport Tooltip from './chart/controller/tooltip';\nimport Scrollbar from './chart/controller/scrollbar';\n\n// register build-in components\nregisterComponentController('axis', Axis);\nregisterComponentController('legend', Legend);\nregisterComponentController('tooltip', Tooltip);\nregisterComponentController('annotation', Annotation);\nregisterComponentController('slider', Slider);\nregisterComponentController('scrollbar', Scrollbar);\n\n//  Interaction Action\nimport { registerAction } from './core';\nimport ActiveRegion from './interaction/action/active-region';\nimport SiblingTooltip from './interaction/action/component/tooltip/sibling';\nimport TooltipAction from './interaction/action/component/tooltip/geometry';\nimport EllipsisTextAction from './interaction/action/component/tooltip/ellipsis-text';\n\nimport ElementActive from './interaction/action/element/active';\nimport ElementLinkByColor from './interaction/action/element/link-by-color';\nimport ElementRangeActive from './interaction/action/element/range-active';\nimport ElementSingleActive from './interaction/action/element/single-active';\n\nimport ElementHighlight from './interaction/action/element/highlight';\nimport ElementHighlightByColor from './interaction/action/element/highlight-by-color';\nimport ElementHighlightByX from './interaction/action/element/highlight-by-x';\n\nimport ElementRangeHighlight, { ELEMENT_RANGE_HIGHLIGHT_EVENTS } from './interaction/action/element/range-highlight';\nimport ElementSingleHighlight from './interaction/action/element/single-highlight';\n\nimport ElementRangeSelected from './interaction/action/element/range-selected';\nimport ElementSelected from './interaction/action/element/selected';\nimport ElementSingleSelected from './interaction/action/element/single-selected';\n\nimport ListActive from './interaction/action/component/list-active';\nimport ListHighlight from './interaction/action/component/list-highlight';\nimport ListSelected from './interaction/action/component/list-selected';\nimport ListUnchecked from './interaction/action/component/list-unchecked';\nimport ListChecked from './interaction/action/component/list-checked';\nimport ListFocus from './interaction/action/component/list-focus';\nimport ListRadio from './interaction/action/component/list-radio';\n\nimport CircleMask from './interaction/action/mask/circle';\nimport DimMask from './interaction/action/mask/dim-rect';\nimport PathMask from './interaction/action/mask/path';\nimport RectMask from './interaction/action/mask/rect';\nimport SmoothPathMask from './interaction/action/mask/smooth-path';\n\nimport CursorAction from './interaction/action/cursor';\nimport DataFilter from './interaction/action/data/filter';\nimport DataRangeFilter, { BRUSH_FILTER_EVENTS } from './interaction/action/data/range-filter';\nimport SiblingFilter from './interaction/action/data/sibling-filter';\n\nimport ElementFilter from './interaction/action/element/filter';\nimport ElementSiblingFilter from './interaction/action/element/sibling-filter';\nimport ButtonAction from './interaction/action/view/button';\nimport ViewDrag from './interaction/action/view/drag';\nimport ViewMove from './interaction/action/view/move';\nimport ScaleTranslate from './interaction/action/view/scale-translate';\nimport ScaleZoom from './interaction/action/view/scale-zoom';\nimport MousewheelScroll from './interaction/action/view/mousewheel-scroll';\n\nregisterAction('tooltip', TooltipAction);\nregisterAction('sibling-tooltip', SiblingTooltip);\nregisterAction('ellipsis-text', EllipsisTextAction);\nregisterAction('element-active', ElementActive);\nregisterAction('element-single-active', ElementSingleActive);\nregisterAction('element-range-active', ElementRangeActive);\n\nregisterAction('element-highlight', ElementHighlight);\nregisterAction('element-highlight-by-x', ElementHighlightByX);\nregisterAction('element-highlight-by-color', ElementHighlightByColor);\n\nregisterAction('element-single-highlight', ElementSingleHighlight);\nregisterAction('element-range-highlight', ElementRangeHighlight);\nregisterAction('element-sibling-highlight', ElementRangeHighlight, {\n  effectSiblings: true,\n  effectByRecord: true,\n});\n\nregisterAction('element-selected', ElementSelected);\nregisterAction('element-single-selected', ElementSingleSelected);\nregisterAction('element-range-selected', ElementRangeSelected);\nregisterAction('element-link-by-color', ElementLinkByColor);\n\nregisterAction('active-region', ActiveRegion);\nregisterAction('list-active', ListActive);\nregisterAction('list-selected', ListSelected);\nregisterAction('list-highlight', ListHighlight);\nregisterAction('list-unchecked', ListUnchecked);\nregisterAction('list-checked', ListChecked);\nregisterAction('list-focus', ListFocus);\nregisterAction('list-radio', ListRadio);\n\nregisterAction('legend-item-highlight', ListHighlight, {\n  componentNames: ['legend'],\n});\n\nregisterAction('axis-label-highlight', ListHighlight, {\n  componentNames: ['axis'],\n});\n\nregisterAction('rect-mask', RectMask);\nregisterAction('x-rect-mask', DimMask, { dim: 'x' });\nregisterAction('y-rect-mask', DimMask, { dim: 'y' });\nregisterAction('circle-mask', CircleMask);\nregisterAction('path-mask', PathMask);\nregisterAction('smooth-path-mask', SmoothPathMask);\n\nregisterAction('cursor', CursorAction);\nregisterAction('data-filter', DataFilter);\n\nregisterAction('brush', DataRangeFilter);\nregisterAction('brush-x', DataRangeFilter, { dims: ['x'] });\nregisterAction('brush-y', DataRangeFilter, { dims: ['y'] });\nregisterAction('sibling-filter', SiblingFilter);\nregisterAction('sibling-x-filter', SiblingFilter);\nregisterAction('sibling-y-filter', SiblingFilter);\n\nregisterAction('element-filter', ElementFilter);\nregisterAction('element-sibling-filter', ElementSiblingFilter);\nregisterAction('element-sibling-filter-record', ElementSiblingFilter, { byRecord: true });\n\nregisterAction('view-drag', ViewDrag);\nregisterAction('view-move', ViewMove);\n\nregisterAction('scale-translate', ScaleTranslate);\nregisterAction('scale-zoom', ScaleZoom);\nregisterAction('reset-button', ButtonAction, {\n  name: 'reset-button',\n  text: 'reset',\n});\n\nregisterAction('mousewheel-scroll', MousewheelScroll);\n\n//  Interaction \nimport { registerInteraction } from './core';\n\nfunction isPointInView(context: IInteractionContext) {\n  return context.isInPlot();\n}\n\n//  tooltip  interaction\nregisterInteraction('tooltip', {\n  start: [\n    { trigger: 'plot:mousemove', action: 'tooltip:show', throttle: { wait: 50, leading: true, trailing: false } },\n    { trigger: 'plot:touchmove', action: 'tooltip:show', throttle: { wait: 50, leading: true, trailing: false } },\n  ],\n  end: [\n    { trigger: 'plot:mouseleave', action: 'tooltip:hide' },\n    { trigger: 'plot:leave', action: 'tooltip:hide' },\n    { trigger: 'plot:touchend', action: 'tooltip:hide' },\n  ],\n});\n\nregisterInteraction('ellipsis-text', {\n  start: [\n    {\n      trigger: 'legend-item-name:mousemove',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'legend-item-name:touchstart',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'axis-label:mousemove',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n    {\n      trigger: 'axis-label:touchstart',\n      action: 'ellipsis-text:show',\n      throttle: { wait: 50, leading: true, trailing: false },\n    },\n  ],\n  end: [\n    { trigger: 'legend-item-name:mouseleave', action: 'ellipsis-text:hide' },\n    { trigger: 'legend-item-name:touchend', action: 'ellipsis-text:hide' },\n    { trigger: 'axis-label:mouseleave', action: 'ellipsis-text:hide' },\n    { trigger: 'axis-label:touchend', action: 'ellipsis-text:hide' },\n  ],\n});\n\n//  element  active\nregisterInteraction('element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-active:reset' }],\n});\n\n// \nregisterInteraction('element-selected', {\n  start: [{ trigger: 'element:click', action: 'element-selected:toggle' }],\n});\n\n// hover highlight\nregisterInteraction('element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight:reset' }],\n});\n\n// hover highlight by x\nregisterInteraction('element-highlight-by-x', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight-by-x:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight-by-x:reset' }],\n});\n\n// hover highlight by y\nregisterInteraction('element-highlight-by-color', {\n  start: [{ trigger: 'element:mouseenter', action: 'element-highlight-by-color:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'element-highlight-by-color:reset' }],\n});\n\n// legend hoverelement active\nregisterInteraction('legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('legend-highlight', {\n  start: [\n    { trigger: 'legend-item:mouseenter', action: ['legend-item-highlight:highlight', 'element-highlight:highlight'] },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('axis-label-highlight', {\n  start: [\n    { trigger: 'axis-label:mouseenter', action: ['axis-label-highlight:highlight', 'element-highlight:highlight'] },\n  ],\n  end: [{ trigger: 'axis-label:mouseleave', action: ['axis-label-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('element-list-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: ['list-highlight:highlight', 'element-highlight:highlight'] }],\n  end: [{ trigger: 'element:mouseleave', action: ['list-highlight:reset', 'element-highlight:reset'] }],\n});\n\n// \nregisterInteraction('element-range-highlight', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'mask:mouseenter', action: 'cursor:move' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n    { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n  ],\n  start: [\n    {\n      trigger: 'plot:mousedown',\n      isEnable(context) {\n        //  mask \n        return !context.isInShape('mask');\n      },\n      action: ['rect-mask:start', 'rect-mask:show'],\n    },\n    {\n      trigger: 'mask:dragstart',\n      action: ['rect-mask:moveStart'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: ['rect-mask:resize'],\n    },\n    {\n      trigger: 'mask:drag',\n      action: ['rect-mask:move'],\n    },\n    {\n      trigger: 'mask:change',\n      action: ['element-range-highlight:highlight'],\n    },\n  ],\n  end: [\n    { trigger: 'plot:mouseup', action: ['rect-mask:end'] },\n    { trigger: 'mask:dragend', action: ['rect-mask:moveEnd'] },\n    {\n      trigger: 'document:mouseup',\n      isEnable(context) {\n        return !context.isInPlot();\n      },\n      action: ['element-range-highlight:clear', 'rect-mask:end', 'rect-mask:hide'],\n    },\n  ],\n  rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', 'rect-mask:hide'] }],\n});\n\nregisterInteraction('brush', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'mousedown',\n      isEnable: isPointInView,\n      action: ['brush:start', 'rect-mask:start', 'rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'mousemove',\n      isEnable: isPointInView,\n      action: ['rect-mask:resize'],\n    },\n  ],\n  end: [\n    {\n      trigger: 'mouseup',\n      isEnable: isPointInView,\n      action: ['brush:filter', 'brush:end', 'rect-mask:end', 'rect-mask:hide', 'reset-button:show'],\n    },\n  ],\n  rollback: [{ trigger: 'reset-button:click', action: ['brush:reset', 'reset-button:hide', 'cursor:crosshair'] }],\n});\n\nregisterInteraction('brush-visible', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'plot:mousedown',\n      action: ['rect-mask:start', 'rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: ['rect-mask:resize'],\n    },\n    { trigger: 'mask:change', action: ['element-range-highlight:highlight'] },\n  ],\n  end: [\n    {\n      trigger: 'plot:mouseup',\n      action: ['rect-mask:end', 'rect-mask:hide', 'element-filter:filter', 'element-range-highlight:clear'],\n    },\n  ],\n  rollback: [\n    {\n      trigger: 'dblclick',\n      action: ['element-filter:clear'],\n    },\n  ],\n});\n\nregisterInteraction('brush-x', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    {\n      trigger: 'mousedown',\n      isEnable: isPointInView,\n      action: ['brush-x:start', 'x-rect-mask:start', 'x-rect-mask:show'],\n    },\n  ],\n  processing: [\n    {\n      trigger: 'mousemove',\n      isEnable: isPointInView,\n      action: ['x-rect-mask:resize'],\n    },\n  ],\n  end: [\n    {\n      trigger: 'mouseup',\n      isEnable: isPointInView,\n      action: ['brush-x:filter', 'brush-x:end', 'x-rect-mask:end', 'x-rect-mask:hide'],\n    },\n  ],\n  rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n});\n\nregisterInteraction('element-path-highlight', {\n  showEnable: [\n    { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n    { trigger: 'plot:mouseleave', action: 'cursor:default' },\n  ],\n  start: [\n    { trigger: 'mousedown', isEnable: isPointInView, action: 'path-mask:start' },\n    { trigger: 'mousedown', isEnable: isPointInView, action: 'path-mask:show' },\n  ],\n  processing: [{ trigger: 'mousemove', action: 'path-mask:addPoint' }],\n  end: [{ trigger: 'mouseup', action: 'path-mask:end' }],\n  rollback: [{ trigger: 'dblclick', action: 'path-mask:hide' }],\n});\n\n// \nregisterInteraction('element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'element-single-selected:toggle' }],\n});\n\n// \nregisterInteraction('legend-filter', {\n  showEnable: [\n    { trigger: 'legend-item:mouseenter', action: ['cursor:pointer', 'list-radio:show'] },\n    { trigger: 'legend-item:mouseleave', action: ['cursor:default', 'list-radio:hide'] },\n  ],\n  start: [\n    {\n      trigger: 'legend-item:click',\n      isEnable: (context) => {\n        return !context.isInShape('legend-item-radio');\n      },\n      action: ['list-unchecked:toggle', 'data-filter:filter', 'list-radio:show'],\n    },\n    //  :  radio === truthy  legend-item-radio \n    {\n      trigger: 'legend-item-radio:mouseenter',\n      action: ['list-radio:showTip'],\n    },\n    {\n      trigger: 'legend-item-radio:mouseleave',\n      action: ['list-radio:hideTip'],\n    },\n    {\n      trigger: 'legend-item-radio:click',\n      action: ['list-focus:toggle', 'data-filter:filter', 'list-radio:show'],\n    },\n  ],\n});\n\n// \nregisterInteraction('continuous-filter', {\n  start: [{ trigger: 'legend:valuechanged', action: 'data-filter:filter' }],\n});\n// \nregisterInteraction('continuous-visible-filter', {\n  start: [{ trigger: 'legend:valuechanged', action: 'element-filter:filter' }],\n});\n\n// \nregisterInteraction('legend-visible-filter', {\n  showEnable: [\n    { trigger: 'legend-item:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'legend-item:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'legend-item:click', action: ['list-unchecked:toggle', 'element-filter:filter'] }],\n});\n\n// \nregisterInteraction('active-region', {\n  start: [{ trigger: 'plot:mousemove', action: 'active-region:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'active-region:hide' }],\n});\n\nfunction isWheelDown(event) {\n  event.gEvent.preventDefault();\n  return event.gEvent.originalEvent.deltaY > 0;\n}\nregisterInteraction('view-zoom', {\n  start: [\n    {\n      trigger: 'plot:mousewheel',\n      isEnable(context) {\n        return isWheelDown(context.event);\n      },\n      action: 'scale-zoom:zoomOut',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n    {\n      trigger: 'plot:mousewheel',\n      isEnable(context) {\n        return !isWheelDown(context.event);\n      },\n      action: 'scale-zoom:zoomIn',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n});\n\nregisterInteraction('sibling-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'sibling-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'sibling-tooltip:hide' }],\n});\n\nregisterInteraction('plot-mousewheel-scroll', {\n  start: [{ trigger: 'plot:mousewheel', action: 'mousewheel-scroll:scroll' }],\n});\n\n//  TS  View  Geometry \n/**\n *  View  Geometry \n *\n * Tips:\n * view module augmentation, detail: http://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation\n */\ndeclare module './chart/view' {\n  interface View {\n    /**\n     *  Polygon \n     * @param [cfg]  Polygon \n     * @returns polygon  Polygon \n     */\n    polygon(cfg?: Partial<GeometryCfg>): Polygon;\n    /**\n     *  Point \n     * @param [cfg]  Point \n     * @returns point  Point \n     */\n    point(cfg?: Partial<GeometryCfg>): Point;\n    /**\n     *  Interval \n     * @param [cfg]  Interval \n     * @returns interval  Interval \n     */\n    interval(cfg?: Partial<IntervalCfg>): Interval;\n    /**\n     *  Schema \n     * @param [cfg]  Schema \n     * @returns schema  Schema \n     */\n    schema(cfg?: Partial<GeometryCfg>): Schema;\n    /**\n     *  Path \n     * @param [cfg]  Path \n     * @returns path  Path \n     */\n    path(cfg?: Partial<PathCfg>): Path;\n    /**\n     *  Line \n     * @param [cfg]  Line \n     * @returns line  Line \n     */\n    line(cfg?: Partial<PathCfg>): Line;\n    /**\n     *  Area \n     * @param [cfg]  Area \n     * @returns area  Area \n     */\n    area(cfg?: Partial<AreaCfg>): Area;\n    /**\n     *  Edge \n     * @param [cfg]  Edge \n     * @returns schema  Edge \n     */\n    edge(cfg?: Partial<GeometryCfg>): Edge;\n    /**\n     *  Heatmap \n     * @param [cfg]  Heatmap \n     * @returns heatmap  Heatmap \n     */\n    heatmap(cfg?: Partial<GeometryCfg>): Heatmap;\n    /**\n     *  Violin \n     * @param [cfg]  Violin \n     * @returns violin  Violin \n     */\n    violin(cfg?: Partial<GeometryCfg>): Violin;\n  }\n}\n\n// \nexport { VIEW_LIFE_CIRCLE } from './constant';\n/** brush  */\nexport { BRUSH_FILTER_EVENTS, ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\nexport * from './core';\n",null,null,null,null,"/*  */\n\n// G\nexport {\n  ICanvas,\n  IElement,\n  IGroup,\n  IShape,\n  PathCommand,\n  BBox,\n  Point,\n  ShapeAttrs,\n  Event,\n  AbstractGroup,\n  AbstractShape,\n} from '@antv/g-base';\n//  G-base  g engine \nexport type IG = any;\n\n// adjust\nexport { registerAdjust, getAdjust, Adjust } from '@antv/adjust';\n\n// attr\nexport { getAttribute, Attribute } from '@antv/attr';\nexport { Color } from '@antv/attr';\n\n// coordinate\nexport { getCoordinate, registerCoordinate, Coordinate, CoordinateCfg } from '@antv/coord';\n\n// scale\nexport { getScale, registerScale, Scale, ScaleConfig, Tick } from '@antv/scale';\n\n// component\nimport {\n  Annotation,\n  Axis,\n  Component,\n  Crosshair,\n  Grid,\n  GroupComponent,\n  HtmlComponent,\n  Legend,\n  Slider,\n  Tooltip,\n  Scrollbar,\n} from '@antv/component';\n\nexport {\n  CategoryLegendCfg,\n  CircleAxisCfg,\n  LineAxisCfg,\n  GroupComponentCfg,\n  ListItem,\n  AxisLineCfg,\n  AxisTickLineCfg,\n  AxisSubTickLineCfg,\n  AxisTitleCfg,\n  AxisLabelCfg,\n  GridLineCfg,\n  LegendMarkerCfg,\n  LegendTitleCfg,\n  LegendBackgroundCfg,\n  LegendItemNameCfg,\n  LegendItemValueCfg,\n  LegendPageNavigatorCfg,\n  ContinueLegendCfg,\n  ContinueLegendTrackCfg,\n  ContinueLegendRailCfg,\n  ContinueLegendLabelCfg,\n  ContinueLegendHandlerCfg,\n  CrosshairLineCfg,\n  CrosshairTextCfg,\n  CrosshairTextBackgroundCfg,\n  SliderCfg,\n  TrendCfg,\n  EnhancedTextCfg,\n  LineAnnotationTextCfg,\n  IComponent,\n  IList,\n} from '@antv/component';\n\nexport { HtmlComponent, GroupComponent, Component, Crosshair };\nexport { Annotation };\n// axis\nconst { Line: LineAxis, Circle: CircleAxis } = Axis;\nexport { LineAxis, CircleAxis };\n// grid\nconst { Line: LineGrid, Circle: CircleGrid } = Grid;\nexport { LineGrid, CircleGrid };\n// legend\nconst { Category: CategoryLegend, Continuous: ContinuousLegend } = Legend;\nexport { CategoryLegend, ContinuousLegend };\n// Tooltip\nconst { Html: HtmlTooltip } = Tooltip;\nexport { HtmlTooltip };\n// Slider\nexport { Slider };\n// Scrollbar\nexport { Scrollbar };\n","import { BBox } from '@antv/g-svg';\nimport { each, isEmpty, isNumber, isNumberEqual, max, min } from '@antv/util';\nimport { Coordinate, IShape, Point } from '../dependents';\nimport { ShapeInfo } from '../interface';\n\n// \nfunction getPointsBox(points) {\n  if (isEmpty(points)) {\n    return null;\n  }\n\n  let minX = points[0].x;\n  let maxX = points[0].x;\n  let minY = points[0].y;\n  let maxY = points[0].y;\n  each(points, (point) => {\n    minX = minX > point.x ? point.x : minX;\n    maxX = maxX < point.x ? point.x : maxX;\n    minY = minY > point.y ? point.y : minY;\n    maxY = maxY < point.y ? point.y : maxY;\n  });\n\n  return {\n    minX,\n    maxX,\n    minY,\n    maxY,\n    centerX: (minX + maxX) / 2,\n    centerY: (minY + maxY) / 2,\n  };\n}\n\nfunction uniqueValues<T = number>(array: T[]) {\n  return Array.from(new Set(array)).length === 1;\n}\n\nfunction mid(array: number[]) {\n  return (min(array) + max(array)) / 2;\n}\n\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nexport function polarToCartesian(centerX: number, centerY: number, radius: number, angleInRadian: number) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian),\n  };\n}\n\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getSectorPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number,\n  innerRadius: number = 0\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  const innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n  const innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n\n  if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n    // \n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    const innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n    const circlePathCommands = [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, end.x, end.y],\n      ['M', innerStart.x, innerStart.y],\n    ];\n    if (innerRadius) {\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n      circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n    }\n\n    circlePathCommands.push(['M', start.x, start.y]);\n    circlePathCommands.push(['Z']);\n\n    return circlePathCommands;\n  }\n\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  const sectorPathCommands = [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ['L', innerEnd.x, innerEnd.y],\n  ];\n  if (innerRadius) {\n    sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n  }\n  sectorPathCommands.push(['L', start.x, start.y]);\n  sectorPathCommands.push(['Z']);\n\n  return sectorPathCommands;\n}\n\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nexport function getArcPath(\n  centerX: number,\n  centerY: number,\n  radius: number,\n  startAngleInRadian: number,\n  endAngleInRadian: number\n) {\n  const start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n  const end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n\n  if (isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n    const middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n    return [\n      ['M', start.x, start.y],\n      ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 1, start.x, start.y],\n      ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n      ['A', radius, radius, 0, 1, 0, start.x, start.y],\n      ['Z'],\n    ];\n  }\n  const arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n  return [\n    ['M', start.x, start.y],\n    ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n  ];\n}\n\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nexport function getAngle(shapeModel: ShapeInfo, coordinate: Coordinate) {\n  const points = shapeModel.points;\n  const box = getPointsBox(points);\n  let endAngle;\n  let startAngle;\n  const { startAngle: coordStartAngle, endAngle: coordEndAngle } = coordinate;\n  const diffAngle = coordEndAngle - coordStartAngle;\n\n  if (coordinate.isTransposed) {\n    endAngle = box.maxY * diffAngle;\n    startAngle = box.minY * diffAngle;\n  } else {\n    endAngle = box.maxX * diffAngle;\n    startAngle = box.minX * diffAngle;\n  }\n  endAngle += coordStartAngle;\n  startAngle += coordStartAngle;\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nexport function getPolygonCentroid(xs: number | number[], ys: number | number[]) {\n  if (isNumber(xs) && isNumber(ys)) {\n    // xs  ys \n    return [xs, ys];\n  }\n\n  xs = xs as number[];\n  ys = ys as number[];\n  //  polygon \n  //  xs [1, 1, 1, 1]\n  //  ys [0, 0, 0, 0]\n  //  k = 0\n  //  [NaN, NaN]\n  // \n  if (uniqueValues(xs) || uniqueValues(ys)) return [mid(xs), mid(ys)];\n\n  let i = -1;\n  let x = 0;\n  let y = 0;\n  let former;\n  let current = xs.length - 1;\n  let diff;\n  let k = 0;\n  while (++i < xs.length) {\n    former = current;\n    current = i;\n    k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n    x += (xs[former] + xs[current]) * diff;\n    y += (ys[former] + ys[current]) * diff;\n  }\n  k *= 3;\n  return [x / k, y / k];\n}\n\n/**\n * @ignore\n *  undefined\n */\nexport function getReplaceAttrs(sourceShape: IShape, targetShape: IShape) {\n  const originAttrs = sourceShape.attr();\n  const newAttrs = targetShape.attr();\n  each(originAttrs, (v, k) => {\n    if (newAttrs[k] === undefined) {\n      newAttrs[k] = undefined;\n    }\n  });\n  return newAttrs;\n}\n","import { isArray, isString } from '@antv/util';\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n\n/**\n * @ignore\n * pads the current string/array with a given value (repeated, if needed) so that the resulting reaches a given length.\n * The padding is applied from the end of the current value.\n *\n * @param source\n * @param targetLength\n * @param padValue\n * @returns\n */\nexport function padEnd(source: string | any[], targetLength: number, padValue: any) {\n  if (isString(source)) {\n    return source.padEnd(targetLength, padValue);\n  } else if (isArray(source)) {\n    const sourceLength = source.length;\n    if (sourceLength < targetLength) {\n      const diff = targetLength - sourceLength;\n      for (let i = 0; i < diff; i++) {\n        source.push(padValue);\n      }\n    }\n  }\n\n  return source;\n}\n\n/**\n * @ignore\n * omit keys of an object.\n * @param obj\n * @param keys\n */\nexport function omit<T = any>(obj: T, keys: string[]): T {\n  if (typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      delete obj[key];\n    });\n  }\n\n  return obj;\n}\n\n/**\n * @ignore\n * @param sourceArray\n * @param targetArray\n * @param map\n */\nexport function uniq(sourceArray: any[], targetArray: any[] = [], map: Map<any, boolean> = new Map()) {\n  for (const source of sourceArray) {\n    if (!map.has(source)) {\n      targetArray.push(source);\n      map.set(source, true);\n    }\n  }\n  return targetArray;\n}\n","import { each } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Padding, Point, Region } from '../interface';\nimport { BBox as BBoxObject } from '../dependents';\n\n/**\n * \n */\nexport class BBox {\n  /** x  */\n  public x: number;\n  /** y  */\n  public y: number;\n  /**  */\n  public height: number;\n  /**  */\n  public width: number;\n\n  public static fromRange(minX: number, minY: number, maxX: number, maxY: number) {\n    return new BBox(minX, minY, maxX - minX, maxY - minY);\n  }\n\n  public static fromObject(bbox: BBoxObject) {\n    return new BBox(bbox.minX, bbox.minY, bbox.width, bbox.height);\n  }\n\n  constructor(x: number = 0, y: number = 0, width: number = 0, height: number = 0) {\n    this.x = x;\n    this.y = y;\n    this.height = height;\n    this.width = width;\n  }\n\n  public get minX(): number {\n    return this.x;\n  }\n\n  public get maxX(): number {\n    return this.x + this.width;\n  }\n\n  public get minY(): number {\n    return this.y;\n  }\n\n  public get maxY(): number {\n    return this.y + this.height;\n  }\n\n  public get tl(): Point {\n    return { x: this.x, y: this.y };\n  }\n\n  public get tr(): Point {\n    return { x: this.maxX, y: this.y };\n  }\n\n  public get bl(): Point {\n    return { x: this.x, y: this.maxY };\n  }\n\n  public get br(): Point {\n    return { x: this.maxX, y: this.maxY };\n  }\n\n  public get top(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.minY,\n    };\n  }\n\n  public get right(): Point {\n    return {\n      x: this.maxX,\n      y: this.y + this.height / 2,\n    };\n  }\n  public get bottom(): Point {\n    return {\n      x: this.x + this.width / 2,\n      y: this.maxY,\n    };\n  }\n  public get left(): Point {\n    return {\n      x: this.minX,\n      y: this.y + this.height / 2,\n    };\n  }\n  // end \n\n  /**\n   * \n   * @param {BBox} bbox \n   * @returns      \n   */\n  public isEqual(bbox: BBox): boolean {\n    return this.x === bbox.x && this.y === bbox.y && this.width === bbox.width && this.height === bbox.height;\n  }\n\n  /**\n   * \n   * @param child\n   */\n  public contains(child: BBox): boolean {\n    return child.minX >= this.minX && child.maxX <= this.maxX && child.minY >= this.minY && child.maxY <= this.maxY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public clone(): BBox {\n    return new BBox(this.x, this.y, this.width, this.height);\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public add(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.min(b.x, bbox.x);\n      bbox.y = Math.min(b.y, bbox.y);\n      bbox.width = Math.max(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.max(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * \n   * @param subBBox\n   */\n  public merge(...subBBox: BBox[]): BBox {\n    const bbox = this.clone();\n    each(subBBox, (b: BBox) => {\n      bbox.x = Math.max(b.x, bbox.x);\n      bbox.y = Math.max(b.y, bbox.y);\n      bbox.width = Math.min(b.maxX, bbox.maxX) - bbox.x;\n      bbox.height = Math.min(b.maxY, bbox.maxY) - bbox.y;\n    });\n\n    return bbox;\n  }\n\n  /**\n   * bbox \n   * @param subBBox\n   * @param direction\n   */\n  public cut(subBBox: BBox, direction: DIRECTION): BBox {\n    const width = subBBox.width;\n    const height = subBBox.height;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        return BBox.fromRange(this.minX, this.minY + height, this.maxX, this.maxY);\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        return BBox.fromRange(this.minX, this.minY, this.maxX - width, this.maxY);\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        return BBox.fromRange(this.minX, this.minY, this.maxX, this.maxY - height);\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        return BBox.fromRange(this.minX + width, this.minY, this.maxX, this.maxY);\n      default:\n        // \n        return this;\n    }\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public shrink(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x + left, this.y + top, this.width - left - right, this.height - top - bottom);\n  }\n\n  /**\n   * \n   * @param gap\n   */\n  public expand(gap: Padding): BBox {\n    const [top, right, bottom, left] = gap;\n\n    return new BBox(this.x - left, this.y - top, this.width + left + right, this.height + top + bottom);\n  }\n\n  /**\n   * get the gap of two bbox, if not exceed, then 0\n   * @param bbox\n   * @returns [top, right, bottom, left]\n   */\n  public exceed(bbox: BBox): Padding {\n    return [\n      Math.max(-this.minY + bbox.minY, 0),\n      Math.max(this.maxX - bbox.maxX, 0),\n      Math.max(this.maxY - bbox.maxY, 0),\n      Math.max(-this.minX + bbox.minX, 0),\n    ];\n  }\n\n  /**\n   * \n   * @param bbox\n   */\n  public collide(bbox: BBox): boolean {\n    return this.minX < bbox.maxX && this.maxX > bbox.minX && this.minY < bbox.maxY && this.maxY > bbox.minY;\n  }\n\n  /**\n   * \n   * @returns \n   */\n  public size(): number {\n    return this.width * this.height;\n  }\n\n  /**\n   *  bbox \n   * @param p\n   */\n  public isPointIn(p: Point) {\n    return p.x >= this.minX && p.x <= this.maxX && p.y >= this.minY && p.y <= this.maxY;\n  }\n}\n\n/**\n *  bbox  region  bbox\n * @param bbox\n * @param region\n */\nexport const getRegionBBox = (bbox: BBox, region: Region): BBox => {\n  const { start, end } = region;\n\n  return new BBox(\n    bbox.x + bbox.width * start.x,\n    bbox.y + bbox.height * start.y,\n    bbox.width * Math.abs(end.x - start.x),\n    bbox.height * Math.abs(end.y - start.y)\n  );\n};\n\n/**\n *  bbox  points\n * @param bbox\n */\nexport function toPoints(bbox: Partial<BBox>): any[] {\n  return [\n    [bbox.minX, bbox.minY],\n    [bbox.maxX, bbox.minY],\n    [bbox.maxX, bbox.maxY],\n    [bbox.minX, bbox.maxY],\n  ];\n}\n","import { Coordinate } from '../dependents';\nimport { Point } from '../interface';\nimport { getSectorPath } from './graphics';\nimport { isBetween } from './helper';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n * Gets x dimension length\n * @param coordinate\n * @returns x dimension length\n */\nexport function getXDimensionLength(coordinate): number {\n  if (coordinate.isPolar && !coordinate.isTransposed) {\n    //  width \n    return (coordinate.endAngle - coordinate.startAngle) * coordinate.getRadius();\n  }\n\n  // \n  const start = coordinate.convert({ x: 0, y: 0 });\n  const end = coordinate.convert({ x: 1, y: 0 });\n  //  transpose \n  return Math.sqrt(Math.pow(end.x - start.x, 2) + Math.pow(end.y - start.y, 2));\n}\n\n/**\n * @ignore\n * Determines whether full circle is\n * @param coordinate\n * @returns true if full circle\n */\nexport function isFullCircle(coordinate: Coordinate): boolean {\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    return endAngle - startAngle === Math.PI * 2;\n  }\n  return false;\n}\n\n/**\n * @ignore\n * \n * @param coordinate \n * @param point \n * @returns distance to center\n */\nexport function getDistanceToCenter(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter() as Point;\n  return Math.sqrt((point.x - center.x) ** 2 + (point.y - center.y) ** 2);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @param point\n */\nexport function isPointInCoordinate(coordinate: Coordinate, point: Point) {\n  let result = false;\n\n  if (coordinate) {\n    if (coordinate.type === 'theta') {\n      const { start, end } = coordinate;\n      result = isBetween(point.x, start.x, end.x) && isBetween(point.y, start.y, end.y);\n    } else {\n      const invertPoint = coordinate.invert(point);\n\n      result = isBetween(invertPoint.x, 0, 1) && isBetween(invertPoint.y, 0, 1);\n    }\n  }\n\n  return result;\n}\n\n/**\n * @ignore\n * \n */\nexport function getAngleByPoint(coordinate: Coordinate, point: Point): number {\n  const center = coordinate.getCenter();\n  return Math.atan2(point.y - center.y, point.x - center.x);\n}\n\n/**\n * @ignore\n * \n * @param coordinate\n * @returns\n */\nexport function getCoordinateClipCfg(coordinate: Coordinate, margin: number = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n\n  if (coordinate.isPolar) {\n    const { startAngle, endAngle } = coordinate;\n    const center = coordinate.getCenter();\n    const radius = coordinate.getRadius();\n\n    return {\n      type: 'path',\n      startState: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, startAngle),\n      },\n      endState: (ratio) => {\n        const diff = (endAngle - startAngle) * ratio + startAngle;\n        const path = getSectorPath(center.x, center.y, radius + margin, startAngle, diff);\n        return {\n          path,\n        };\n      },\n      attrs: {\n        path: getSectorPath(center.x, center.y, radius + margin, startAngle, endAngle),\n      },\n    };\n  }\n\n  let endState;\n  if (coordinate.isTransposed) {\n    endState = {\n      height: height + margin * 2,\n    };\n  } else {\n    endState = {\n      width: width + margin * 2,\n    };\n  }\n\n  return {\n    type: 'rect',\n    startState: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: coordinate.isTransposed ? width + margin * 2 : 0,\n      height: coordinate.isTransposed ? 0 : height + margin * 2,\n    },\n    endState,\n    attrs: {\n      x: start.x - margin,\n      y: end.y - margin,\n      width: width + margin * 2,\n      height: height + margin * 2,\n    },\n  };\n}\n\n/**\n *  BBox\n * @param coordinate\n * @param margin\n */\nexport function getCoordinateBBox(coordinate: Coordinate, margin = 0) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  const minX = Math.min(start.x, end.x);\n  const minY = Math.min(start.y, end.y);\n\n  return BBox.fromRange(minX - margin, minY - margin, minX + width + margin, minY + height + margin);\n}\n","import { firstValue, get, isEmpty, isNil, isNumber, isString, valuesOfKey } from '@antv/util';\nimport { GROUP_ATTRS } from '../constant';\nimport { getScale, Scale, Coordinate } from '../dependents';\nimport { LooseObject, ScaleOption, ViewCfg } from '../interface';\nimport { isFullCircle } from './coordinate';\n\nconst dateRegex =\n  /^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\\1(?:29|30)|(?:0?[13578]|1[02])\\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\\2(?:29))(\\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;\n\n/**\n * \n * @param field \n * @param data \n * @returns default type \n */\nfunction getDefaultType(value: any): string {\n  let type = 'linear';\n  if (dateRegex.test(value)) {\n    type = 'timeCat';\n  } else if (isString(value)) {\n    type = 'cat';\n  }\n  return type;\n}\n\n/**\n * using the scale type if user specified, otherwise infer the type\n */\nexport function inferScaleType(scale: Scale, scaleDef: ScaleOption = {}, attrType: string, geometryType: string): string {\n  if (scaleDef.type) return scaleDef.type;\n  // identity scale \n  // geometry : edge,heatmap,interval,line,path,point,polygon,schema,voilininterval  linear scale \n  if (scale.type !== 'identity' && GROUP_ATTRS.includes(attrType) && ['interval'].includes(geometryType)) {\n    return 'cat';\n  }\n  return scale.isCategory ? 'cat' : scale.type;\n}\n\n/**\n * @ignore\n *  `field`  scale\n * @param field \n * @param [data] \n * @param [scaleDef] \n * @returns scale  Scale \n */\nexport function createScaleByField(field: string | number, data?: LooseObject[] | [], scaleDef?: ScaleOption): Scale {\n  const validData = data || [];\n\n  if (isNumber(field) || (isNil(firstValue(validData, field)) && isEmpty(scaleDef))) {\n    const Identity = getScale('identity');\n    return new Identity({\n      field: field.toString(),\n      values: [field],\n    });\n  }\n\n  const values = valuesOfKey(validData, field);\n\n  //  (fix-later  scale type )\n  const type = get(scaleDef, 'type', getDefaultType(values[0]));\n  const ScaleCtor = getScale(type);\n  return new ScaleCtor({\n    field,\n    values,\n    ...scaleDef,\n  });\n}\n\n/**\n * @ignore\n *  scale\n * @todo  scale.update() \n * @param scale  scale \n * @param newScale  Scale\n */\nexport function syncScale(scale: Scale, newScale: Scale) {\n  if (scale.type !== 'identity' && newScale.type !== 'identity') {\n    const obj = {};\n    for (const k in newScale) {\n      if (Object.prototype.hasOwnProperty.call(newScale, k)) {\n        obj[k] = newScale[k];\n      }\n    }\n\n    scale.change(obj);\n  }\n}\n\n/**\n * @ignore\n * get the scale name, if alias exist, return alias, or else field\n * @param scale\n * @returns the name of field\n */\nexport function getName(scale: Scale): string {\n  return scale.alias || scale.field;\n}\n\n/**\n *  scale values  coordinate  range\n * @param scale  scale \n * @param coordinate coordinate \n * @param theme theme\n */\nexport function getDefaultCategoryScaleRange(\n  scale: Scale,\n  coordinate: Coordinate,\n  theme: ViewCfg['theme']\n): Scale['range'] {\n  const { values } = scale;\n  const count = values.length;\n  let range;\n\n  if (count === 1) {\n    range = [0.5, 1]; // , [0.5,0.5] \n  } else {\n    let widthRatio = 1;\n    let offset = 0;\n\n    if (isFullCircle(coordinate)) {\n      if (!coordinate.isTransposed) {\n        range = [0, 1 - 1 / count];\n      } else {\n        widthRatio = get(theme, 'widthRatio.multiplePie', 1 / 1.3);\n        offset = (1 / count) * widthRatio;\n        range = [offset / 2, 1 - offset / 2];\n      }\n    } else {\n      offset = 1 / count / 2; // \n      range = [offset, 1 - offset]; // \n    }\n  }\n  return range;\n}\n\n/**\n * @function yscalemax\n * @param {yScale}\n */\nexport function getMaxScale(scale: Scale) {\n  // values[] NaN/undefined/null \n  const values = scale.values.filter((item) => !isNil(item) && !isNaN(item));\n\n  return Math.max(...values, isNil(scale.max) ? -Infinity : scale.max);\n}\n","import { deepMix, get, isBoolean } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale } from '../dependents';\nimport { AxisCfg, AxisOption, Point, Region } from '../interface';\nimport { getName } from './scale';\nimport { vec2 } from '@antv/matrix-util';\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is rect\n * @param direction\n * @returns axis coordinate region\n */\nexport function getLineAxisRelativeRegion(direction: DIRECTION): Region {\n  let start;\n  let end;\n\n  switch (direction) {\n    case DIRECTION.TOP:\n      start = { x: 0, y: 1 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.RIGHT:\n      start = { x: 1, y: 0 };\n      end = { x: 1, y: 1 };\n      break;\n    case DIRECTION.BOTTOM:\n      start = { x: 0, y: 0 };\n      end = { x: 1, y: 0 };\n      break;\n    case DIRECTION.LEFT:\n      start = { x: 0, y: 0 };\n      end = { x: 0, y: 1 };\n      break;\n    default:\n      start = end = { x: 0, y: 0 };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get axis relative region ( 0 ~ 1) by direction when coordinate is polar\n * @param coordinate\n * @returns axis coordinate region\n */\nexport function getCircleAxisRelativeRegion(coordinate: Coordinate) {\n  let start;\n  let end;\n  if (coordinate.isTransposed) {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 1,\n      y: 0,\n    };\n  } else {\n    start = {\n      x: 0,\n      y: 0,\n    };\n    end = {\n      x: 0,\n      y: 1,\n    };\n  }\n\n  return { start, end };\n}\n\n/**\n * @ignore\n * get the axis region from coordinate\n * @param coordinate\n * @param direction\n * @returns the axis region (start point, end point)\n */\nexport function getAxisRegion(coordinate: Coordinate, direction: DIRECTION): Region {\n  let region = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } };\n  if (coordinate.isRect) {\n    region = getLineAxisRelativeRegion(direction);\n  } else if (coordinate.isPolar) {\n    region = getCircleAxisRelativeRegion(coordinate);\n  }\n\n  const { start, end } = region;\n  return {\n    start: coordinate.convert(start),\n    end: coordinate.convert(end),\n  };\n}\n\n/**\n * @ignore\n * get axis factor\n * @param coordinate\n * @param direction\n * @returns factor\n */\nexport function getAxisFactor(coordinate: Coordinate, direction: DIRECTION): number {\n  // rect coordinate, by direction\n  if (coordinate.isRect) {\n    return coordinate.isTransposed\n      ? [DIRECTION.RIGHT, DIRECTION.BOTTOM].includes(direction)\n        ? 1\n        : -1\n      : [DIRECTION.BOTTOM, DIRECTION.RIGHT].includes(direction)\n      ? -1\n      : 1;\n  }\n\n  // polar y axis, by angle\n  if (coordinate.isPolar) {\n    const startAngle = coordinate.x.start;\n    return startAngle < 0 ? -1 : 1;\n  }\n\n  return 1;\n}\n\n/**\n * @ignore\n * whether the axis isVertical\n * @param region\n * @returns isVertical\n */\nexport function isVertical(region: Region): boolean {\n  const { start, end } = region;\n\n  return start.x === end.x;\n}\n\n/**\n * @ignore\n * get factor by region (real position)\n * @param region\n * @param center\n * @returns factor\n */\nexport function getAxisFactorByRegion(region: Region, center: Point): number {\n  const { start, end } = region;\n\n  const isAxisVertical = isVertical(region);\n\n  // \n  if (isAxisVertical) {\n    // ,,\n    if ((start.y - end.y) * (center.x - start.x) > 0) {\n      return 1;\n    } else {\n      return -1;\n    }\n  } else {\n    // ,,\n    if ((end.x - start.x) * (start.y - center.y) > 0) {\n      return -1;\n    } else {\n      return 1;\n    }\n  }\n}\n\n/**\n * @ignore\n * get the axis cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction axis direction\n * @returns axis theme cfg\n */\nexport function getAxisThemeCfg(theme: object, direction: string): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix({}, get(axisTheme, ['common'], {}), deepMix({}, get(axisTheme, [direction], {})));\n}\n\n/**\n * get the options of axis titlemix the cfg from theme, avoid common themeCfg not work\n * @param theme\n * @param direction\n * @param axisOptions\n * @returns axis title options\n */\nexport function getAxisTitleOptions(theme: object, direction: string, axisOptions?: object): object {\n  const axisTheme = get(theme, ['components', 'axis'], {});\n  return deepMix(\n    {},\n    get(axisTheme, ['common', 'title'], {}),\n    deepMix({}, get(axisTheme, [direction, 'title'], {})),\n    axisOptions\n  );\n}\n\n/**\n * @ignore\n * get circle axis center and radius\n * @param coordinate\n */\nexport function getCircleAxisCenterRadius(coordinate: Coordinate) {\n  // @ts-ignore\n  const { x, y, circleCenter: center } = coordinate;\n  const isReflectY = y.start > y.end;\n  const start = coordinate.isTransposed\n    ? coordinate.convert({\n        x: isReflectY ? 0 : 1,\n        y: 0,\n      })\n    : coordinate.convert({\n        x: 0,\n        y: isReflectY ? 0 : 1,\n      });\n\n  const startVector: [number, number] = [start.x - center.x, start.y - center.y];\n  const normalVector: [number, number] = [1, 0];\n  const startAngle =\n    start.y > center.y ? vec2.angle(startVector, normalVector) : vec2.angle(startVector, normalVector) * -1;\n  const endAngle = startAngle + (x.end - x.start);\n  const radius = Math.sqrt((start.x - center.x) ** 2 + (start.y - center.y) ** 2);\n\n  return {\n    center,\n    radius,\n    startAngle,\n    endAngle,\n  };\n}\n\n/**\n * @ignore\n *  axis \n * @param axes\n * @param field\n * @returns the axis option of field\n */\nexport function getAxisOption(axes: Record<string, AxisOption> | boolean, field: string) {\n  if (isBoolean(axes)) {\n    return axes === false ? false : {};\n  }\n  return get(axes, [field]);\n}\n\n/**\n * @ignore\n *  position\n * @param axisOption\n * @param def\n */\nexport function getAxisDirection(axisOption: AxisOption, def: DIRECTION): DIRECTION {\n  return get(axisOption, 'position', def);\n}\n\n/**\n *  axis  title \n * @param scale\n * @param axisOption\n */\nexport function getAxisTitleText(scale: Scale, axisOption: AxisCfg): string {\n  return get(axisOption, ['title', 'text'], getName(scale));\n}\n","import { deepMix, each, every, get, isNil, isNumber } from '@antv/util';\nimport { LAYER } from '../constant';\nimport { IGroup } from '../dependents';\nimport { AxisCfg, Condition, Datum, FacetCfg, FacetData, FacetDataFilter, Region } from '../interface';\n\nimport View from '../chart/view';\nimport { getAxisOption } from '../util/axis';\n\n/**\n * facet \n *  -  facet\n *  - \n *\n * \n *\n *  init\n * 1. \n * 2. \n *\n *  render\n * 1. view \n * 2. title\n * 3. axis\n *\n *  clear\n * 1.  view\n *\n *  destroy\n * 1. clear\n * 2. \n * 3.  group\n */\nexport abstract class Facet<C extends FacetCfg<FacetData> = FacetCfg<FacetData>, F extends FacetData = FacetData> {\n  /**  view */\n  public view: View;\n  /**  */\n  public container: IGroup;\n  /**  */\n  public destroyed: boolean = false;\n\n  /**  */\n  protected cfg: C;\n  /**  */\n  protected facets: F[] = [];\n\n  constructor(view: View, cfg: C) {\n    this.view = view;\n    this.cfg = deepMix({}, this.getDefaultCfg(), cfg);\n  }\n\n  /**\n   * \n   */\n  public init() {\n    // \n    if (!this.container) {\n      this.container = this.createContainer();\n    }\n\n    // \n    const data = this.view.getData();\n    this.facets = this.generateFacets(data);\n  }\n\n  /**\n   *  view \n   *  -  view\n   *  - \n   *  - title\n   *\n   *  \n   */\n  public render() {\n    this.renderViews();\n  }\n\n  /**\n   *  facet\n   */\n  public update() {\n    //  facet  View  Geometry  view \n  }\n\n  /**\n   * clear  init \n   * \n   */\n  public clear() {\n    this.clearFacetViews();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clear();\n\n    if (this.container) {\n      this.container.remove(true);\n      this.container = undefined;\n    }\n\n    this.destroyed = true;\n    this.view = undefined;\n    this.facets = [];\n  }\n\n  /**\n   *  facet  view\n   * @param facet\n   */\n  protected facetToView(facet: F): View {\n    const { region, data, padding = this.cfg.padding } = facet;\n\n    const view = this.view.createView({\n      region,\n      padding,\n    });\n\n    // \n    view.data(data || []);\n    facet.view = view;\n\n    // \n    this.beforeEachView(view, facet);\n\n    const { eachView } = this.cfg;\n    if (eachView) {\n      eachView(view, facet);\n    }\n\n    // \n    this.afterEachView(view, facet);\n\n    return view;\n  }\n\n  // \n  private createContainer(): IGroup {\n    const foregroundGroup = this.view.getLayer(LAYER.FORE);\n    return foregroundGroup.addGroup();\n  }\n\n  /**\n   *  view\n   */\n  private renderViews() {\n    this.createFacetViews();\n  }\n\n  /**\n   *   view\n   */\n  private createFacetViews(): View[] {\n    //   view\n    return this.facets.map((facet): View => {\n      return this.facetToView(facet);\n    });\n  }\n\n  /**\n   *  view  facetView\n   */\n  private clearFacetViews() {\n    //  view  view\n    each(this.facets, (facet) => {\n      if (facet.view) {\n        this.view.removeView(facet.view);\n        facet.view = undefined;\n      }\n    });\n  }\n\n  /**\n   *  spacing\n   */\n  private parseSpacing() {\n    /**\n     * @example\n     *\n     * // \n     * //  10% 10%\n     * ['10%', '10%']\n     * //  10px 10px\n     * [10, 10]\n     *\n     * // \n     * ['10%', 10]\n     * //  10% 10px\n     */\n    const { width, height } = this.view.viewBBox;\n    const { spacing } = this.cfg;\n    return spacing.map((s: number, idx: number) => {\n      if (isNumber(s)) return s / (idx === 0 ? width : height);\n      else return parseFloat(s) / 100;\n    });\n  }\n\n  // \n\n  /**\n   * \n   * @protected\n   * @param data \n   * @param field \n   * @return \n   */\n  protected getFieldValues(data: Datum[], field: string): string[] {\n    const rst = [];\n    const cache: Record<string, boolean> = {};\n\n    //  Nil \n    each(data, (d: Datum) => {\n      const value = d[field];\n      if (!isNil(value) && !cache[value]) {\n        rst.push(value);\n        cache[value] = true;\n      }\n    });\n\n    return rst;\n  }\n\n  /**\n   *  region\n   * @param rows row \n   * @param cols col \n   * @param xIndex x  index\n   * @param yIndex y  index\n   */\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number): Region {\n    const [xSpacing, ySpacing] = this.parseSpacing();\n    // xSPacing, ySpacing\n    // \n    /**\n     * ratio * num + spacing * (num - 1) = 1\n     * => ratio = (1 - (spacing * (num - 1))) / num\n     *          = (1 + spacing) / num - spacing\n     *\n     * num  cols/rows\n     * spacing  xSpacing/ySpacing\n     */\n    const xRatio = (1 + xSpacing) / (cols === 0 ? 1 : cols) - xSpacing;\n    const yRatio = (1 + ySpacing) / (rows === 0 ? 1 : rows) - ySpacing;\n\n    //  index \n    const start = {\n      x: (xRatio + xSpacing) * xIndex,\n      y: (yRatio + ySpacing) * yIndex,\n    };\n    const end = {\n      x: start.x + xRatio,\n      y: start.y + yRatio,\n    };\n    return { start, end };\n  }\n\n  protected getDefaultCfg() {\n    return {\n      eachView: undefined,\n      showTitle: true,\n      spacing: [0, 0],\n      padding: 10,\n      fields: [],\n    };\n  }\n\n  /**\n   *  title  title columnTitlerowTitle\n   */\n  protected getDefaultTitleCfg() {\n    // @ts-ignore\n    const fontFamily = this.view.getTheme().fontFamily;\n    return {\n      style: {\n        fontSize: 14,\n        fill: '#666',\n        fontFamily,\n      },\n    };\n  }\n\n  /**\n   *  axis \n   * @param view\n   * @param facet\n   */\n  protected processAxis(view: View, facet: F) {\n    const options = view.getOptions();\n\n    const coordinateOption = options.coordinate;\n    const geometries = view.geometries;\n\n    const coordinateType = get(coordinateOption, 'type', 'rect');\n\n    if (coordinateType === 'rect' && geometries.length) {\n      if (isNil(options.axes)) {\n        // @ts-ignore\n        options.axes = {};\n      }\n      const axes = options.axes;\n\n      const [x, y] = geometries[0].getXYFields();\n\n      const xOption = getAxisOption(axes, x);\n      const yOption = getAxisOption(axes, y);\n\n      if (xOption !== false) {\n        options.axes[x] = this.getXAxisOption(x, axes, xOption, facet);\n      }\n\n      if (yOption !== false) {\n        options.axes[y] = this.getYAxisOption(y, axes, yOption, facet);\n      }\n    }\n  }\n\n  /**\n   * \n   * @param conditions\n   */\n  protected getFacetDataFilter(conditions: Condition[]): FacetDataFilter {\n    return (datum: Datum) => {\n      // \n      return every(conditions, (condition) => {\n        const { field, value } = condition;\n\n        if (!isNil(value) && field) {\n          return datum[field] === value;\n        }\n        return true;\n      });\n    };\n  }\n\n  /**\n   * @override  eachView\n   * @param view\n   * @param facet\n   */\n  protected abstract beforeEachView(view: View, facet: F);\n\n  /**\n   * @override  eachView \n   * @param view\n   * @param facet\n   */\n  protected abstract afterEachView(view: View, facet: F);\n\n  /**\n   * @override \n   * @param data\n   */\n  protected abstract generateFacets(data: Datum[]): F[];\n\n  /**\n   *  x \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getXAxisOption(x: string, axes: any, option: AxisCfg, facet: F): object;\n\n  /**\n   *  y \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected abstract getYAxisOption(y: string, axes: any, option: AxisCfg, facet: F): object;\n}\n","import { lowerCase } from '@antv/util';\nimport { FacetCtor } from '../interface';\nexport { Facet } from './facet';\n\n/**\n *  Facet \n */\nconst Facets: Record<string, FacetCtor> = {};\n\n/**\n *  type  facet \n * @param type \n */\nexport const getFacet = (type: string): FacetCtor => {\n  return Facets[lowerCase(type)];\n};\n\n/**\n *  Facet \n * @param type \n * @param ctor \n */\nexport const registerFacet = (type: string, ctor: FacetCtor) => {\n  Facets[lowerCase(type)] = ctor;\n};\n","import { assign } from '@antv/util';\nimport { IAction, IInteractionContext, LooseObject } from '../../interface';\n\n/**\n * Action \n */\nabstract class Action<T = LooseObject> implements IAction {\n  /** Action  */\n  public name;\n  /**  */\n  public context: IInteractionContext;\n  /** Action  */\n  protected cfg: T;\n  /**  this  */\n  protected cfgFields: string[];\n\n  constructor(context: IInteractionContext, cfg?: T) {\n    this.context = context;\n    this.cfg = cfg;\n    context.addAction(this);\n  }\n\n  /**\n   * \n   * @param cfg\n   */\n  protected applyCfg(cfg) {\n    assign(this, cfg);\n  }\n\n  /**\n   * Inits action\n   */\n  public init() {\n    this.applyCfg(this.cfg);\n  }\n\n  /**\n   * Destroys action\n   */\n  public destroy() {\n    //  action\n    this.context.removeAction(this);\n    // \n    this.context = null;\n  }\n}\n\nexport default Action;\n","import { ActionCallback } from '../../interface';\nimport Action from './base';\n\n/**  Action */\nexport default class CallbackAction extends Action {\n  /**\n   * \n   */\n  public callback: ActionCallback;\n  /**\n   * \n   */\n  public execute() {\n    if (this.callback) {\n      this.callback(this.context);\n    }\n  }\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy();\n    this.callback = null;\n  }\n}\n","import { ActionCallback, IInteractionContext, LooseObject } from '../../interface';\nimport Action from './base';\nimport CallbackAction from './callback';\nimport { get } from '@antv/util';\n\n/** Action  */\ntype ActionConstructor = new (context: IInteractionContext, cfg?: LooseObject) => Action;\n\n/** @ignore */\ninterface ActionOption {\n  ActionClass: ActionConstructor;\n  cfg: LooseObject;\n}\n\n// Action \nconst ActionCache: Record<string, ActionOption> = {};\n\n/**\n *  Action \n * @param actionName - action \n * @param context \n * @returns Action \n */\nexport function createAction(actionName: string, context: IInteractionContext): Action {\n  const actionOption = ActionCache[actionName];\n  let action = null;\n  if (actionOption) {\n    const { ActionClass, cfg } = actionOption;\n    action = new ActionClass(context, cfg);\n    action.name = actionName;\n    action.init();\n  }\n  return action;\n}\n\n/**\n *  action  name \n * @param actionName action  name\n */\nexport function getActionClass(actionName: string): ActionConstructor {\n  const actionOption = ActionCache[actionName];\n  return get(actionOption, 'ActionClass');\n}\n\n/**\n *  Action\n * @param actionName - action \n * @param ActionClass -  action \n */\nexport function registerAction(actionName: string, ActionClass: ActionConstructor, cfg?: LooseObject) {\n  ActionCache[actionName] = {\n    ActionClass,\n    cfg,\n  };\n}\n\n/**\n *  Action\n * @param actionName action \n */\nexport function unregisterAction(actionName: string) {\n  delete ActionCache[actionName];\n}\n\n/**\n *  Action \n * @param callback - action \n * @param context \n * @returns Action \n */\nexport function createCallbackAction(callback: ActionCallback, context: IInteractionContext): CallbackAction {\n  const action = new CallbackAction(context);\n  action.callback = callback;\n  action.name = 'callback';\n  return action;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position } from '../../../interface';\nimport { getDistanceToCenter } from '../../../util/coordinate';\n\nfunction _points2path(points: Point[], isInCircle: boolean): PathCommand[] {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n\n  return path;\n}\n\nfunction _convertArr(arr: number[], coord: Coordinate): any[] {\n  const tmp = [arr[0]];\n  for (let i = 1, len = arr.length; i < len; i = i + 2) {\n    const point = coord.convert({\n      x: arr[i],\n      y: arr[i + 1],\n    });\n    tmp.push(point.x, point.y);\n  }\n  return tmp;\n}\nfunction _convertArcPath(path: PathCommand, coord: Coordinate): any[] {\n  const { isTransposed } = coord;\n  const r = path[1];\n  const x = path[6];\n  const y = path[7];\n  const point = coord.convert({ x, y });\n  const direction = isTransposed ? 0 : 1;\n  return ['A', r, r, 0, 0, direction, point.x, point.y];\n}\n\nfunction _convertPolarPath(pre: PathCommand, cur: PathCommand, coord: Coordinate): PathCommand[] {\n  const { isTransposed, startAngle, endAngle } = coord;\n  const prePoint =\n    pre[0].toLowerCase() === 'a'\n      ? {\n          x: pre[6],\n          y: pre[7],\n        }\n      : {\n          x: pre[1],\n          y: pre[2],\n        };\n  const curPoint = {\n    x: cur[1],\n    y: cur[2],\n  };\n  const rst = [];\n  const xDim = isTransposed ? 'y' : 'x';\n  const angleRange = Math.abs(curPoint[xDim] - prePoint[xDim]) * (endAngle - startAngle);\n  const direction = curPoint[xDim] >= prePoint[xDim] ? 1 : 0; // \n  const flag = angleRange > Math.PI ? 1 : 0; // \n  const convertPoint = coord.convert(curPoint);\n  const r = getDistanceToCenter(coord, convertPoint);\n  if (r >= 0.5) {\n    // 1\n    if (angleRange === Math.PI * 2) {\n      const middlePoint = {\n        x: (curPoint.x + prePoint.x) / 2,\n        y: (curPoint.y + prePoint.y) / 2,\n      };\n      const middleConvertPoint = coord.convert(middlePoint);\n      rst.push(['A', r, r, 0, flag, direction, middleConvertPoint.x, middleConvertPoint.y]);\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    } else {\n      rst.push(['A', r, r, 0, flag, direction, convertPoint.x, convertPoint.y]);\n    }\n  }\n  return rst;\n}\n\n// \nfunction _filterFullCirleLine(path: PathCommand[]) {\n  each(path, (subPath, index) => {\n    const cur = subPath;\n    if (cur[0].toLowerCase() === 'a') {\n      const pre = path[index - 1];\n      const next = path[index + 1];\n      if (next && next[0].toLowerCase() === 'a') {\n        if (pre && pre[0].toLowerCase() === 'l') {\n          pre[0] = 'M';\n        }\n      } else if (pre && pre[0].toLowerCase() === 'a') {\n        if (next && next[0].toLowerCase() === 'l') {\n          next[0] = 'M';\n        }\n      }\n    }\n  });\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  const hasConstraint = !!constraint;\n\n  let prevPoint: Position;\n  let nextPoint: Position;\n  let min: Position;\n  let max: Position;\n  let nextCp0: Position;\n  let cp1: Position;\n  let cp0: Position;\n\n  if (hasConstraint) {\n    [min, max] = constraint;\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (i === 0 && !isLoop) {\n      cp0 = point;\n    } else if (i === len - 1 && !isLoop) {\n      cp1 = point;\n      cps.push(cp0);\n      cps.push(cp1);\n    } else {\n      prevPoint = points[isLoop ? (i ? i - 1 : len - 1) : i - 1];\n      nextPoint = points[isLoop ? (i + 1) % len : i + 1];\n\n      let v: [number, number] = [0, 0];\n      v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n      v = vec2.scale(v, v, smooth) as [number, number];\n\n      let d0 = vec2.distance(point, prevPoint);\n      let d1 = vec2.distance(point, nextPoint);\n\n      const sum = d0 + d1;\n      if (sum !== 0) {\n        d0 /= sum;\n        d1 /= sum;\n      }\n\n      let v1 = vec2.scale([0, 0], v, -d0);\n      let v2 = vec2.scale([0, 0], v, d1);\n\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      // \n      nextCp0 = vec2.min([0, 0], nextCp0, vec2.max([0, 0], nextPoint, point)) as Position;\n      nextCp0 = vec2.max([0, 0], nextCp0, vec2.min([0, 0], nextPoint, point)) as Position;\n\n      //  cp1 \n      v1 = vec2.sub([0, 0], nextCp0, point);\n      v1 = vec2.scale([0, 0], v1, -d0 / d1);\n      cp1 = vec2.add([0, 0], point, v1) as Position;\n\n      // \n      cp1 = vec2.min([0, 0], cp1, vec2.max([0, 0], prevPoint, point)) as Position;\n      cp1 = vec2.max([0, 0], cp1, vec2.min([0, 0], prevPoint, point)) as Position;\n\n      //  nextCp0 \n      v2 = vec2.sub([0, 0], point, cp1);\n      v2 = vec2.scale([0, 0], v2, d1 / d0);\n      nextCp0 = vec2.add([0, 0], point, v2) as Position;\n\n      if (hasConstraint) {\n        cp1 = vec2.max([0, 0], cp1, min) as Position;\n        cp1 = vec2.min([0, 0], cp1, max) as Position;\n        nextCp0 = vec2.max([0, 0], nextCp0, min) as Position;\n        nextCp0 = vec2.min([0, 0], nextCp0, max) as Position;\n      }\n\n      cps.push(cp0);\n      cps.push(cp1);\n      cp0 = nextCp0;\n    }\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]): PathCommand[] {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n *  path\n */\nexport function getLinePath(points: Point[], isInCircle?: boolean): PathCommand[] {\n  return _points2path(points, isInCircle);\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]): PathCommand[] {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return getLinePath(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertNormalPath(coord, path: PathCommand[]): PathCommand[] {\n  const tmp = [];\n  each(path, (subPath) => {\n    const action = subPath[0];\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'l':\n      case 'c':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  return tmp;\n}\n\n/**\n * @ignore\n * \n */\nexport function convertPolarPath(coord, path: PathCommand[]): PathCommand[] {\n  let tmp = [];\n  let pre: PathCommand;\n  let cur: PathCommand;\n  let transposed: boolean;\n  let equals: boolean;\n  each(path, (subPath, index) => {\n    const action = subPath[0];\n\n    switch (action.toLowerCase()) {\n      case 'm':\n      case 'c':\n      case 'q':\n        tmp.push(_convertArr(subPath, coord));\n        break;\n      case 'l':\n        pre = path[index - 1];\n        cur = subPath;\n        transposed = coord.isTransposed;\n        // \n        equals = transposed ? pre[pre.length - 2] === cur[1] : pre[pre.length - 1] === cur[2];\n        if (equals) {\n          tmp = tmp.concat(_convertPolarPath(pre, cur, coord));\n        } else {\n          // y \n          tmp.push(_convertArr(subPath, coord));\n        }\n        break;\n      case 'a':\n        tmp.push(_convertArcPath(subPath, coord));\n        break;\n      case 'z':\n      default:\n        tmp.push(subPath);\n        break;\n    }\n  });\n  _filterFullCirleLine(tmp); // \n  return tmp;\n}\n","import { each, isArray } from '@antv/util';\nimport { View } from '../../chart';\nimport { BBox, PathCommand, Point } from '../../dependents';\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element/';\nimport { catmullRom2bezier, getLinePath } from '../../geometry/shape/util/path';\nimport { toPoints } from '../../util/bbox';\nimport { isPolygonsIntersect } from '@antv/path-util';\nimport { ComponentOption, IInteractionContext, LooseObject } from '../../interface';\n\nfunction getMaskBBox(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskBBox;\n}\n\nfunction getMaskPath(context: IInteractionContext, tolerance: number) {\n  const event = context.event;\n  const maskShape = event.target;\n  const maskBBox = maskShape.getCanvasBBox();\n  //  bbox \n  if (!(maskBBox.width >= tolerance || maskBBox.height >= tolerance)) {\n    return null;\n  }\n  return maskShape.attr('path');\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context: IInteractionContext): Element {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getDelegationObject(context: IInteractionContext): LooseObject {\n  const event = context.event;\n  const target = event.target;\n  let delegateObject;\n  if (target) {\n    delegateObject = target.get('delegateObject');\n  }\n  return delegateObject;\n}\n\nexport function isElementChange(context: IInteractionContext) {\n  const event = context.event.gEvent;\n  //  element label  shape \n  if (event && event.fromShape && event.toShape && event.fromShape.get('element') === event.toShape.get('element')) {\n    return false;\n  }\n  return true;\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isList(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isList();\n}\n\n/**\n * \n * @param delegateObject \n * @ignore\n */\nexport function isSlider(delegateObject: LooseObject): boolean {\n  return delegateObject && delegateObject.component && delegateObject.component.isSlider();\n}\n\n/**\n *  mask \n * @param context \n * @ignore\n */\nexport function isMask(context: IInteractionContext): boolean {\n  const event = context.event;\n  const target = event.target;\n  return target && target.get('name') === 'mask';\n}\n\n/**\n *  elements\n * @param context \n * @ignore\n */\nexport function getMaskedElements(context: IInteractionContext, tolerance: number): Element[] {\n  const target = context.event.target;\n  if (target.get('type') === 'path') {\n    const maskPath = getMaskPath(context, tolerance);\n    if (!maskPath) {\n      return;\n    }\n    return getElementsByPath(context.view, maskPath);\n  }\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  return getIntersectElements(context.view, maskBBox);\n}\n\n/**\n * @ignore\n */\nexport function getSiblingMaskElements(context: IInteractionContext, sibling: View, tolerance: number) {\n  const maskBBox = getMaskBBox(context, tolerance);\n  //  bbox \n  if (!maskBBox) {\n    return null;\n  }\n  const view = context.view;\n  const start = getSiblingPoint(view, sibling, { x: maskBBox.x, y: maskBBox.y });\n  const end = getSiblingPoint(view, sibling, { x: maskBBox.maxX, y: maskBBox.maxY });\n  const box = {\n    minX: start.x,\n    minY: start.y,\n    maxX: end.x,\n    maxY: end.y,\n  };\n  return getIntersectElements(sibling, box);\n}\n\n/**\n * \n * @param view View/Chart\n * @ignore\n */\nexport function getElements(view: View): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.elements;\n    rst = rst.concat(elements);\n  });\n  if (view.views && view.views.length) {\n    each(view.views, (subView) => {\n      rst = rst.concat(getElements(subView));\n    });\n  }\n  return rst;\n}\n\n/**\n * \n * @param view View/Chart\n * @param field \n * @param value \n * @ignore\n */\nexport function getElementsByField(view: View, field: string, value: any) {\n  const elements = getElements(view);\n  return elements.filter((el) => {\n    return getElementValue(el, field) === value;\n  });\n}\n\n/**\n * \n * @param view View/Chart\n * @param stateName \n * @ignore\n */\nexport function getElementsByState(view: View, stateName: string): Element[] {\n  const geometries = view.geometries;\n  let rst: Element[] = [];\n  each(geometries, (geom: Geometry) => {\n    const elements = geom.getElementsBy((el) => el.hasState(stateName));\n    rst = rst.concat(elements);\n  });\n  return rst;\n}\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * \n * @param box1 1\n * @param box2 2\n * @ignore\n */\nexport function intersectRect(box1, box2) {\n  return !(box2.minX > box1.maxX || box2.maxX < box1.minX || box2.minY > box1.maxY || box2.maxY < box1.minY);\n}\n\n/**\n * \n * @param view View/Chart\n * @param box \n * @ignore\n */\nexport function getIntersectElements(view: View, box) {\n  const elements = getElements(view);\n  const rst = [];\n  each(elements, (el) => {\n    const shape = el.shape;\n    const shapeBBox = shape.getCanvasBBox();\n    if (intersectRect(box, shapeBBox)) {\n      rst.push(el);\n    }\n  });\n  return rst;\n}\nfunction pathToPoints(path: any[]) {\n  const points = [];\n  each(path, (seg) => {\n    const command = seg[0];\n    if (command !== 'A') {\n      for (let i = 1; i < seg.length; i = i + 2) {\n        points.push([seg[i], seg[i + 1]]);\n      }\n    } else {\n      const length = seg.length;\n      points.push([seg[length - 2], seg[length - 1]]);\n    }\n  });\n  return points;\n}\n/**\n * \n * @param view View/Chart\n * @param path \n * @ignore\n */\nexport function getElementsByPath(view: View, path: any[]) {\n  const elements = getElements(view);\n  const points = pathToPoints(path);\n  const rst = elements.filter((el: Element) => {\n    const shape = el.shape;\n    let shapePoints;\n    if (shape.get('type') === 'path') {\n      shapePoints = pathToPoints(shape.attr('path'));\n    } else {\n      const shapeBBox = shape.getCanvasBBox();\n      shapePoints = toPoints(shapeBBox);\n    }\n    return isPolygonsIntersect(points, shapePoints);\n  });\n  return rst;\n}\n\n/**\n *  View \n * @param view View/Chart\n * @ignore\n */\nexport function getComponents(view) {\n  return view.getComponents().map((co: ComponentOption) => co.component);\n}\n\n/** @ignore */\nexport function distance(p1: Point, p2: Point) {\n  const dx = p2.x - p1.x;\n  const dy = p2.y - p1.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\n/** @ignore */\nexport function getSpline(points: Point[], z: boolean): PathCommand[] {\n  if (points.length <= 2) {\n    return getLinePath(points, false);\n  }\n  const first = points[0];\n  const arr = [];\n  each(points, (point) => {\n    arr.push(point.x);\n    arr.push(point.y);\n  });\n  const path = catmullRom2bezier(arr, z, null);\n  path.unshift(['M', first.x, first.y]);\n  return path;\n}\n\n/**\n * \n * @param box \n * @param point \n * @ignore\n */\nexport function isInBox(box: BBox, point: Point) {\n  return box.x <= point.x && box.maxX >= point.x && box.y <= point.y && box.maxY > point.y;\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbings(view: View): View[] {\n  const parent = view.parent;\n  let siblings = null;\n  if (parent) {\n    siblings = parent.views.filter((sub) => sub !== view);\n  }\n  return siblings;\n}\n\nfunction point2Normalize(view: View, point: Point): Point {\n  const coord = view.getCoordinate();\n  return coord.invert(point);\n}\n/**\n *  view  view \n * @param view  view\n * @param sibling  view\n * @param point \n * @ignore\n */\nexport function getSiblingPoint(view: View, sibling: View, point: Point): Point {\n  const normalPoint = point2Normalize(view, point);\n  return sibling.getCoordinate().convert(normalPoint);\n}\n\n/**\n *  view \n *  view  includes\n *  x, y  isEqual \n * \n * @param records\n * @param record\n * @param xFiled\n * @param yField\n * @returns\n * @ignore\n */\nexport function isInRecords(records: object[], record: object, xFiled: string, yField: string) {\n  let isIn = false;\n  each(records, (r) => {\n    if (r[xFiled] === record[xFiled] && r[yField] === record[yField]) {\n      isIn = true;\n      return false;\n    }\n  });\n  return isIn;\n}\n\n//  field  scale view  view\nexport function getScaleByField(view: View, field: string) {\n  let scale = view.getScaleByField(field);\n  if (!scale && view.views) {\n    each(view.views, (subView) => {\n      scale = getScaleByField(subView, field);\n      if (scale) {\n        return false; // \n      }\n    });\n  }\n  return scale;\n}\n","import { each, get } from '@antv/util';\nimport { View } from '../chart';\nimport { BBox, IShape, Point } from '../dependents';\nimport { IAction, IInteractionContext, LooseObject } from '../interface';\nimport { getComponents, isInBox } from './action/util';\n\n/**\n * \n */\nexport default class Context implements IInteractionContext {\n  /**  Action */\n  public actions: IAction[] = [];\n  /**  View  */\n  public view: View;\n  /**  */\n  public event: LooseObject = null;\n\n  private cacheMap: LooseObject = {};\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  /**\n   * \n   * @param params \n   *  - \n   *  - \n   */\n  public cache(...params) {\n    if (params.length === 1) {\n      return this.cacheMap[params[0]];\n    } else if (params.length === 2) {\n      this.cacheMap[params[0]] = params[1];\n    }\n  }\n\n  /**\n   *  Action\n   * @param name Action \n   */\n  public getAction(name: string): IAction {\n    return this.actions.find((action) => action.name === name);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public addAction(action: IAction) {\n    this.actions.push(action);\n  }\n\n  /**\n   *  Action\n   * @param action Action \n   */\n  public removeAction(action: IAction) {\n    const actions = this.actions;\n    const index = this.actions.indexOf(action);\n    if (index >= 0) {\n      actions.splice(index, 1);\n    }\n  }\n\n  /**\n   * \n   */\n  public getCurrentPoint(): Point {\n    const event = this.event;\n    if (event) {\n      if (event.target instanceof HTMLElement) {\n        const canvas = this.view.getCanvas();\n        const point = canvas.getPointByClient(event.clientX, event.clientY);\n        return point;\n      } else {\n        return {\n          x: event.x,\n          y: event.y,\n        };\n      }\n    }\n    return null;\n  }\n\n  /**\n   *  shape\n   * @returns current shape\n   */\n  public getCurrentShape(): IShape {\n    return get(this.event, ['gEvent', 'shape']);\n  }\n\n  /**\n   *  View \n   */\n  public isInPlot() {\n    const point = this.getCurrentPoint();\n    if (point) {\n      return this.view.isPointInPlot(point);\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name shape  name\n   */\n  public isInShape(name) {\n    const shape = this.getCurrentShape(); //  shape  parent \n    if (shape) {\n      return shape.get('name') === name;\n    }\n    return false;\n  }\n\n  /**\n   * \n   * @param name \n   */\n  public isInComponent(name?: string) {\n    const components = getComponents(this.view);\n    const point = this.getCurrentPoint();\n    if (point) {\n      return !!components.find((component) => {\n        const bbox = component.getBBox() as BBox;\n        if (name) {\n          return component.get('name') === name && isInBox(bbox, point);\n        } else {\n          return isInBox(bbox, point);\n        }\n      });\n    }\n    return false;\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    //  action \n    each(this.actions.slice(), (action) => {\n      action.destroy();\n    });\n    this.view = null;\n    this.event = null;\n    this.actions = null;\n    this.cacheMap = null;\n  }\n}\n","import { View } from '../chart';\nimport { LooseObject } from '../interface';\n\nexport type InteractionConstructor = new (view: View, cfg: LooseObject) => Interaction;\n\n/**\n * \n */\nexport default class Interaction {\n  /** view  chart */\n  protected view: View;\n  /**  */\n  protected cfg: LooseObject;\n\n  constructor(view: View, cfg: LooseObject) {\n    this.view = view;\n    this.cfg = cfg;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initEvents();\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {}\n\n  /**\n   * \n   */\n  protected clearEvents() {}\n\n  /**\n   * \n   */\n  public destroy() {\n    this.clearEvents();\n  }\n}\n","import { each, isArray, isFunction, isString, debounce, throttle } from '@antv/util';\nimport { View } from '../chart';\nimport { ActionCallback, IAction, IInteractionContext, LooseObject } from '../interface';\nimport { createAction, createCallbackAction } from './action/register';\nimport InteractionContext from './context';\nimport Interaction from './interaction';\n\n//  action\nexport function parseAction(actionStr: string, context: IInteractionContext, arg?: any): ActionObject {\n  const arr = actionStr.split(':');\n  const actionName = arr[0];\n  //  action  action\n  const action = context.getAction(actionName) || createAction(actionName, context);\n  if (!action) {\n    throw new Error(`There is no action named ${actionName}`);\n  }\n  const methodName = arr[1];\n  return {\n    action,\n    methodName,\n    arg,\n  };\n}\n\n//  Action\nfunction executeAction(actionObject: ActionObject) {\n  const { action, methodName, arg } = actionObject;\n  if (action[methodName]) {\n    action[methodName](arg);\n  } else {\n    throw new Error(`Action(${action.name}) doesn't have a method called ${methodName}`);\n  }\n}\n\nconst STEP_NAMES = {\n  START: 'start',\n  SHOW_ENABLE: 'showEnable',\n  END: 'end',\n  ROLLBACK: 'rollback',\n  PROCESSING: 'processing',\n};\n\n/**  */\nexport interface InteractionStep {\n  /**\n   *  viewchart  documentwindow \n   */\n  trigger: string;\n  /**\n   *  action\n   * @param context - \n   */\n  isEnable?: (context: IInteractionContext) => boolean;\n  /**\n   * \n   * - action:method : action \n   * - [action1:method1, action2:method]\n   * - ActionCallback: \n   */\n  action: string | string[] | ActionCallback;\n  /**\n   *  action method \n   * -  action args \n   */\n  arg?: any | any[];\n  /**\n   * action \n   */\n  callback?: (context: IInteractionContext) => void;\n  /**\n   * @private\n   * \n   */\n  actionObject?: ActionObject | ActionObject[];\n  /**\n   * \n   */\n  once?: boolean;\n  /**\n   * \n   */\n  throttle?: ThrottleOption;\n  /**\n   * \n   */\n  debounce?: DebounceOption;\n}\n\n// action  debounce  throttlehttps://css-tricks.com/debouncing-throttling-explained-examples/\n/**\n * debounce \n */\nexport interface DebounceOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  immediate?: boolean;\n}\n\n/**\n * throttle \n */\nexport interface ThrottleOption {\n  /**\n   * \n   */\n  wait: number;\n  /**\n   * \n   */\n  leading?: boolean;\n  /**\n   * \n   */\n  trailing?: boolean;\n}\n\n/**  action  */\ninterface ActionObject {\n  /**\n   *  action\n   */\n  action: IAction;\n  /**\n   * action \n   */\n  methodName: string;\n  /**\n   *  action \n   */\n  arg?: any;\n}\n\n/**  */\nexport interface InteractionSteps {\n  /**\n   * \n   */\n  showEnable?: InteractionStep[];\n  /**\n   * \n   */\n  start?: InteractionStep[];\n  /**\n   * \n   */\n  processing?: InteractionStep[];\n  /**\n   * \n   */\n  end?: InteractionStep[];\n  /**\n   * \n   */\n  rollback?: InteractionStep[];\n}\n\n/**\n * \n */\nexport default class GrammarInteraction extends Interaction {\n  // \n  private steps: InteractionSteps;\n  /**  */\n  public currentStepName: string;\n  /**\n   * \n   */\n  public context: IInteractionContext;\n\n  private callbackCaches: LooseObject = {};\n  // \n  private emitCaches: LooseObject = {};\n\n  constructor(view: View, steps: InteractionSteps) {\n    super(view, steps);\n    this.steps = steps;\n  }\n\n  /**\n   * \n   */\n  public init() {\n    this.initContext();\n    super.init();\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    super.destroy(); // \n    this.steps = null;\n    if (this.context) {\n      this.context.destroy();\n      this.context = null;\n    }\n\n    this.callbackCaches = null;\n    this.view = null;\n  }\n\n  /**\n   * \n   */\n  protected initEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          //  callback callback \n          this.bindEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  /**\n   * \n   */\n  protected clearEvents() {\n    each(this.steps, (stepArr, stepName) => {\n      each(stepArr, (step) => {\n        const callback = this.getActionCallback(stepName, step);\n        if (callback) {\n          this.offEvent(step.trigger, callback);\n        }\n      });\n    });\n  }\n\n  //  action\n  private initContext() {\n    const view = this.view;\n    const context = new InteractionContext(view);\n    this.context = context;\n    const steps = this.steps;\n    //  Action\n    each(steps, (subSteps: InteractionStep[]) => {\n      each(subSteps, (step: InteractionStep) => {\n        if (isFunction(step.action)) {\n          //  CallbackAction\n          step.actionObject = {\n            action: createCallbackAction(step.action, context),\n            methodName: 'execute',\n          };\n        } else if (isString(step.action)) {\n          // \n          step.actionObject = parseAction(step.action, context, step.arg);\n        } else if (isArray(step.action)) {\n          // \n          const actionArr = step.action;\n          const argArr = isArray(step.arg) ? step.arg : [step.arg];\n          step.actionObject = [];\n          each(actionArr, (actionStr, idx) => {\n            (step.actionObject as ActionObject[]).push(parseAction(actionStr, context, argArr[idx]));\n          });\n        }\n        //  action  actionObject\n      });\n    });\n  }\n\n  // \n  private isAllowStep(stepName: string): boolean {\n    const currentStepName = this.currentStepName;\n    const steps = this.steps;\n    // \n    if (currentStepName === stepName) {\n      return true;\n    }\n\n    if (stepName === STEP_NAMES.SHOW_ENABLE) {\n      // \n      return true;\n    }\n\n    if (stepName === STEP_NAMES.PROCESSING) {\n      //  start  processing\n      return currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.START) {\n      //  processing start end \n      return currentStepName !== STEP_NAMES.PROCESSING;\n    }\n\n    if (stepName === STEP_NAMES.END) {\n      return currentStepName === STEP_NAMES.PROCESSING || currentStepName === STEP_NAMES.START;\n    }\n\n    if (stepName === STEP_NAMES.ROLLBACK) {\n      if (steps[STEP_NAMES.END]) {\n        //  end,  end \n        return currentStepName === STEP_NAMES.END;\n      } else if (currentStepName === STEP_NAMES.START) {\n        //  end, \n        return true;\n      }\n    }\n    return false;\n  }\n\n  // \n  private isAllowExecute(stepName: string, step: InteractionStep): boolean {\n    if (this.isAllowStep(stepName)) {\n      const key = this.getKey(stepName, step);\n      // \n      if (step.once && this.emitCaches[key]) {\n        return false;\n      }\n      //  isEnable \n      if (step.isEnable) {\n        return step.isEnable(this.context);\n      }\n      return true; //  isEnable \n    }\n    return false;\n  }\n\n  private enterStep(stepName: string) {\n    this.currentStepName = stepName;\n    this.emitCaches = {}; // \n  }\n\n  // \n  private afterExecute(stepName: string, step) {\n    // show enable  step\n    if (stepName !== STEP_NAMES.SHOW_ENABLE && this.currentStepName !== stepName) {\n      this.enterStep(stepName);\n    }\n    const key = this.getKey(stepName, step);\n    // \n    this.emitCaches[key] = true;\n  }\n  // \n  private getKey(stepName, step) {\n    return stepName + step.trigger + step.action;\n  }\n\n  //  step \n  private getActionCallback(stepName: string, step: InteractionStep): (e: object) => void {\n    const context = this.context;\n    const callbackCaches = this.callbackCaches;\n    const actionObject = step.actionObject;\n    if (step.action && actionObject) {\n      const key = this.getKey(stepName, step);\n      if (!callbackCaches[key]) {\n        //  action \n        const actionCallback = (event) => {\n          context.event = event; //  event\n          if (this.isAllowExecute(stepName, step)) {\n            // \n            if (isArray(actionObject)) {\n              each(actionObject, (obj: ActionObject) => {\n                context.event = event; //  context.event \n                executeAction(obj);\n              });\n            } else {\n              context.event = event; //  context.event \n              executeAction(actionObject);\n            }\n            this.afterExecute(stepName, step);\n            if (step.callback) {\n              context.event = event; //  context.event \n              step.callback(context);\n            }\n          } else {\n            // \n            context.event = null;\n          }\n        };\n        //  debounce\n        if (step.debounce) {\n          callbackCaches[key] = debounce(actionCallback, step.debounce.wait, step.debounce.immediate);\n        } else if (step.throttle) {\n          //  throttle\n          callbackCaches[key] = throttle(actionCallback, step.throttle.wait, {\n            leading: step.throttle.leading,\n            trailing: step.throttle.trailing,\n          });\n        } else {\n          // \n          callbackCaches[key] = actionCallback;\n        }\n      }\n      return callbackCaches[key];\n    }\n    return null;\n  }\n\n  private bindEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.addEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.addEventListener(nameArr[1], callback);\n    } else {\n      this.view.on(eventName, callback);\n    }\n  }\n\n  private offEvent(eventName, callback) {\n    const nameArr = eventName.split(':');\n    if (nameArr[0] === 'window') {\n      window.removeEventListener(nameArr[1], callback);\n    } else if (nameArr[0] === 'document') {\n      document.removeEventListener(nameArr[1], callback);\n    } else {\n      this.view.off(eventName, callback);\n    }\n  }\n}\n","import { clone, isPlainObject, lowerCase, mix } from '@antv/util';\nimport { View } from '../chart';\nimport { LooseObject } from '../interface';\nimport GrammarInteraction, { InteractionSteps } from './grammar-interaction';\nimport { InteractionConstructor } from './interaction';\n\nconst Interactions: LooseObject = {};\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getInteraction(name: string): InteractionSteps | InteractionConstructor {\n  return Interactions[lowerCase(name)];\n}\n\n/**\n * \n * @param name \n * @param interaction \n */\nexport function registerInteraction(name: string, interaction: InteractionSteps | InteractionConstructor) {\n  Interactions[lowerCase(name)] = interaction;\n}\n\n/**\n * \n * @param name \n * @param view  View \n * @param cfg \n */\nexport function createInteraction(name: string, view: View, cfg?: LooseObject) {\n  const interaciton = getInteraction(name);\n  if (!interaciton) {\n    return null;\n  }\n  if (isPlainObject(interaciton)) {\n    //  clone  interaction  step \n    const steps = mix(clone(interaciton), cfg) as InteractionSteps;\n    return new GrammarInteraction(view, steps);\n  } else {\n    const cls = interaciton as InteractionConstructor;\n    return new cls(view, cfg);\n  }\n}\n\nexport { default as Interaction } from './interaction';\nexport { Action, registerAction, getActionClass } from './action';\n","import { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport Element from '../../geometry/element';\nimport { LooseObject, StyleSheet } from '../../interface';\nimport { getAngle } from '../../util/graphics';\n\n/**\n *  axis \n * @param styleSheet\n */\nfunction createAxisStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: {\n      autoRotate: true,\n      position: 'center', // start, center, end\n      spacing: styleSheet.axisTitleSpacing,\n      style: {\n        fill: styleSheet.axisTitleTextFillColor,\n        fontSize: styleSheet.axisTitleTextFontSize,\n        lineHeight: styleSheet.axisTitleTextLineHeight,\n        textBaseline: 'middle',\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    label: {\n      autoRotate: false,\n      autoEllipsis: false,\n      autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n      offset: styleSheet.axisLabelOffset,\n      style: {\n        fill: styleSheet.axisLabelFillColor,\n        fontSize: styleSheet.axisLabelFontSize,\n        lineHeight: styleSheet.axisLabelLineHeight,\n        fontFamily: styleSheet.fontFamily,\n      },\n    },\n    line: {\n      style: {\n        lineWidth: styleSheet.axisLineBorder,\n        stroke: styleSheet.axisLineBorderColor,\n      },\n    },\n    grid: {\n      line: {\n        type: 'line',\n        style: {\n          stroke: styleSheet.axisGridBorderColor,\n          lineWidth: styleSheet.axisGridBorder,\n          lineDash: styleSheet.axisGridLineDash,\n        },\n      },\n      alignTick: true,\n      animate: true,\n    },\n    tickLine: {\n      style: {\n        lineWidth: styleSheet.axisTickLineBorder,\n        stroke: styleSheet.axisTickLineBorderColor,\n      },\n      alignTick: true, // \n      length: styleSheet.axisTickLineLength,\n    },\n    subTickLine: null,\n    animate: true,\n  };\n}\n\n/**\n *\n * @param styleSheet\n */\n// export function\n\n/**\n *  legend \n * @param styleSheet\n */\nfunction createLegendStyles(styleSheet: StyleSheet): LooseObject {\n  return {\n    title: null,\n    marker: {\n      symbol: 'circle',\n      spacing: styleSheet.legendMarkerSpacing,\n      style: {\n        r: styleSheet.legendCircleMarkerSize,\n        fill: styleSheet.legendMarkerColor,\n      },\n    },\n    itemName: {\n      spacing: 5, //  value \n      style: {\n        fill: styleSheet.legendItemNameFillColor,\n        fontFamily: styleSheet.fontFamily,\n        fontSize: styleSheet.legendItemNameFontSize,\n        lineHeight: styleSheet.legendItemNameLineHeight,\n        fontWeight: styleSheet.legendItemNameFontWeight,\n        textAlign: 'start',\n        textBaseline: 'middle',\n      },\n    },\n    itemStates: {\n      active: {\n        nameStyle: {\n          opacity: 0.8,\n        },\n      },\n      unchecked: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          fill: '#D8D8D8',\n          stroke: '#D8D8D8',\n        },\n      },\n      inactive: {\n        nameStyle: {\n          fill: '#D8D8D8',\n        },\n        markerStyle: {\n          opacity: 0.2,\n        },\n      },\n    },\n    flipPage: true,\n    pageNavigator: {\n      marker: {\n        style: {\n          size: styleSheet.legendPageNavigatorMarkerSize,\n          inactiveFill: styleSheet.legendPageNavigatorMarkerInactiveFillColor,\n          inactiveOpacity: styleSheet.legendPageNavigatorMarkerInactiveFillOpacity,\n          fill: styleSheet.legendPageNavigatorMarkerFillColor,\n          opacity: styleSheet.legendPageNavigatorMarkerFillOpacity,\n        },\n      },\n      text: {\n        style: {\n          fill: styleSheet.legendPageNavigatorTextFillColor,\n          fontSize: styleSheet.legendPageNavigatorTextFontSize,\n        },\n      },\n    },\n    animate: false,\n    maxItemWidth: 200,\n    itemSpacing: styleSheet.legendItemSpacing,\n    itemMarginBottom: styleSheet.legendItemMarginBottom,\n    padding: styleSheet.legendPadding, // \n  };\n}\n\n/**\n * \n * @param styleSheet \n */\nexport function createThemeByStyleSheet(styleSheet: StyleSheet): LooseObject {\n  const shapeStyles = {\n    point: {\n      default: {\n        fill: styleSheet.pointFillColor,\n        r: styleSheet.pointSize,\n        stroke: styleSheet.pointBorderColor,\n        lineWidth: styleSheet.pointBorder,\n        fillOpacity: styleSheet.pointFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.pointActiveBorderColor,\n        lineWidth: styleSheet.pointActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.pointSelectedBorderColor,\n        lineWidth: styleSheet.pointSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.pointInactiveFillOpacity,\n        strokeOpacity: styleSheet.pointInactiveBorderOpacity,\n      },\n    },\n    hollowPoint: {\n      default: {\n        fill: styleSheet.hollowPointFillColor,\n        lineWidth: styleSheet.hollowPointBorder,\n        stroke: styleSheet.hollowPointBorderColor,\n        strokeOpacity: styleSheet.hollowPointBorderOpacity,\n        r: styleSheet.hollowPointSize,\n      },\n      active: {\n        stroke: styleSheet.hollowPointActiveBorderColor,\n        strokeOpacity: styleSheet.hollowPointActiveBorderOpacity,\n      },\n      selected: {\n        lineWidth: styleSheet.hollowPointSelectedBorder,\n        stroke: styleSheet.hollowPointSelectedBorderColor,\n        strokeOpacity: styleSheet.hollowPointSelectedBorderOpacity,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowPointInactiveBorderOpacity,\n      },\n    },\n    area: {\n      default: {\n        fill: styleSheet.areaFillColor,\n        fillOpacity: styleSheet.areaFillOpacity,\n        stroke: null,\n      },\n      active: {\n        fillOpacity: styleSheet.areaActiveFillOpacity,\n      },\n      selected: {\n        fillOpacity: styleSheet.areaSelectedFillOpacity,\n      },\n      inactive: {\n        fillOpacity: styleSheet.areaInactiveFillOpacity,\n      },\n    },\n    hollowArea: {\n      default: {\n        fill: null,\n        stroke: styleSheet.hollowAreaBorderColor,\n        lineWidth: styleSheet.hollowAreaBorder,\n        strokeOpacity: styleSheet.hollowAreaBorderOpacity,\n      },\n      active: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaActiveBorder,\n      },\n      selected: {\n        fill: null,\n        lineWidth: styleSheet.hollowAreaSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.hollowAreaInactiveBorderOpacity,\n      },\n    },\n    interval: {\n      default: {\n        fill: styleSheet.intervalFillColor,\n        fillOpacity: styleSheet.intervalFillOpacity,\n      },\n      active: {\n        stroke: styleSheet.intervalActiveBorderColor,\n        lineWidth: styleSheet.intervalActiveBorder,\n      },\n      selected: {\n        stroke: styleSheet.intervalSelectedBorderColor,\n        lineWidth: styleSheet.intervalSelectedBorder,\n      },\n      inactive: {\n        fillOpacity: styleSheet.intervalInactiveFillOpacity,\n        strokeOpacity: styleSheet.intervalInactiveBorderOpacity,\n      },\n    },\n    hollowInterval: {\n      default: {\n        fill: styleSheet.hollowIntervalFillColor,\n        stroke: styleSheet.hollowIntervalBorderColor,\n        lineWidth: styleSheet.hollowIntervalBorder,\n        strokeOpacity: styleSheet.hollowIntervalBorderOpacity,\n      },\n      active: {\n        stroke: styleSheet.hollowIntervalActiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalActiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalActiveBorderOpacity,\n      },\n      selected: {\n        stroke: styleSheet.hollowIntervalSelectedBorderColor,\n        lineWidth: styleSheet.hollowIntervalSelectedBorder,\n        strokeOpacity: styleSheet.hollowIntervalSelectedBorderOpacity,\n      },\n      inactive: {\n        stroke: styleSheet.hollowIntervalInactiveBorderColor,\n        lineWidth: styleSheet.hollowIntervalInactiveBorder,\n        strokeOpacity: styleSheet.hollowIntervalInactiveBorderOpacity,\n      },\n    },\n    line: {\n      default: {\n        stroke: styleSheet.lineBorderColor,\n        lineWidth: styleSheet.lineBorder,\n        strokeOpacity: styleSheet.lineBorderOpacity,\n        fill: null,\n        lineAppendWidth: 10,\n        lineCap: 'round',\n        lineJoin: 'round',\n      },\n      active: {\n        lineWidth: styleSheet.lineActiveBorder,\n      },\n      selected: {\n        lineWidth: styleSheet.lineSelectedBorder,\n      },\n      inactive: {\n        strokeOpacity: styleSheet.lineInactiveBorderOpacity,\n      },\n    },\n  };\n  const axisStyles = createAxisStyles(styleSheet);\n  const legendStyles = createLegendStyles(styleSheet);\n\n  return {\n    background: styleSheet.backgroundColor,\n    defaultColor: styleSheet.brandColor,\n    subColor: styleSheet.subColor,\n    semanticRed: styleSheet.paletteSemanticRed,\n    semanticGreen: styleSheet.paletteSemanticGreen,\n    padding: 'auto',\n    fontFamily: styleSheet.fontFamily,\n    // Theme\n    /** geometrygeometrynull */\n    columnWidthRatio: 1 / 2,\n    /**  */\n    maxColumnWidth: null,\n    /**  */\n    minColumnWidth: null,\n    /**  */\n    roseWidthRatio: 0.9999999,\n    /** / */\n    multiplePieWidthRatio: 1 / 1.3,\n    colors10: styleSheet.paletteQualitative10,\n    colors20: styleSheet.paletteQualitative20,\n    sequenceColors: styleSheet.paletteSequence,\n    shapes: {\n      point: [\n        'hollow-circle',\n        'hollow-square',\n        'hollow-bowtie',\n        'hollow-diamond',\n        'hollow-hexagon',\n        'hollow-triangle',\n        'hollow-triangle-down',\n        'circle',\n        'square',\n        'bowtie',\n        'diamond',\n        'hexagon',\n        'triangle',\n        'triangle-down',\n        'cross',\n        'tick',\n        'plus',\n        'hyphen',\n        'line',\n      ],\n      line: ['line', 'dash', 'dot', 'smooth'],\n      area: ['area', 'smooth', 'line', 'smooth-line'],\n      interval: ['rect', 'hollow-rect', 'line', 'tick'],\n    },\n    sizes: [1, 10],\n    geometries: {\n      interval: {\n        rect: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: (element: Element) => {\n              const coordinate = element.geometry.coordinate;\n              if (coordinate.isPolar && coordinate.isTransposed) {\n                const { startAngle, endAngle } = getAngle(element.getModel(), coordinate);\n                const middleAngle = (startAngle + endAngle) / 2;\n                const r = 7.5;\n                const x = r * Math.cos(middleAngle);\n                const y = r * Math.sin(middleAngle);\n                return {\n                  matrix: ext.transform(null, [['t', x, y]]),\n                };\n              }\n              return shapeStyles.interval.selected;\n            },\n          },\n        },\n        'hollow-rect': {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        funnel: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n        pyramid: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      line: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        dot: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [1, 1],\n            },\n          },\n        },\n        dash: {\n          default: {\n            style: {\n              ...shapeStyles.line.default,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          active: {\n            style: {\n              ...shapeStyles.line.active,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          inactive: {\n            style: {\n              ...shapeStyles.line.inactive,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n          selected: {\n            style: {\n              ...shapeStyles.line.selected,\n              lineCap: null,\n              lineDash: [5.5, 1],\n            },\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hvh: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      polygon: {\n        polygon: {\n          default: {\n            style: shapeStyles.interval.default,\n          },\n          active: {\n            style: shapeStyles.interval.active,\n          },\n          inactive: {\n            style: shapeStyles.interval.inactive,\n          },\n          selected: {\n            style: shapeStyles.interval.selected,\n          },\n        },\n      },\n      point: {\n        circle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        square: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        bowtie: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        diamond: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        hexagon: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        triangle: {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'triangle-down': {\n          default: {\n            style: shapeStyles.point.default,\n          },\n          active: {\n            style: shapeStyles.point.active,\n          },\n          inactive: {\n            style: shapeStyles.point.inactive,\n          },\n          selected: {\n            style: shapeStyles.point.selected,\n          },\n        },\n        'hollow-circle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-square': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-bowtie': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-diamond': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-hexagon': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        'hollow-triangle-down': {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        cross: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        tick: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        plus: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        hyphen: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowPoint.default,\n          },\n          active: {\n            style: shapeStyles.hollowPoint.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowPoint.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowPoint.selected,\n          },\n        },\n      },\n      area: {\n        area: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.area.default,\n          },\n          active: {\n            style: shapeStyles.area.active,\n          },\n          inactive: {\n            style: shapeStyles.area.inactive,\n          },\n          selected: {\n            style: shapeStyles.area.selected,\n          },\n        },\n        line: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'smooth-line': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n      schema: {\n        candle: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n        box: {\n          default: {\n            style: shapeStyles.hollowInterval.default,\n          },\n          active: {\n            style: shapeStyles.hollowInterval.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowInterval.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowInterval.selected,\n          },\n        },\n      },\n      edge: {\n        line: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        vhv: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        arc: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n      },\n      violin: {\n        violin: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        smooth: {\n          default: {\n            style: shapeStyles.line.default,\n          },\n          active: {\n            style: shapeStyles.line.active,\n          },\n          inactive: {\n            style: shapeStyles.line.inactive,\n          },\n          selected: {\n            style: shapeStyles.line.selected,\n          },\n        },\n        hollow: {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n        'hollow-smooth': {\n          default: {\n            style: shapeStyles.hollowArea.default,\n          },\n          active: {\n            style: shapeStyles.hollowArea.active,\n          },\n          inactive: {\n            style: shapeStyles.hollowArea.inactive,\n          },\n          selected: {\n            style: shapeStyles.hollowArea.selected,\n          },\n        },\n      },\n    },\n    components: {\n      axis: {\n        common: axisStyles,\n        top: {\n          position: 'top',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        bottom: {\n          position: 'bottom',\n          grid: null,\n          title: null,\n          verticalLimitLength: 1 / 2,\n        },\n        left: {\n          position: 'left',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        right: {\n          position: 'right',\n          title: null,\n          line: null,\n          tickLine: null,\n          verticalLimitLength: 1 / 3,\n        },\n        circle: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'line' } }),\n        },\n        radius: {\n          title: null,\n          grid: deepMix({}, axisStyles.grid, { line: { type: 'circle' } }),\n        },\n      },\n      legend: {\n        common: legendStyles,\n        right: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        left: {\n          layout: 'vertical',\n          padding: styleSheet.legendVerticalPadding,\n        },\n        top: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        bottom: {\n          layout: 'horizontal',\n          padding: styleSheet.legendHorizontalPadding,\n        },\n        continuous: {\n          title: null,\n          background: null,\n          track: {},\n          rail: {\n            type: 'color',\n            size: styleSheet.sliderRailHeight,\n            defaultLength: styleSheet.sliderRailWidth,\n            style: {\n              fill: styleSheet.sliderRailFillColor,\n              stroke: styleSheet.sliderRailBorderColor,\n              lineWidth: styleSheet.sliderRailBorder,\n            },\n          },\n          label: {\n            align: 'rail',\n            spacing: 4, //  rail \n            formatter: null,\n            style: {\n              fill: styleSheet.sliderLabelTextFillColor,\n              fontSize: styleSheet.sliderLabelTextFontSize,\n              lineHeight: styleSheet.sliderLabelTextLineHeight,\n              textBaseline: 'middle',\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          handler: {\n            size: styleSheet.sliderHandlerWidth,\n            style: {\n              fill: styleSheet.sliderHandlerFillColor,\n              stroke: styleSheet.sliderHandlerBorderColor,\n            },\n          },\n          slidable: true,\n          padding: legendStyles.padding,\n        },\n      },\n      tooltip: {\n        showContent: true,\n        follow: true,\n        showCrosshairs: false,\n        showMarkers: true,\n        shared: false,\n        enterable: false,\n        position: 'auto',\n        marker: {\n          symbol: 'circle',\n          stroke: '#fff',\n          shadowBlur: 10,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          shadowColor: 'rgba(0,0,0,0.09)',\n          lineWidth: 2,\n          r: 4,\n        },\n        crosshairs: {\n          line: {\n            style: {\n              stroke: styleSheet.tooltipCrosshairsBorderColor,\n              lineWidth: styleSheet.tooltipCrosshairsBorder,\n            },\n          },\n          text: null,\n          textBackground: {\n            padding: 2,\n            style: {\n              fill: 'rgba(0, 0, 0, 0.25)',\n              lineWidth: 0,\n              stroke: null,\n            },\n          },\n          follow: false,\n        },\n        // tooltip dom \n        domStyles: {\n          [`${TOOLTIP_CSS_CONST.CONTAINER_CLASS}`]: {\n            position: 'absolute',\n            visibility: 'hidden',\n            zIndex: 8,\n            transition: 'left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s',\n            backgroundColor: styleSheet.tooltipContainerFillColor,\n            opacity: styleSheet.tooltipContainerFillOpacity,\n            boxShadow: styleSheet.tooltipContainerShadow,\n            borderRadius: `${styleSheet.tooltipContainerBorderRadius}px`,\n            color: styleSheet.tooltipTextFillColor,\n            fontSize: `${styleSheet.tooltipTextFontSize}px`,\n            fontFamily: styleSheet.fontFamily,\n            lineHeight: `${styleSheet.tooltipTextLineHeight}px`,\n            padding: '0 12px 0 12px',\n          },\n          [`${TOOLTIP_CSS_CONST.TITLE_CLASS}`]: {\n            marginBottom: '12px',\n            marginTop: '12px',\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_CLASS}`]: {\n            margin: 0,\n            listStyleType: 'none',\n            padding: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.LIST_ITEM_CLASS}`]: {\n            listStyleType: 'none',\n            padding: 0,\n            marginBottom: '12px',\n            marginTop: '12px',\n            marginLeft: 0,\n            marginRight: 0,\n          },\n          [`${TOOLTIP_CSS_CONST.MARKER_CLASS}`]: {\n            width: '8px',\n            height: '8px',\n            borderRadius: '50%',\n            display: 'inline-block',\n            marginRight: '8px',\n          },\n          [`${TOOLTIP_CSS_CONST.VALUE_CLASS}`]: {\n            display: 'inline-block',\n            float: 'right',\n            marginLeft: '30px',\n          },\n        },\n      },\n      annotation: {\n        arc: {\n          style: {\n            stroke: styleSheet.annotationArcBorderColor,\n            lineWidth: styleSheet.annotationArcBorder,\n          },\n          animate: true,\n        },\n        line: {\n          style: {\n            stroke: styleSheet.annotationLineBorderColor,\n            lineDash: styleSheet.annotationLineDash,\n            lineWidth: styleSheet.annotationLineBorder,\n          },\n          text: {\n            position: 'start',\n            autoRotate: true,\n            style: {\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              textAlign: 'start',\n              fontFamily: styleSheet.fontFamily,\n              textBaseline: 'bottom',\n            },\n          },\n          animate: true,\n        },\n        text: {\n          style: {\n            fill: styleSheet.annotationTextFillColor,\n            stroke: styleSheet.annotationTextBorderColor,\n            lineWidth: styleSheet.annotationTextBorder,\n            fontSize: styleSheet.annotationTextFontSize,\n            textBaseline: 'middle',\n            textAlign: 'start',\n            fontFamily: styleSheet.fontFamily,\n          },\n          animate: true,\n        },\n        region: {\n          top: false,\n          style: {\n            lineWidth: styleSheet.annotationRegionBorder,\n            stroke: styleSheet.annotationRegionBorderColor,\n            fill: styleSheet.annotationRegionFillColor,\n            fillOpacity: styleSheet.annotationRegionFillOpacity,\n          }, // \n          animate: true,\n        },\n        image: {\n          top: false,\n          animate: true,\n        },\n        dataMarker: {\n          top: true,\n          point: {\n            style: {\n              r: 3,\n              stroke: styleSheet.brandColor,\n              lineWidth: 2,\n            },\n          },\n          line: {\n            style: {\n              stroke: styleSheet.annotationLineBorderColor,\n              lineWidth: styleSheet.annotationLineBorder,\n            },\n            length: styleSheet.annotationDataMarkerLineLength,\n          },\n          text: {\n            style: {\n              textAlign: 'start',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          direction: 'upward',\n          autoAdjust: true,\n          animate: true,\n        },\n        dataRegion: {\n          style: {\n            region: {\n              fill: styleSheet.annotationRegionFillColor,\n              fillOpacity: styleSheet.annotationRegionFillOpacity,\n            },\n            text: {\n              textAlign: 'center',\n              textBaseline: 'bottom',\n              fill: styleSheet.annotationTextFillColor,\n              stroke: styleSheet.annotationTextBorderColor,\n              lineWidth: styleSheet.annotationTextBorder,\n              fontSize: styleSheet.annotationTextFontSize,\n              fontFamily: styleSheet.fontFamily,\n            },\n          },\n          animate: true,\n        },\n      },\n      slider: {\n        common: {\n          padding: [8, 8, 8, 8],\n          backgroundStyle: {\n            fill: styleSheet.cSliderBackgroundFillColor,\n            opacity: styleSheet.cSliderBackgroundFillOpacity,\n          },\n          foregroundStyle: {\n            fill: styleSheet.cSliderForegroundFillColor,\n            opacity: styleSheet.cSliderForegroundFillOpacity,\n          },\n          handlerStyle: {\n            width: styleSheet.cSliderHandlerWidth,\n            height: styleSheet.cSliderHandlerHeight,\n            fill: styleSheet.cSliderHandlerFillColor,\n            opacity: styleSheet.cSliderHandlerFillOpacity,\n            stroke: styleSheet.cSliderHandlerBorderColor,\n            lineWidth: styleSheet.cSliderHandlerBorder,\n            radius: styleSheet.cSliderHandlerBorderRadius,\n            // \n            highLightFill: styleSheet.cSliderHandlerHighlightFillColor,\n          },\n          textStyle: {\n            fill: styleSheet.cSliderTextFillColor,\n            opacity: styleSheet.cSliderTextFillOpacity,\n            fontSize: styleSheet.cSliderTextFontSize,\n            lineHeight: styleSheet.cSliderTextLineHeight,\n            fontWeight: styleSheet.cSliderTextFontWeight,\n            stroke: styleSheet.cSliderTextBorderColor,\n            lineWidth: styleSheet.cSliderTextBorder,\n          },\n        },\n      },\n      scrollbar: {\n        common: {\n          padding: [8, 8, 8, 8],\n        },\n        default: {\n          style: {\n            trackColor: styleSheet.scrollbarTrackFillColor,\n            thumbColor: styleSheet.scrollbarThumbFillColor,\n          },\n        },\n        hover: {\n          style: {\n            thumbColor: styleSheet.scrollbarThumbHighlightFillColor,\n          },\n        },\n      },\n    },\n    labels: {\n      offset: 12,\n      style: {\n        fill: styleSheet.labelFillColor,\n        fontSize: styleSheet.labelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.labelBorderColor,\n        lineWidth: styleSheet.labelBorder,\n      },\n      fillColorDark: styleSheet.labelFillColorDark,\n      fillColorLight: styleSheet.labelFillColorLight,\n      autoRotate: true,\n    },\n    innerLabels: {\n      style: {\n        fill: styleSheet.innerLabelFillColor,\n        fontSize: styleSheet.innerLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.innerLabelBorderColor,\n        lineWidth: styleSheet.innerLabelBorder,\n      },\n      autoRotate: true,\n    },\n    overflowLabels: {\n      style: {\n        fill: styleSheet.overflowLabelFillColor,\n        fontSize: styleSheet.overflowLabelFontSize,\n        fontFamily: styleSheet.fontFamily,\n        stroke: styleSheet.overflowLabelBorderColor,\n        lineWidth: styleSheet.overflowLabelBorder,\n      },\n    },\n    pieLabels: {\n      labelHeight: 14,\n      offset: 10,\n      labelLine: {\n        style: {\n          lineWidth: styleSheet.labelLineBorder,\n        },\n      },\n      autoRotate: true,\n    },\n  };\n}\n","import { StyleSheetCfg } from '../../interface';\n\nconst BLACK_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst WHITE_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#6F5EF9',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#6F5EF9',\n  '#D3CEFD',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createLightStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: 'transparent',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(0,0,0,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: brandColor,\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[100],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: BLACK_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: 'rgb(255, 255, 255)',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 0px 10px #aeaeae',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry overflowLabel  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    /** Geometry overflowLabel  */\n    overflowLabelFontSize: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelLineHeight: 12,\n    /** Geometry overflowLabel  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry overflowLabel  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry overflowLabel  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#000',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(0,0,0,0)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.15)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.2)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: brandColor,\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: brandColor,\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: brandColor,\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: brandColor,\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: brandColor,\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: brandColor,\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: brandColor,\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: brandColor,\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: brandColor,\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvLight = createLightStyleSheet();\n","import { deepMix } from '@antv/util';\nimport { createThemeByStyleSheet } from './create-by-style-sheet';\nimport { createLightStyleSheet } from '../style-sheet/light';\nimport { LooseObject, StyleSheetCfg } from '../../interface';\n\ninterface ThemeCfg extends LooseObject {\n  styleSheet?: StyleSheetCfg;\n}\n\nexport function createTheme(themeCfg: ThemeCfg): LooseObject {\n  const { styleSheet: styleSheetCfg = {}, ...themeObject } = themeCfg;\n\n  //   ( light )\n  const styleSheet = createLightStyleSheet(styleSheetCfg);\n  //  \n  return deepMix({}, createThemeByStyleSheet(styleSheet), themeObject);\n}\n","import { get, lowerCase } from '@antv/util';\nimport { LooseObject } from '../interface';\n\nimport { createTheme } from './util';\n\nconst defaultTheme = createTheme({});\n\n// \nconst Themes: Record<string, LooseObject> = {\n  default: defaultTheme,\n};\n\n/**\n * \n * @param theme \n */\nexport function getTheme(theme?: string): LooseObject {\n  return get(Themes, lowerCase(theme), Themes.default);\n}\n\n/**\n * \n * @param theme \n * @param value \n */\nexport function registerTheme(theme: string, value: LooseObject) {\n  Themes[lowerCase(theme)] = createTheme(value);\n}\n","import {\n  contains,\n  filter,\n  find,\n  isArray,\n  isEmpty,\n  isFunction,\n  isNil,\n  isNumberEqual,\n  isObject,\n  memoize,\n  get,\n  values,\n} from '@antv/util';\nimport { View } from '../chart';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { Attribute, Scale } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { Data, Datum, MappingDatum, Point, TooltipCfg, TooltipTitle } from '../interface';\nimport { getName, inferScaleType } from './scale';\n\nfunction snapEqual(v1: any, v2: any, scale: Scale) {\n  const value1 = scale.translate(v1);\n  const value2 = scale.translate(v2);\n\n  return isNumberEqual(value1, value2);\n}\n\nfunction getXValueByPoint(point: Point, geometry: Geometry): number {\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const range = xScale.range;\n  const rangeMax = range[range.length - 1];\n  const rangeMin = range[0];\n\n  const invertPoint = coordinate.invert(point);\n\n  let xValue = invertPoint.x;\n  if (coordinate.isPolar && xValue > (1 + rangeMax) / 2) {\n    xValue = rangeMin; // scale  range \n  }\n  return xScale.translate(xScale.invert(xValue));\n}\n\nfunction filterYValue(data: Data, point: Point, geometry: Geometry) {\n  const coordinate = geometry.coordinate;\n  const yScale = geometry.getYScale();\n  const yField = yScale.field;\n  const invertPoint = coordinate.invert(point);\n  const yValue = yScale.invert(invertPoint.y);\n\n  const result = find(data, (obj: Datum) => {\n    const originData = obj[FIELD_ORIGIN];\n    return originData[yField][0] <= yValue && originData[yField][1] >= yValue;\n  });\n  return result || data[data.length - 1];\n}\n\nconst getXDistance = memoize((scale: Scale) => {\n  if (scale.isCategory) {\n    return 1;\n  }\n  const scaleValues = scale.values; // values \n  const length = scaleValues.length;\n  let min = scale.translate(scaleValues[0]);\n  let max = min;\n\n  for (let index = 0; index < length; index++) {\n    const value = scaleValues[index];\n    //  translate\n    const numericValue = scale.translate(value);\n    if (numericValue < min) {\n      min = numericValue;\n    }\n    if (numericValue > max) {\n      max = numericValue;\n    }\n  }\n  return (max - min) / (length - 1);\n});\n\n/**\n *  tooltip  title\n * @param originData\n * @param geometry\n * @param title\n */\nfunction getTooltipTitle(originData: Datum, geometry: Geometry, title: TooltipTitle): string {\n  const positionAttr = geometry.getAttribute('position');\n  const fields = positionAttr.getFields();\n  const scales = geometry.scales;\n\n  const titleField = isFunction(title) || !title ? fields[0] : title;\n  const titleScale = scales[titleField];\n\n  //  scale scale.getText() \n  //  scale title \n  const tooltipTitle = titleScale ? titleScale.getText(originData[titleField]) : originData[titleField] || titleField;\n\n  return isFunction(title) ? title(tooltipTitle, originData) : tooltipTitle;\n}\n\nfunction getAttributesForLegend(geometry: Geometry) {\n  const attributes = values(geometry.attributes);\n  return filter(attributes, (attribute: Attribute) => contains(GROUP_ATTRS, attribute.type));\n}\n\nfunction getTooltipValueScale(geometry: Geometry) {\n  const attributes = getAttributesForLegend(geometry);\n  let scale;\n  for (const attribute of attributes) {\n    const tmpScale = attribute.getScale(attribute.type);\n    if (tmpScale && tmpScale.isLinear) {\n      const tmpScaleDef = get(geometry.scaleDefs, tmpScale.field);\n      const inferedScaleType = inferScaleType(tmpScale, tmpScaleDef, attribute.type, geometry.type);\n      if (inferedScaleType !== 'cat') {\n        //  position \n        scale = tmpScale;\n        break;\n      }\n    }\n  }\n\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  return scale || yScale || xScale;\n}\n\nfunction getTooltipValue(originData: Datum, valueScale: Scale) {\n  const field = valueScale.field;\n  const value = originData[field];\n\n  if (isArray(value)) {\n    const texts = value.map((eachValue) => {\n      return valueScale.getText(eachValue);\n    });\n    return texts.join('-');\n  }\n  return valueScale.getText(value);\n}\n\n//  tooltip item  name \nfunction getTooltipName(originData: Datum, geometry: Geometry) {\n  let nameScale: Scale;\n  const groupScales = geometry.getGroupScales();\n  if (groupScales.length) {\n    // \n    nameScale = groupScales[0];\n  }\n  if (nameScale) {\n    const field = nameScale.field;\n    return nameScale.getText(originData[field]);\n  }\n\n  const valueScale = getTooltipValueScale(geometry);\n  return getName(valueScale);\n}\n\n/**\n * @ignore\n * Finds data from geometry by point\n * @param point canvas point\n * @param data an item of geometry.dataArray\n * @param geometry\n * @returns\n */\nexport function findDataByPoint(point: Point, data: MappingDatum[], geometry: Geometry) {\n  if (data.length === 0) {\n    return null;\n  }\n\n  const geometryType = geometry.type;\n  const xScale = geometry.getXScale();\n  const yScale = geometry.getYScale();\n\n  const xField = xScale.field;\n  const yField = yScale.field;\n\n  let rst = null;\n\n  //  point \n  if (geometryType === 'heatmap' || geometryType === 'point') {\n    //  point \n    const coordinate = geometry.coordinate;\n    const invertPoint = coordinate.invert(point); // \n    const x = xScale.invert(invertPoint.x); // \n    const y = yScale.invert(invertPoint.y); // \n\n    let min = Infinity;\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const originData = obj[FIELD_ORIGIN];\n      const range = (originData[xField] - x) ** 2 + (originData[yField] - y) ** 2;\n      if (range < min) {\n        min = range;\n        rst = obj;\n      }\n    }\n\n    return rst;\n  }\n\n  //  Geometry  x \n  const first = data[0];\n  let last = data[data.length - 1];\n  const xValue = getXValueByPoint(point, geometry);\n  const firstXValue = first[FIELD_ORIGIN][xField];\n  const firstYValue = first[FIELD_ORIGIN][yField];\n  const lastXValue = last[FIELD_ORIGIN][xField];\n  const isYArray = yScale.isLinear && isArray(firstYValue); //  x y \n\n  //  x \n  if (isArray(firstXValue)) {\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const originData = record[FIELD_ORIGIN];\n      // xValue  originData[xField] \n      if (xScale.translate(originData[xField][0]) <= xValue && xScale.translate(originData[xField][1]) >= xValue) {\n        if (isYArray) {\n          // x  y \n          if (!isArray(rst)) {\n            rst = [];\n          }\n          rst.push(record);\n        } else {\n          rst = record;\n          break;\n        }\n      }\n    }\n    if (isArray(rst)) {\n      rst = filterYValue(rst, point, geometry);\n    }\n  } else {\n    let next;\n    if (!xScale.isLinear && xScale.type !== 'timeCat') {\n      // x \n      for (let index = 0; index < data.length; index++) {\n        const record = data[index];\n        const originData = record[FIELD_ORIGIN];\n        if (snapEqual(originData[xField], xValue, xScale)) {\n          if (isYArray) {\n            if (!isArray(rst)) {\n              rst = [];\n            }\n            rst.push(record);\n          } else {\n            rst = record;\n            break;\n          }\n        } else if (xScale.translate(originData[xField]) <= xValue) {\n          last = record;\n          next = data[index + 1];\n        }\n      }\n\n      if (isArray(rst)) {\n        rst = filterYValue(rst, point, geometry);\n      }\n    } else {\n      // x \n      if (\n        (xValue > xScale.translate(lastXValue) || xValue < xScale.translate(firstXValue)) &&\n        (xValue > xScale.max || xValue < xScale.min)\n      ) {\n        // \n        return null;\n      }\n\n      let firstIdx = 0;\n      let lastIdx = data.length - 1;\n      let middleIdx;\n      while (firstIdx <= lastIdx) {\n        middleIdx = Math.floor((firstIdx + lastIdx) / 2);\n        const item = data[middleIdx][FIELD_ORIGIN][xField];\n        if (snapEqual(item, xValue, xScale)) {\n          return data[middleIdx];\n        }\n\n        if (xScale.translate(item) <= xScale.translate(xValue)) {\n          firstIdx = middleIdx + 1;\n          last = data[middleIdx];\n          next = data[middleIdx + 1];\n        } else {\n          if (lastIdx === 0) {\n            last = data[0];\n          }\n          lastIdx = middleIdx - 1;\n        }\n      }\n    }\n\n    if (last && next) {\n      // \n      if (\n        Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) >\n        Math.abs(xScale.translate(next[FIELD_ORIGIN][xField]) - xValue)\n      ) {\n        last = next;\n      }\n    }\n  }\n\n  const distance = getXDistance(geometry.getXScale()); // \n  if (!rst && Math.abs(xScale.translate(last[FIELD_ORIGIN][xField]) - xValue) <= distance / 2) {\n    rst = last;\n  }\n\n  return rst;\n}\n\n/**\n * @ignore\n * Gets tooltip items\n * @param data\n * @param geometry\n * @param [title]\n * @returns\n */\nexport function getTooltipItems(\n  data: MappingDatum,\n  geometry: Geometry,\n  title: TooltipTitle = '',\n  showNil: boolean = false\n) {\n  const originData = data[FIELD_ORIGIN];\n  const tooltipTitle = getTooltipTitle(originData, geometry, title);\n  const tooltipOption = geometry.tooltipOption;\n  const { defaultColor } = geometry.theme;\n  const items = [];\n  let name;\n  let value;\n\n  function addItem(itemName, itemValue) {\n    if (showNil || (!isNil(itemValue) && itemValue !== '')) {\n      //  null\n      const item = {\n        title: tooltipTitle,\n        data: originData, // \n        mappingData: data, // \n        name: itemName,\n        value: itemValue,\n        color: data.color || defaultColor,\n        marker: true,\n      };\n\n      items.push(item);\n    }\n  }\n\n  if (isObject(tooltipOption)) {\n    const { fields, callback } = tooltipOption;\n    if (callback) {\n      // \n      const callbackParams = fields.map((field: string) => {\n        return data[FIELD_ORIGIN][field];\n      });\n      const cfg = callback(...callbackParams);\n      const itemCfg = {\n        data: data[FIELD_ORIGIN], // \n        mappingData: data, // \n        title: tooltipTitle,\n        color: data.color || defaultColor,\n        marker: true, //  marker\n        ...cfg,\n      };\n\n      items.push(itemCfg);\n    } else {\n      const scales = geometry.scales;\n      for (const field of fields) {\n        if (!isNil(originData[field])) {\n          // null, undefined \n          const scale = scales[field];\n          name = getName(scale);\n          value = scale.getText(originData[field]);\n          addItem(name, value);\n        }\n      }\n    }\n  } else {\n    const valueScale = getTooltipValueScale(geometry);\n    // null ,undefined\n    value = getTooltipValue(originData, valueScale);\n    name = getTooltipName(originData, geometry);\n    addItem(name, value);\n  }\n  return items;\n}\n\nfunction getTooltipItemsByFindData(geometry: Geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const dataArray = geometry.dataArray;\n  if (!isEmpty(dataArray)) {\n    geometry.sort(dataArray); //  tooltip \n    for (const data of dataArray) {\n      const record = findDataByPoint(point, data, geometry);\n      if (record) {\n        const elementId = geometry.getElementId(record);\n        const element = geometry.elementsMap[elementId];\n        if (geometry.type === 'heatmap' || element.visible) {\n          // Heatmap  Element\n          //  tooltip \n          const items = getTooltipItems(record, geometry, title, showNil);\n          if (items.length) {\n            result.push(items);\n          }\n        }\n      }\n    }\n  }\n\n  return result;\n}\n\nfunction getTooltipItemsByHitShape(geometry, point, title, tooltipCfg: TooltipCfg) {\n  const { showNil } = tooltipCfg;\n  const result = [];\n  const container = geometry.container;\n  const shape = container.getShape(point.x, point.y);\n  if (shape && shape.get('visible') && shape.get('origin')) {\n    const mappingData = shape.get('origin').mappingData;\n    const items = getTooltipItems(mappingData, geometry, title, showNil);\n    if (items.length) {\n      result.push(items);\n    }\n  }\n\n  return result;\n}\n\n/**\n * \n */\nexport function findItemsFromView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  const result = [];\n  //  view \n  const geometries = view.geometries;\n  const { shared, title, reversed } = tooltipCfg;\n  for (const geometry of geometries) {\n    if (geometry.visible && geometry.tooltipOption !== false) {\n      // geometry  tooltip\n      const geometryType = geometry.type;\n      let tooltipItems;\n      if (['point', 'edge', 'polygon'].includes(geometryType)) {\n        // \n        tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n      } else if (['area', 'line', 'path', 'heatmap'].includes(geometryType)) {\n        //  'area', 'line', 'path' tooltip\n        tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n      } else {\n        if (shared !== false) {\n          tooltipItems = getTooltipItemsByFindData(geometry, point, title, tooltipCfg);\n        } else {\n          tooltipItems = getTooltipItemsByHitShape(geometry, point, title, tooltipCfg);\n        }\n      }\n      if (tooltipItems.length) {\n        if (reversed) {\n          tooltipItems.reverse();\n        }\n        // geometry  item geometry.tooltip('x*y*z')\n        result.push(tooltipItems);\n      }\n    }\n  }\n\n  return result;\n}\n\nexport function findItemsFromViewRecurisive(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let result = findItemsFromView(view, point, tooltipCfg);\n\n  // \n  for (const childView of view.views) {\n    result = result.concat(findItemsFromView(childView, point, tooltipCfg));\n  }\n\n  return result;\n}\n","import { isArray, isNumber } from '@antv/util';\nimport { Padding, ViewPadding } from '../interface';\n\n/**\n * @ignore\n *  padding\n * @param padding\n */\nexport function isAutoPadding(padding: ViewPadding): padding is 'auto' {\n  return !isNumber(padding) && !isArray(padding);\n}\n\n/**\n * @ignore\n * padding \n * @param padding\n * @return [ top, right, bottom, left ]\n */\nexport function parsePadding(padding: number[] | number = 0): Padding {\n  let paddingArray = isArray(padding) ? padding : [padding];\n\n  switch (paddingArray.length) {\n    case 0:\n      paddingArray = [0, 0, 0, 0];\n      break;\n    case 1:\n      paddingArray = new Array(4).fill(paddingArray[0]);\n      break;\n    case 2:\n      paddingArray = [...paddingArray, ...paddingArray];\n      break;\n    case 3:\n      paddingArray = [...paddingArray, paddingArray[1]];\n      break;\n    default:\n      // \n      paddingArray = paddingArray.slice(0, 4);\n      break;\n  }\n\n  return paddingArray as [number, number, number, number];\n}\n","import { ControllerCtor } from './base';\n\nconst LOAD_COMPONENT_CONTROLLERS: Record<string, ControllerCtor> = {};\n\n/**\n * \n * @param name \n * @param plugin \n * @returns void\n */\nexport function registerComponentController(name: string, plugin: ControllerCtor) {\n  LOAD_COMPONENT_CONTROLLERS[name] = plugin;\n}\n\n/**\n * \n * @param name \n * @returns void\n */\nexport function unregisterComponentController(name: string) {\n  delete LOAD_COMPONENT_CONTROLLERS[name];\n}\n\n/**\n * \n * @returns string[] \n */\nexport function getComponentControllerNames(): string[] {\n  return Object.keys(LOAD_COMPONENT_CONTROLLERS);\n}\n\n/**\n * \n * @param name \n * @returns \n */\nexport function getComponentController(name: string): ControllerCtor {\n  return LOAD_COMPONENT_CONTROLLERS[name];\n}\n","import { each, isNil, some } from '@antv/util';\nimport { Coordinate, getCoordinate, Point } from '../../dependents';\nimport { CoordinateOption } from '../../interface';\n\n/**\n * coordinate controller\n * 1. \n * 2. \n */\nexport default class CoordinateController {\n  private option: CoordinateOption;\n  private coordinate: Coordinate;\n\n  constructor(option?: CoordinateOption) {\n    // \n    this.option = this.wrapperOption(option);\n  }\n\n  /**\n   * \n   * @param option\n   */\n  public update(option: CoordinateOption) {\n    this.option = this.wrapperOption(option);\n    return this;\n  }\n\n  /**\n   *  action\n   * @param actionName\n   */\n  public hasAction(actionName: string) {\n    const { actions } = this.option;\n\n    return some(actions, (action) => action[0] === actionName);\n  }\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public create(start: Point, end: Point) {\n    const { type, cfg } = this.option;\n    const isTheta = type === 'theta';\n\n    // 1. \n    const props = {\n      start,\n      end,\n      ...cfg,\n    };\n\n    // 2. \n    const C = getCoordinate(isTheta ? 'polar' : type);\n\n    this.coordinate = new C(props);\n\n    // @ts-ignore FIXME coordinate  type \n    this.coordinate.type = type;\n\n    // 3.  action\n    if (isTheta) {\n      //  transpose action\n      if (!this.hasAction('transpose')) {\n        this.transpose();\n      }\n    }\n\n    // 4.  action\n    this.execActions();\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param start \n   * @param end   \n   * @return \n   */\n  public adjust(start: Point, end: Point) {\n    this.coordinate.update({\n      start,\n      end,\n    });\n\n    // \n    // 1.  matrix\n    // 2.  matrix  action\n    this.coordinate.resetMatrix();\n    this.execActions(['scale', 'rotate', 'translate']);\n\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param angle\n   */\n  public rotate(angle: number) {\n    this.option.actions.push(['rotate', angle]);\n    return this;\n  }\n\n  /**\n   * \n   * @param dim\n   */\n  public reflect(dim: 'x' | 'y') {\n    this.option.actions.push(['reflect', dim]);\n    return this;\n  }\n\n  /**\n   * scale\n   * @param sx\n   * @param sy\n   */\n  public scale(sx: number, sy: number) {\n    this.option.actions.push(['scale', sx, sy]);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public transpose() {\n    this.option.actions.push(['transpose']);\n    return this;\n  }\n\n  /**\n   * \n   */\n  public getOption(): CoordinateOption {\n    return this.option;\n  }\n\n  /**\n   *  coordinate \n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  /**\n   * \n   * @param option\n   */\n  private wrapperOption(option: CoordinateOption): CoordinateOption {\n    return {\n      type: 'rect',\n      actions: [],\n      cfg: {},\n      ...option,\n    };\n  }\n\n  /**\n   * coordinate  actions\n   * @params includeActions  action\n   */\n  private execActions(includeActions?: string[]) {\n    const { actions } = this.option;\n\n    each(actions, (action) => {\n      const [actionName, ...args] = action;\n\n      const shouldExec = isNil(includeActions) ? true : includeActions.includes(actionName);\n\n      if (shouldExec) {\n        this.coordinate[actionName](...args);\n      }\n    });\n  }\n}\n","import { Event as GEvent, IShape } from '../dependents';\nimport { Datum } from '../interface';\nimport View from './view';\n\n/**\n * @todo Whether it can(or necessary to) keep consistent with the structure of G.Event or directly use the structure of G.Event\n * G2  G.Event\n */\nexport default class Event {\n  /**  target  view  */\n  public view: View;\n  /**  G  */\n  public gEvent: GEvent;\n  /**  */\n  public data?: Datum;\n  /**  */\n  public type: string;\n\n  constructor(view: View, gEvent: GEvent, data?: Datum) {\n    this.view = view;\n    this.gEvent = gEvent;\n    this.data = data;\n    this.type = gEvent.type;\n  }\n\n  /**\n   * \n   * @param view\n   * @param type\n   * @param data\n   */\n  public static fromData(view: View, type: string, data: Datum) {\n    return new Event(view, new GEvent(type, {}), data);\n  }\n\n  // below props are proxy props of G.event convenient\n\n  /** the real trigger shape of the event */\n  public get target(): IShape {\n    // @todo G  object  ignore\n    // @ts-ignore\n    return this.gEvent.target;\n  }\n\n  /**  dom  */\n  public get event(): any {\n    return this.gEvent.originalEvent;\n  }\n\n  /** x  */\n  public get x(): number {\n    return this.gEvent.x;\n  }\n\n  /** y  */\n  public get y(): number {\n    return this.gEvent.y;\n  }\n\n  /** x  */\n  public get clientX(): number {\n    return this.gEvent.clientX;\n  }\n\n  /** y  */\n  public get clientY(): number {\n    return this.gEvent.clientY;\n  }\n  // end for proxy events\n\n  /**\n   * event string\n   * @returns string\n   */\n  public toString(): string {\n    return `[Event (type=${this.type})]`;\n  }\n\n  /**\n   * clone a new event with same attributes\n   * @returns [[Event]]\n   */\n  public clone(): Event {\n    return new Event(this.view, this.gEvent, this.data);\n  }\n}\n","import { Controller } from '../controller/base';\nimport View from '../view';\n\n// \n//  view  padding \nexport type Layout = (view: View) => void;\n\n/**\n * @ignore\n * G2  layout \n * \n *\n * 1.  padding = 'auto' direction  padding \n * 2.  padding  direction  padding \n * 3. \n *\n *  12  view \n * @param view\n */\nexport default function defaultLayout(view: View): void {\n  const axis = view.getController('axis');\n  const legend = view.getController('legend');\n  const annotation = view.getController('annotation');\n  const slider = view.getController('slider');\n  const scrollbar = view.getController('scrollbar');\n\n  //  coordinate \n  [axis, slider, scrollbar, legend, annotation].forEach((controller: Controller) => {\n    if (controller) {\n      controller.layout();\n    }\n  });\n}\n","/**\n * view  scale \n */\nimport { deepMix, each, get, isNumber, last } from '@antv/util';\nimport { Scale, Coordinate } from '../../dependents';\nimport { Data, LooseObject, ScaleOption, ViewCfg } from '../../interface';\nimport { createScaleByField, syncScale, getDefaultCategoryScaleRange } from '../../util/scale';\n\n/** @ignore */\ninterface ScaleMeta {\n  readonly key: string;\n  readonly scale: Scale;\n  scaleDef: ScaleOption;\n  syncKey?: string;\n}\n\n/** @ignore */\nexport class ScalePool {\n  /**  scales */\n  private scales = new Map<string, ScaleMeta>();\n  /**  scale  key: scaleKeyArray */\n  private syncScales = new Map<string, string[]>();\n\n  /**\n   *  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  public createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    let finalScaleDef = scaleDef;\n\n    const cacheScaleMeta = this.getScaleMeta(key);\n    if (data.length === 0 && cacheScaleMeta) {\n      //  key  scale  scale \n      const cacheScale = cacheScaleMeta.scale;\n      const cacheScaleDef: LooseObject = {\n        type: cacheScale.type,\n      };\n      if (cacheScale.isCategory) {\n        //  values\n        cacheScaleDef.values = cacheScale.values;\n      }\n      finalScaleDef = deepMix(cacheScaleDef, cacheScaleMeta.scaleDef, scaleDef);\n    }\n\n    const scale = createScaleByField(field, data, finalScaleDef);\n\n    // \n    this.cacheScale(scale, scaleDef, key);\n\n    return scale;\n  }\n\n  /**\n   *  scale\n   */\n  public sync(coordinate: Coordinate, theme: ViewCfg['theme']) {\n    //  syncScales  syncKey  scale \n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      // min, max, values, ranges\n      let min = Number.MAX_SAFE_INTEGER;\n      let max = Number.MIN_SAFE_INTEGER;\n      const values = [];\n\n      // 1. values \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        max = isNumber(scale.max) ? Math.max(max, scale.max) : max;\n        min = isNumber(scale.min) ? Math.min(min, scale.min) : min;\n\n        // \n        each(scale.values, (v: any) => {\n          if (!values.includes(v)) {\n            values.push(v);\n          }\n        });\n      });\n\n      // 2. \n      each(scaleKeys, (key: string) => {\n        const scale = this.getScale(key);\n\n        if (scale.isContinuous) {\n          scale.change({\n            min,\n            max,\n            values,\n          });\n        } else if (scale.isCategory) {\n          let range = scale.range;\n          const cacheScaleMeta = this.getScaleMeta(key);\n\n          //  value  range  to fix https://github.com/antvis/G2/issues/2996\n          if (values && !get(cacheScaleMeta, ['scaleDef', 'range'])) {\n            //  range\n            range = getDefaultCategoryScaleRange(\n              deepMix({}, scale, {\n                values,\n              }),\n              coordinate,\n              theme\n            );\n          }\n          scale.change({\n            values,\n            range,\n          });\n        }\n      });\n    });\n  }\n\n  /**\n   *  scale\n   * @param scale\n   * @param scaleDef\n   * @param key\n   */\n  private cacheScale(scale: Scale, scaleDef: ScaleOption, key: string) {\n    // 1.  scales\n\n    let sm = this.getScaleMeta(key);\n    // \n    if (sm && sm.scale.type === scale.type) {\n      syncScale(sm.scale, scale);\n      sm.scaleDef = scaleDef;\n      //  scaleDef\n    } else {\n      sm = {\n        key,\n        scale,\n        scaleDef,\n      };\n\n      this.scales.set(key, sm);\n    }\n\n    // 2.  syncScales Record<sync, string[]> \n    const syncKey = this.getSyncKey(sm);\n    sm.syncKey = syncKey; //  sync  key\n\n    //  scale  syncScales  sync \n    this.removeFromSyncScales(key);\n\n    //  sync  sync\n    if (syncKey) {\n      //  syncKey\n      let scaleKeys = this.syncScales.get(syncKey);\n      if (!scaleKeys) {\n        scaleKeys = [];\n        this.syncScales.set(syncKey, scaleKeys);\n      }\n      scaleKeys.push(key);\n    }\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  public getScale(key: string): Scale {\n    let scaleMeta = this.getScaleMeta(key);\n    if (!scaleMeta) {\n      const field = last(key.split('-'));\n      const scaleKeys = this.syncScales.get(field);\n      if (scaleKeys && scaleKeys.length) {\n        scaleMeta = this.getScaleMeta(scaleKeys[0]);\n      }\n    }\n    return scaleMeta && scaleMeta.scale;\n  }\n\n  /**\n   *  view  scale \n   * @param key\n   */\n  public deleteScale(key: string) {\n    const scaleMeta = this.getScaleMeta(key);\n    if (scaleMeta) {\n      const { syncKey } = scaleMeta;\n\n      const scaleKeys = this.syncScales.get(syncKey);\n\n      // \n      if (scaleKeys && scaleKeys.length) {\n        const idx = scaleKeys.indexOf(key);\n\n        if (idx !== -1) {\n          scaleKeys.splice(idx, 1);\n        }\n      }\n    }\n\n    //  scale \n    this.scales.delete(key);\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    this.scales.clear();\n    this.syncScales.clear();\n  }\n\n  /**\n   *  sync scale \n   * @param key\n   */\n  private removeFromSyncScales(key: string) {\n    this.syncScales.forEach((scaleKeys: string[], syncKey: string) => {\n      const idx = scaleKeys.indexOf(key);\n\n      if (idx !== -1) {\n        scaleKeys.splice(idx, 1);\n\n        // \n        if (scaleKeys.length === 0) {\n          this.syncScales.delete(syncKey);\n        }\n\n        return false; // \n      }\n    });\n  }\n\n  /**\n   * get sync key\n   * @param sm\n   */\n  private getSyncKey(sm: ScaleMeta): string {\n    const { scale, scaleDef } = sm;\n    const { field } = scale;\n    const sync = get(scaleDef, ['sync']);\n\n    //  sync = true syncKey\n    return sync === true ? field : sync === false ? undefined : sync;\n  }\n\n  /**\n   *  key  scale\n   * @param key\n   */\n  private getScaleMeta(key: string): ScaleMeta {\n    return this.scales.get(key);\n  }\n}\n","import { DIRECTION } from '../../constant';\nimport { BBox } from '../../dependents';\nimport { Padding } from '../../interface';\n\nexport type PaddingCalCtor = {\n  readonly instance: (top?: number, right?: number, bottom?: number, left?: number) => PaddingCal;\n};\n\n/** @ignore */\nexport class PaddingCal {\n  private top: number;\n  private right: number;\n  private bottom: number;\n  private left: number;\n\n  /**\n   * \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  public static instance(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    return new PaddingCal(top, right, bottom, left);\n  }\n\n  /**\n   *  padding \n   * @param top\n   * @param right\n   * @param bottom\n   * @param left\n   */\n  constructor(top: number = 0, right: number = 0, bottom: number = 0, left: number = 0) {\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n    this.left = left;\n  }\n\n  /**\n   * \n   * @param padding\n   */\n  public max(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top = Math.max(this.top, top);\n    this.right = Math.max(this.right, right);\n    this.bottom = Math.max(this.bottom, bottom);\n    this.left = Math.max(this.left, left);\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param padding\n   */\n  public shrink(padding: Padding): PaddingCal {\n    const [top, right, bottom, left] = padding;\n\n    this.top += top;\n    this.right += right;\n    this.bottom += bottom;\n    this.left += left;\n\n    return this;\n  }\n\n  /**\n   *  padding\n   * @param bbox\n   * @param direction\n   */\n  public inc(bbox: BBox, direction: DIRECTION): PaddingCal {\n    const { width, height } = bbox;\n\n    switch (direction) {\n      case DIRECTION.TOP:\n      case DIRECTION.TOP_LEFT:\n      case DIRECTION.TOP_RIGHT:\n        this.top += height;\n        break;\n\n      case DIRECTION.RIGHT:\n      case DIRECTION.RIGHT_TOP:\n      case DIRECTION.RIGHT_BOTTOM:\n        this.right += width;\n        break;\n\n      case DIRECTION.BOTTOM:\n      case DIRECTION.BOTTOM_LEFT:\n      case DIRECTION.BOTTOM_RIGHT:\n        this.bottom += height;\n        break;\n\n      case DIRECTION.LEFT:\n      case DIRECTION.LEFT_TOP:\n      case DIRECTION.LEFT_BOTTOM:\n        this.left += width;\n        break;\n      default:\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   *  padding\n   */\n  public getPadding(): Padding {\n    return [this.top, this.right, this.bottom, this.left];\n  }\n\n  /**\n   * clone  padding cal\n   */\n  public clone(): PaddingCal {\n    return new PaddingCal(...this.getPadding());\n  }\n}\n","import { each } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../constant';\nimport { ComponentOption, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { isAutoPadding, parsePadding } from '../../util/padding';\nimport View from '../view';\nimport { PaddingCal } from './padding-cal';\n\n/**\n * @ignore\n *  view  padding \n * @param view\n */\nexport function calculatePadding(view: View): PaddingCal {\n  const padding = view.padding;\n\n  //  auto padding\n  if (!isAutoPadding(padding)) {\n    return new PaddingCal(...parsePadding(padding));\n  }\n\n  //  auto padding padding\n  const { viewBBox } = view;\n\n  const paddingCal = new PaddingCal();\n\n  const axisComponents = [];\n  const paddingComponents = [];\n  const otherComponents = [];\n\n  each(view.getComponents(), (co: ComponentOption) => {\n    const { type } = co;\n    if (type === COMPONENT_TYPE.AXIS) {\n      axisComponents.push(co);\n    } else if ([COMPONENT_TYPE.LEGEND, COMPONENT_TYPE.SLIDER, COMPONENT_TYPE.SCROLLBAR].includes(type)) {\n      paddingComponents.push(co);\n    } else if (type !== COMPONENT_TYPE.GRID && type !== COMPONENT_TYPE.TOOLTIP) {\n      otherComponents.push(co);\n    }\n  });\n\n  //  padding \n  each(axisComponents, (co: ComponentOption) => {\n    const { component } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n\n    const exceed = componentBBox.exceed(viewBBox);\n\n    //  axis \n    paddingCal.max(exceed);\n  });\n\n  //  padding \n  each(paddingComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentPadding: Padding = component.get('padding');\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(\n      componentPadding\n    );\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  // \n  each(otherComponents, (co: ComponentOption) => {\n    const { component, direction } = co;\n    const bboxObject = component.getLayoutBBox();\n    const componentBBox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height);\n    //  padding\n    paddingCal.inc(componentBBox, direction);\n  });\n\n  return paddingCal;\n}\n","import { PaddingCalCtor } from '../layout/padding-cal';\nimport { View } from '../view';\n\n/**\n *  syncViewPadding \n * @param chart\n * @param views\n * @param PC: PaddingCalCtor\n */\nexport function defaultSyncViewPadding(chart: View, views: View[], PC: PaddingCalCtor) {\n  const syncPadding = PC.instance();\n\n  //  view  autoPadding \n  views.forEach((v: View) => {\n    v.autoPadding = syncPadding.max(v.autoPadding.getPadding());\n  });\n}\n","import {\n  clone,\n  deepMix,\n  each,\n  filter,\n  find,\n  flatten,\n  get,\n  isBoolean,\n  isFunction,\n  isNil,\n  isObject,\n  isString,\n  isUndefined,\n  mix,\n  remove,\n  set,\n  size,\n  uniqueId,\n  isEqual,\n  isPlainObject,\n  reduce,\n} from '@antv/util';\nimport { Attribute, Coordinate, Event as GEvent, GroupComponent, ICanvas, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AxisOption,\n  ComponentOption,\n  CoordinateCfg,\n  CoordinateOption,\n  Data,\n  Datum,\n  FacetCfgMap,\n  FilterCondition,\n  GeometryOption,\n  LegendOption,\n  LooseObject,\n  Options,\n  Point,\n  Region,\n  ScaleOption,\n  TooltipOption,\n  ViewCfg,\n  ViewPadding,\n  ViewAppendPadding,\n  EventPayload,\n  Padding,\n} from '../interface';\nimport { GROUP_Z_INDEX, LAYER, PLOT_EVENTS, VIEW_LIFE_CIRCLE } from '../constant';\nimport Base from '../base';\nimport { Facet, getFacet } from '../facet';\nimport Geometry from '../geometry/base';\nimport Element from '../geometry/element';\nimport { createInteraction, Interaction } from '../interaction';\nimport { getTheme } from '../theme';\nimport { BBox } from '../util/bbox';\nimport { getCoordinateClipCfg, isPointInCoordinate } from '../util/coordinate';\nimport { uniq } from '../util/helper';\nimport { findDataByPoint } from '../util/tooltip';\nimport { parsePadding } from '../util/padding';\nimport { getDefaultCategoryScaleRange } from '../util/scale';\nimport { createTheme } from '../theme/util';\nimport Chart from './chart';\nimport { getComponentController, getComponentControllerNames } from './controller';\nimport Annotation from './controller/annotation';\nimport { Controller } from './controller/base';\nimport CoordinateController from './controller/coordinate';\nimport Tooltip from './controller/tooltip';\nimport Slider from './controller/slider';\nimport Scrollbar from './controller/scrollbar';\nimport Axis from './controller/axis';\nimport Gesture from './controller/gesture';\nimport Legend from './controller/legend';\nimport Event from './event';\nimport defaultLayout, { Layout } from './layout';\nimport { ScalePool } from './util/scale-pool';\nimport { PaddingCal } from './layout/padding-cal';\nimport { calculatePadding } from './layout/auto';\nimport { defaultSyncViewPadding } from './util/sync-view-padding';\n\n/**\n * G2  View \n */\nexport class View extends Base {\n  /** view id */\n  public id: string;\n  /**  view */\n  public parent: View;\n  /**  view */\n  public views: View[] = [];\n  /**  geometry  */\n  public geometries: Geometry[] = [];\n  /**  controllers */\n  public controllers: Controller[] = [];\n  /**  Interaction  */\n  public interactions: Record<string, Interaction> = {};\n\n  /** view  */\n  public viewBBox: BBox;\n  /** ViewBBox - padding = coordinateBBox */\n  public coordinateBBox: BBox;\n  /** view  padding  */\n  public padding: ViewPadding;\n  /** padding */\n  public appendPadding: ViewAppendPadding;\n  /** G.Canvas  */\n  public canvas: ICanvas;\n  /**  padding  */\n  public autoPadding: PaddingCal;\n\n  /**  Group  */\n  public backgroundGroup: IGroup;\n  /**  Group  */\n  public middleGroup: IGroup;\n  /**  Group  */\n  public foregroundGroup: IGroup;\n  /**  Geometry  */\n  public limitInPlot: boolean = false;\n\n  /**\n   *  view  0 ~ 1 \n   */\n  protected region: Region;\n  /**  */\n  protected themeObject: LooseObject;\n\n  // \n  protected options: Options = {\n    data: [],\n    animate: true, // \n  }; // \n\n  /**  */\n  protected filteredData: Data;\n\n  /**  */\n  private usedControllers: string[] = getComponentControllerNames();\n\n  /**  scales */\n  private scalePool: ScalePool = new ScalePool();\n\n  /**  */\n  protected layoutFunc: Layout = defaultLayout;\n  /** {@link https://github.com/antvis/coord/blob/master/src/coord/base.ts|Coordinate} */\n  protected coordinateInstance: Coordinate;\n  /** Coordinate  */\n  protected coordinateController: CoordinateController;\n  /**  */\n  protected facetInstance: Facet;\n\n  /**  plot CoordinateBBox */\n  private isPreMouseInPlot: boolean = false;\n  /**  */\n  private isDataChanged: boolean = false;\n  /**  */\n  private isCoordinateChanged: boolean = false;\n  /**  view  scale key */\n  private createdScaleKeys = new Map<string, boolean>();\n  /**  shape */\n  private backgroundStyleRectShape;\n  /**  view  padding */\n  private syncViewPadding;\n\n  constructor(props: ViewCfg) {\n    super({ visible: props.visible });\n\n    const {\n      id = uniqueId('view'),\n      parent,\n      canvas,\n      backgroundGroup,\n      middleGroup,\n      foregroundGroup,\n      region = { start: { x: 0, y: 0 }, end: { x: 1, y: 1 } },\n      padding,\n      appendPadding,\n      theme,\n      options,\n      limitInPlot,\n      syncViewPadding,\n    } = props;\n\n    this.parent = parent;\n    this.canvas = canvas;\n    this.backgroundGroup = backgroundGroup;\n    this.middleGroup = middleGroup;\n    this.foregroundGroup = foregroundGroup;\n    this.region = region;\n    this.padding = padding;\n    this.appendPadding = appendPadding;\n    //  view \n    this.options = { ...this.options, ...options };\n    this.limitInPlot = limitInPlot;\n    this.id = id;\n    this.syncViewPadding = syncViewPadding;\n\n    //  theme\n    this.themeObject = isObject(theme) ? deepMix({}, getTheme('default'), createTheme(theme)) : getTheme(theme);\n    this.init();\n  }\n\n  /**\n   *  layout \n   * @param layout \n   * @returns void\n   */\n  public setLayout(layout: Layout) {\n    this.layoutFunc = layout;\n  }\n\n  /**\n   * \n   * @returns voids\n   */\n  public init() {\n    //  viewBBox\n    this.calculateViewBBox();\n\n    // \n    this.initEvents();\n\n    //  controller\n    this.initComponentController();\n\n    this.initOptions();\n  }\n\n  /**\n   * \n   * render  view  view\n   * @param isUpdate \n   * @param params render \n   */\n  public render(isUpdate: boolean = false, payload?: EventPayload) {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_RENDER, payload));\n    // \n    this.paint(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_RENDER, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_RENDER, payload));\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * chart \n   * @returns void\n   */\n  public clear() {\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CLEAR);\n    // 1. \n    this.filteredData = [];\n    this.coordinateInstance = undefined;\n    this.isDataChanged = false; // \n    this.isCoordinateChanged = false; // \n\n    // 2.  geometries\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      geometries[i].clear();\n      // view  geometry  chart.geometry()  #2799\n      geometries[i].container.remove(true);\n      geometries[i].labelsContainer.remove(true);\n    }\n    this.geometries = [];\n\n    // 3.  controllers\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      if (controllers[i].name === 'annotation') {\n        // \n        (controllers[i] as Annotation).clear(true);\n      } else {\n        controllers[i].clear();\n      }\n    }\n\n    // 4.  scale \n    this.createdScaleKeys.forEach((v: boolean, k: string) => {\n      this.getRootView().scalePool.deleteScale(k);\n    });\n    this.createdScaleKeys.clear();\n\n    //  view\n    const views = this.views;\n    for (let i = 0; i < views.length; i++) {\n      views[i].clear();\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CLEAR);\n  }\n\n  /**\n   * \n   * @returns void\n   */\n  public destroy() {\n    // \n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_DESTROY);\n    const interactions = this.interactions;\n    //  interactions\n    each(interactions, (interaction) => {\n      if (interaction) {\n        //  undefined\n        interaction.destroy();\n      }\n    });\n\n    this.clear();\n\n    //  controller \n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.destroy();\n    }\n\n    this.backgroundGroup.remove(true);\n    this.middleGroup.remove(true);\n    this.foregroundGroup.remove(true);\n\n    super.destroy();\n  }\n  /* end  */\n\n  /**\n   *  view\n   * @param visible \n   * @returns View\n   */\n  public changeVisible(visible: boolean): View {\n    super.changeVisible(visible);\n\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      geometry.changeVisible(visible);\n    }\n\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      controller.changeVisible(visible);\n    }\n\n    this.foregroundGroup.set('visible', visible);\n    this.middleGroup.set('visible', visible);\n    this.backgroundGroup.set('visible', visible);\n\n    // group.set('visible', visible) \n    this.getCanvas().draw();\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.data([{ city: '', sale: 100 }, { city: '', sale: 110 } ]);\n   * ```\n   *\n   * @param data json \n   * @returns View\n   */\n  public data(data: Data): View {\n    set(this.options, 'data', data);\n    this.isDataChanged = true;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #data(data)}\n   */\n  public source(data: Data): View {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.data() instead.');\n    return this.data(data);\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.filter('city', (value: any, datum: Datum) => value !== '');\n   *\n   * //  'city' \n   * view.filter('city', null);\n   * ```\n   *\n   * @param field \n   * @param condition \n   * @returns View\n   */\n  public filter(field: string, condition: FilterCondition | null): View {\n    if (isFunction(condition)) {\n      set(this.options, ['filters', field], condition);\n      return this;\n    }\n    // condition \n    if (!condition && get(this.options, ['filters', field])) {\n      delete this.options.filters[field];\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   *  view.axis(false); // \n   * ```\n   * @param field \n   */\n  public axis(field: boolean): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.axis('city', false); //  'city' \n   *\n   * //  'city' \n   * view.axis('city', {\n   *   title: null,\n   * });\n   * ```\n   *\n   * @param field \n   * @param axisOption https://github.com/antvis/component#axis\n   */\n  public axis(field: string, axisOption: AxisOption): View;\n  public axis(field: string | boolean, axisOption?: AxisOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['axes'], field);\n    } else {\n      set(this.options, ['axes', field], axisOption);\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.legend(false); // \n   *\n   * view.legend({\n   *   position: 'right',\n   * }); // \n   * ```\n   * @param field\n   * @returns View\n   */\n  public legend(field: LegendOption): View;\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.legend('city', false); // \n   *\n   * // \n   * view.legend('city', {\n   *   position: 'right',\n   * });\n   * ```\n   *\n   * @param field \n   * @param legendOption https://github.com/antvis/component#axis\n   * @returns View\n   */\n  public legend(field: string, legendOption: LegendOption): View;\n  public legend(field: string | LegendOption, legendOption?: LegendOption): View {\n    if (isBoolean(field)) {\n      set(this.options, ['legends'], field);\n    } else if (isString(field)) {\n      set(this.options, ['legends', field], legendOption);\n      if (isPlainObject(legendOption) && legendOption?.selected) {\n        set(this.options, ['filters', field], (name: string) => {\n          return legendOption?.selected[name] ?? true;\n        });\n      }\n    } else {\n      //  legend \n      set(this.options, ['legends'], field);\n    }\n\n    return this;\n  }\n\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale({\n   *   sale: {\n   *     min: 0,\n   *     max: 100,\n   *   }\n   * });\n   * ```\n   * Scale https://github.com/antvis/scale#api\n   * @returns View\n   */\n  public scale(field: Record<string, ScaleOption>): View;\n  /**\n   *  scale \n   *\n   * ```ts\n   * view.scale('sale', {\n   *   min: 0,\n   *   max: 100,\n   * });\n   * ```\n   *\n   * @returns View\n   */\n  public scale(field: string, scaleOption: ScaleOption): View;\n  public scale(field: string | Record<string, ScaleOption>, scaleOption?: ScaleOption): View {\n    if (isString(field)) {\n      set(this.options, ['scales', field], scaleOption);\n    } else if (isObject(field)) {\n      each(field, (v: ScaleOption, k: string) => {\n        set(this.options, ['scales', k], v);\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * tooltip \n   *\n   * ```ts\n   * view.tooltip(false); //  tooltip\n   *\n   * view.tooltip({\n   *   shared: true\n   * });\n   * ```\n   *\n   * @param cfg Tooltip https://github.com/antvis/component#tooltip\n   * @returns View\n   */\n  public tooltip(cfg: boolean | TooltipOption): View {\n    set(this.options, 'tooltip', cfg);\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.annotation().line({\n   *   start: ['min', 85],\n   *   end: ['max', 85],\n   *   style: {\n   *     stroke: '#595959',\n   *     lineWidth: 1,\n   *     lineDash: [3, 3],\n   *   },\n   * });\n   * ```\n   * https://github.com/antvis/component#annotation\n   * @returns [[Annotation]]\n   */\n  public annotation(): Annotation {\n    return this.getController('annotation');\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #guide()}\n   */\n  public guide(): Annotation {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.annotation() instead.');\n    return this.annotation();\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * view.coordinate({\n   *   type: 'polar',\n   *   cfg: {\n   *     radius: 0.85,\n   *   },\n   *   actions: [\n   *     [ 'transpose' ],\n   *   ],\n   * });\n   * ```\n   *\n   * @param option\n   * @returns\n   */\n  public coordinate(option?: CoordinateOption): CoordinateController;\n  /**\n   * \n   *\n   * ```ts\n   * // \n   * view.coordinate('rect').transpose();\n   *\n   * // \n   * view.coordinate();\n   * ```\n   *\n   * @param type \n   * @param [coordinateCfg] \n   * @returns\n   */\n  public coordinate(type: string, coordinateCfg?: CoordinateCfg): CoordinateController;\n  public coordinate(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    // \n    if (isString(type)) {\n      set(this.options, 'coordinate', { type, cfg: coordinateCfg } as CoordinateOption);\n    } else {\n      set(this.options, 'coordinate', type);\n    }\n\n    //  coordinate \n    this.coordinateController.update(this.options.coordinate);\n\n    return this.coordinateController;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #coordinate()}\n   */\n  public coord(type: string | CoordinateOption, coordinateCfg?: CoordinateCfg): CoordinateController {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.coordinate() instead.');\n    // @ts-ignore\n    return this.coordinate(type, coordinateCfg);\n  }\n\n  /**\n   * view \n   *\n   * ```ts\n   * view.facet('rect', {\n   *   rowField: 'province',\n   *   columnField: 'category',\n   *   eachView: (innerView: View, facet?: FacetData) => {\n   *     innerView.line().position('city*sale');\n   *   },\n   * });\n   * ```\n   *\n   * @param type \n   * @param cfg  [[FacetCfgMap]]\n   * @returns View\n   */\n  public facet<T extends keyof FacetCfgMap>(type: T, cfg: FacetCfgMap[T]): View {\n    // \n    if (this.facetInstance) {\n      this.facetInstance.destroy();\n    }\n\n    // \n    const Ctor = getFacet(type);\n\n    if (!Ctor) {\n      throw new Error(`facet '${type}' is not exist!`);\n    }\n\n    this.facetInstance = new Ctor(this, { ...cfg, type });\n\n    return this;\n  }\n\n  /*\n   * \n   *\n   * ```ts\n   * view.animate(false);\n   * ```\n   *\n   * @param status true false \n   * @returns View\n   */\n  public animate(status: boolean): View {\n    set(this.options, 'animate', status);\n    return this;\n  }\n\n  /**\n   * \n   * @param options \n   */\n  public updateOptions(options: Options) {\n    this.clear(); // \n    mix(this.options, options);\n\n    //  view \n    //  view \n    this.views.forEach((view) => view.destroy());\n    this.views = [];\n\n    this.initOptions();\n    //  padding \n    this.coordinateBBox = this.viewBBox;\n    return this;\n  }\n\n  /**\n   *  `view.options` \n   * @param name \n   * @param opt \n   * @returns view\n   */\n  public option(name: string, opt: any): View {\n    //  option\n    // name  API option \n    if (View.prototype[name]) {\n      throw new Error(`Can't use built in variable name \"${name}\", please change another one.`);\n    }\n\n    //  option \n    set(this.options, name, opt);\n    return this;\n  }\n\n  /**\n   * \n   *\n   * ```ts\n   * view.theme('dark'); // 'dark'  `registerTheme()` \n   *\n   * view.theme({ defaultColor: 'red' });\n   * ```\n   *\n   * @param theme \n   * @returns View\n   */\n  public theme(theme: string | LooseObject): View {\n    this.themeObject = isObject(theme) ? deepMix({}, this.themeObject, createTheme(theme)) : getTheme(theme);\n\n    return this;\n  }\n\n  /* end  API */\n\n  /**\n   * Call the interaction based on the interaction name\n   *\n   * ```ts\n   * view.interaction('my-interaction', { extra: 'hello world' });\n   * ```\n   * https://g2.antv.vision/zh/docs/api/general/interaction\n   * @param name interaction name\n   * @param cfg interaction config\n   * @returns\n   */\n  public interaction(name: string, cfg?: LooseObject): View {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n    }\n\n    // \n    const interaction = createInteraction(name, this, cfg);\n    if (interaction) {\n      interaction.init();\n      this.interactions[name] = interaction;\n    }\n    return this;\n  }\n\n  /**\n   *  View  interaction\n   * ```ts\n   * view.removeInteraction('my-interaction');\n   * ```\n   * @param name interaction name\n   */\n  public removeInteraction(name: string) {\n    const existInteraction = this.interactions[name];\n    // \n    if (existInteraction) {\n      existInteraction.destroy();\n      this.interactions[name] = undefined;\n    }\n  }\n\n  /**\n   *  view\n   *\n   * ```ts\n   * view.changeData([{ city: '', sale: '200' }]);\n   * ```\n   *\n   * @param data\n   * @returns void\n   */\n  public changeData(data: Data) {\n    this.isDataChanged = true;\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n    // 1. \n    this.data(data);\n\n    // 2. \n    this.paint(true);\n\n    // 3.  view  change data\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      // FIXME  view \n      view.changeData(data);\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n  }\n\n  /* View  API */\n\n  /**\n   *  view\n   *\n   * ```ts\n   * const innerView = view.createView({\n   *   start: { x: 0, y: 0 },\n   *   end: { x: 0.5, y: 0.5 },\n   *   padding: 8,\n   * });\n   * ```\n   *\n   * @param cfg\n   * @returns View\n   */\n  public createView(cfg?: Partial<ViewCfg>): View {\n    //  4.1  view chart - view \n    //  API  warning\n    if (this.parent && this.parent.parent) {\n      //  3  \n      console.warn('The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.');\n    }\n\n    //  view  options \n    const sharedOptions = {\n      data: this.options.data,\n      scales: clone(this.options.scales),\n      axes: clone(this.options.axes),\n      coordinate: clone(this.coordinateController.getOption()),\n      tooltip: clone(this.options.tooltip),\n      legends: clone(this.options.legends),\n      animate: this.options.animate,\n      visible: this.visible,\n    };\n\n    const v = new View({\n      parent: this,\n      canvas: this.canvas,\n      //  view  group\n      backgroundGroup: this.backgroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: this.middleGroup.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: this.foregroundGroup.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      theme: this.themeObject,\n      padding: this.padding,\n      ...cfg,\n      options: {\n        ...sharedOptions,\n        ...get(cfg, 'options', {}),\n      },\n    });\n\n    this.views.push(v);\n\n    return v;\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Replaced by {@link #createView()}\n   */\n  public view(cfg?: Partial<ViewCfg>) {\n    console.warn('This method will be removed at G2 V4.1. Please use chart.createView() instead.');\n    return this.createView(cfg);\n  }\n\n  /**\n   *  view\n   * @param view\n   * @return removedView\n   */\n  public removeView(view: View): View {\n    const removedView = remove(this.views, (v: View) => v === view)[0];\n\n    if (removedView) {\n      removedView.destroy();\n    }\n\n    return removedView;\n  }\n  /* end View  API */\n\n  //  get \n\n  /**\n   * \n   * @returns [[Coordinate]]\n   */\n  public getCoordinate() {\n    return this.coordinateInstance;\n  }\n\n  /**\n   *  view \n   * @returns themeObject\n   */\n  public getTheme(): LooseObject {\n    return this.themeObject;\n  }\n\n  /**\n   *  x  scale \n   * @returns view  Geometry  x scale\n   */\n  public getXScale(): Scale {\n    //  Geometry  X scale\n    //  view  Geometry  x \n    const g = this.geometries[0];\n    return g ? g.getXScale() : null;\n  }\n\n  /**\n   *  y  scales \n   * @returns view  Geometry  y scale \n   */\n  public getYScales(): Scale[] {\n    //  Geometry  Y scale\n    const tmpMap = {};\n    const yScales = [];\n    this.geometries.forEach((g: Geometry) => {\n      const yScale = g.getYScale();\n      const field = yScale.field;\n      if (!tmpMap[field]) {\n        tmpMap[field] = true;\n        yScales.push(yScale);\n      }\n    });\n    return yScales;\n  }\n\n  /**\n   *  x  y  scale \n   * @param dimType x | y\n   * @returns x  y  scale \n   */\n  public getScalesByDim(dimType: 'x' | 'y'): Record<string, Scale> {\n    const geometries = this.geometries;\n    const scales = {};\n\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      const scale = dimType === 'x' ? geometry.getXScale() : geometry.getYScale();\n      if (scale && !scales[scale.field]) {\n        scales[scale.field] = scale;\n      }\n    }\n\n    return scales;\n  }\n\n  /**\n   *  scale \n   * @param field \n   * @param key id\n   */\n  public getScale(field: string, key?: string): Scale {\n    const defaultKey = key ? key : this.getScaleKey(field);\n    //  view \n    return this.getRootView().scalePool.getScale(defaultKey);\n  }\n\n  /**\n   * @deprecated\n   * This method will be removed at G2 V4.1. Please use `getScale`.\n   */\n  public getScaleByField(field: string, key?: string): Scale {\n    return this.getScale(field, key);\n  }\n\n  /**\n   * \n   * @returns  view API \n   */\n  public getOptions(): Options {\n    return this.options;\n  }\n\n  /**\n   *  view \n   * @returns \n   */\n  public getData() {\n    return this.filteredData;\n  }\n\n  /**\n   * \n   * @returns  G2 \n   */\n  public getOriginalData() {\n    return this.options.data;\n  }\n\n  /**\n   *  padding\n   * @returns\n   */\n  public getPadding(): Padding {\n    return this.autoPadding.getPadding();\n  }\n\n  /**\n   *  view  geometries\n   * @returns\n   */\n  public getGeometries() {\n    return this.geometries;\n  }\n\n  /**\n   *  view  geome\n   */\n  public getElements(): Element[] {\n    return reduce(\n      this.geometries,\n      (elements: Element[], geometry: Geometry) => {\n        return elements.concat(geometry.getElements());\n      },\n      []\n    );\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.getElements().filter((el) => condition(el));\n  }\n\n  /**\n   *  group\n   * @param layer \n   * @returns  Group\n   */\n  public getLayer(layer: LAYER): IGroup {\n    return layer === LAYER.BG\n      ? this.backgroundGroup\n      : layer === LAYER.MID\n      ? this.middleGroup\n      : layer === LAYER.FORE\n      ? this.foregroundGroup\n      : this.foregroundGroup;\n  }\n\n  /**\n   * \n   * @param point \n   */\n  public isPointInPlot(point: Point): boolean {\n    return isPointInCoordinate(this.getCoordinate(), point);\n  }\n\n  /**\n   *  legend  attribute \n   * @returns  Attribute \n   */\n  public getLegendAttributes(): Attribute[] {\n    return flatten(this.geometries.map((g: Geometry) => g.getGroupAttributes())) as unknown as Attribute[];\n  }\n\n  /**\n   *  scale \n   * @returns  scale \n   */\n  public getGroupScales(): Scale[] {\n    //  Geometry   scale\n    const scales = this.geometries.map((g: Geometry) => g.getGroupScales());\n    return uniq(flatten(scales));\n  }\n\n  /**\n   *  G.Canvas \n   * @returns G.Canvas \n   */\n  public getCanvas(): ICanvas {\n    return (this.getRootView() as unknown as Chart).canvas;\n  }\n\n  /**\n   *  view\n   */\n  public getRootView(): View {\n    let v = this as View;\n\n    while (true) {\n      if (v.parent) {\n        v = v.parent;\n        continue;\n      }\n      break;\n    }\n    return v;\n  }\n\n  /**\n   * \n   * @param data \n   * @returns \n   */\n  public getXY(data: Datum): Point {\n    const coordinate = this.getCoordinate();\n    const xScales = this.getScalesByDim('x');\n    const yScales = this.getScalesByDim('y');\n    let x;\n    let y;\n\n    each(data, (value, key) => {\n      if (xScales[key]) {\n        x = xScales[key].scale(value);\n      }\n      if (yScales[key]) {\n        y = yScales[key].scale(value);\n      }\n    });\n\n    if (!isNil(x) && !isNil(y)) {\n      return coordinate.convert({ x, y });\n    }\n  }\n\n  public getController(name: 'tooltip'): Tooltip;\n  public getController(name: 'axis'): Axis;\n  public getController(name: 'legend'): Legend;\n  public getController(name: 'scrollbar'): Scrollbar;\n  public getController(name: 'slider'): Slider;\n  public getController(name: 'annotation'): Annotation;\n  public getController(name: 'gestucre'): Gesture;\n  public getController(name: string): Controller;\n  /**\n   *  name  controller \n   * @param name\n   */\n  public getController(name: string): Controller {\n    return find(this.controllers, (c: Controller) => c.name === name);\n  }\n\n  /**\n   *  point  tooltip\n   * @param point \n   * @returns View\n   */\n  public showTooltip(point: Point): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.showTooltip(point);\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns View\n   */\n  public hideTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.hideTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public lockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.lockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip \n   * @returns View\n   */\n  public unlockTooltip(): View {\n    const tooltip = this.getController('tooltip');\n    if (tooltip) {\n      tooltip.unlockTooltip();\n    }\n    return this;\n  }\n\n  /**\n   *  tooltip\n   * @returns \n   */\n  public isTooltipLocked() {\n    const tooltip = this.getController('tooltip');\n    return tooltip && tooltip.isTooltipLocked();\n  }\n\n  /**\n   *  point  tooltip \n   * @param point \n   * @returns tooltip \n   */\n  public getTooltipItems(point: Point) {\n    const tooltip = this.getController('tooltip');\n\n    return tooltip ? tooltip.getTooltipItems(point) : [];\n  }\n\n  /**\n   * \n   * @param point \n   * @returns  \n   */\n  public getSnapRecords(point: Point) {\n    const geometries = this.geometries;\n    let rst = [];\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geom = geometries[i];\n      const dataArray = geom.dataArray;\n      geom.sort(dataArray); //  tooltip \n      let record;\n      for (let j = 0, dataLen = dataArray.length; j < dataLen; j++) {\n        const data = dataArray[j];\n        record = findDataByPoint(point, data, geom);\n        if (record) {\n          rst.push(record);\n        }\n      }\n    }\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      const snapRecords = view.getSnapRecords(point);\n      rst = rst.concat(snapRecords);\n    }\n\n    return rst;\n  }\n\n  /**\n   *  pure component \n   */\n  public getComponents(): ComponentOption[] {\n    let components = [];\n    const controllers = this.controllers;\n    for (let i = 0, len = controllers.length; i < len; i++) {\n      const controller = controllers[i];\n      components = components.concat(controller.getComponents());\n    }\n\n    return components;\n  }\n\n  /**\n   *  data \n   * @param data\n   * @returns \n   */\n  public filterData(data: Data): Data {\n    const { filters } = this.options;\n    //  filters\n    if (size(filters) === 0) {\n      return data;\n    }\n\n    //   \n    return filter(data, (datum: Datum, idx: number) => {\n      //  filter \n      const fields = Object.keys(filters);\n\n      // \n      return fields.every((field: string) => {\n        const condition = filters[field];\n\n        // condition  true\n        return condition(datum[field], datum, idx);\n      });\n    });\n  }\n\n  /**\n   * \n   * @param field\n   * @param data\n   */\n  public filterFieldData(field: string, data: Data): Data {\n    const { filters } = this.options;\n    const condition = get(filters, field);\n\n    if (isUndefined(condition)) {\n      return data;\n    }\n    return data.filter((datum: Datum, idx: number) => condition(datum[field], datum, idx));\n  }\n\n  /**\n   *  coordinate \n   */\n  public adjustCoordinate() {\n    const { start: curStart, end: curEnd } = this.getCoordinate();\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n\n    //  defaultLayoutFn  coordinateBBox  adjustCoordinate()\n    if (isEqual(curStart, start) && isEqual(curEnd, end)) {\n      this.isCoordinateChanged = false;\n      // \n      return;\n    }\n    this.isCoordinateChanged = true;\n    this.coordinateInstance = this.coordinateController.adjust(start, end);\n  }\n\n  protected paint(isUpdate: boolean) {\n    this.renderDataRecursive(isUpdate);\n\n    //  sync scale \n    this.syncScale();\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_PAINT);\n\n    //  padding\n    this.renderPaddingRecursive(isUpdate);\n    // \n    this.renderLayoutRecursive(isUpdate);\n    //  shape\n    this.renderBackgroundStyleShape();\n    //  render\n    this.renderPaintRecursive(isUpdate);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_PAINT);\n\n    this.isDataChanged = false; // \n  }\n\n  /**\n   *  shape\n   *  view  view \n   */\n  private renderBackgroundStyleShape() {\n    // \n    if (this.parent) {\n      return;\n    }\n    const background = get(this.themeObject, 'background');\n    // \n    if (background) {\n      // 1. \n      if (!this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape = this.backgroundGroup.addShape('rect', {\n          attrs: {},\n          zIndex: -1,\n          //  shape \n          capture: false,\n        });\n        this.backgroundStyleRectShape.toBack();\n      }\n\n      // 2.  shape \n      const { x, y, width, height } = this.viewBBox;\n      this.backgroundStyleRectShape.attr({\n        fill: background,\n        x,\n        y,\n        width,\n        height,\n      });\n    } else {\n      // \n      if (this.backgroundStyleRectShape) {\n        this.backgroundStyleRectShape.remove(true);\n        this.backgroundStyleRectShape = undefined;\n      }\n    }\n  }\n\n  /**\n   *  view  padding coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderPaddingRecursive(isUpdate: boolean) {\n    // 1.  view  coordinateBBoxchangeSize \n    this.calculateViewBBox();\n    // 2.  coordinate\n    this.adjustCoordinate();\n    // 3.  component\n    this.initComponents(isUpdate);\n    // 4.  view  padding \n    // 4.1.  auto padding -> absolute padding appendPadding\n    this.autoPadding = calculatePadding(this).shrink(parsePadding(this.appendPadding));\n    // 4.2.  coordinateBBox Coordinate\n    //  view  viewBBox  parent  coordinateBBox\n    this.coordinateBBox = this.viewBBox.shrink(this.autoPadding.getPadding());\n    this.adjustCoordinate();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaddingRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  view  view  coordinateBBox  coordinateInstance\n   * @param isUpdate\n   */\n  protected renderLayoutRecursive(isUpdate: boolean) {\n    // 1.  view padding\n    //  padding\n    const syncViewPaddingFn =\n      this.syncViewPadding === true\n        ? defaultSyncViewPadding\n        : isFunction(this.syncViewPadding)\n        ? this.syncViewPadding\n        : undefined;\n\n    if (syncViewPaddingFn) {\n      syncViewPaddingFn(this, this.views, PaddingCal);\n      //  padding  coordinate\n      this.views.forEach((v: View) => {\n        v.coordinateBBox = v.viewBBox.shrink(v.autoPadding.getPadding());\n        v.adjustCoordinate();\n      });\n    }\n\n    // 3.  view  view padding \n    this.doLayout();\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderLayoutRecursive(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  protected renderPaintRecursive(isUpdate: boolean) {\n    const middleGroup = this.middleGroup;\n    if (this.limitInPlot) {\n      const { type, attrs } = getCoordinateClipCfg(this.coordinateInstance);\n      middleGroup.setClip({\n        type,\n        attrs,\n      });\n    } else {\n      //  clip\n      middleGroup.setClip(undefined);\n    }\n\n    // 1. \n    this.paintGeometries(isUpdate);\n    // 2. \n    this.renderComponents(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderPaintRecursive(isUpdate);\n    }\n  }\n\n  // end Get \n\n  /**\n   *  scale view  scale\n   * @param field\n   * @param data\n   * @param scaleDef\n   * @param key\n   */\n  protected createScale(field: string, data: Data, scaleDef: ScaleOption, key: string): Scale {\n    // 1.  field  scaleDef\n    const currentScaleDef = get(this.options.scales, [field]);\n    const mergedScaleDef = { ...currentScaleDef, ...scaleDef };\n\n    // 2.  view\n    if (this.parent) {\n      return this.parent.createScale(field, data, mergedScaleDef, key);\n    }\n\n    // 3.  view  scalePool \n    return this.scalePool.createScale(field, data, mergedScaleDef, key);\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderDataRecursive(isUpdate: boolean) {\n    // 1. \n    this.doFilterData();\n    // 2. \n    this.createCoordinate();\n    // 3.  Geometry\n    this.initGeometries(isUpdate);\n    // 4.  view  geometry\n    this.renderFacet(isUpdate);\n\n    //  views\n    const views = this.views;\n    for (let i = 0, len = views.length; i < len; i++) {\n      const view = views[i];\n      view.renderDataRecursive(isUpdate);\n    }\n  }\n\n  /**\n   *  region\n   * @private\n   */\n  private calculateViewBBox() {\n    let x;\n    let y;\n    let width;\n    let height;\n\n    if (this.parent) {\n      const bbox = this.parent.coordinateBBox;\n      //  parent \n      x = bbox.x;\n      y = bbox.y;\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      //  canvas  \n      x = 0;\n      y = 0;\n      width = this.canvas.get('width');\n      height = this.canvas.get('height');\n    }\n\n    const { start, end } = this.region;\n\n    //  region  view  bbox \n    const viewBBox = new BBox(\n      x + width * start.x,\n      y + height * start.y,\n      width * (end.x - start.x),\n      height * (end.y - start.y)\n    );\n\n    if (!this.viewBBox || !this.viewBBox.isEqual(viewBBox)) {\n      // viewBBox \n      this.viewBBox = new BBox(\n        x + width * start.x,\n        y + height * start.y,\n        width * (end.x - start.x),\n        height * (end.y - start.y)\n      );\n    }\n\n    //  coordinate bbox \n    this.coordinateBBox = this.viewBBox;\n  }\n\n  /**\n   * G 4.0  name:event  name \n   *\n   * G2  view \n   *  view  view  Component  Geometry \n   * @private\n   */\n  private initEvents() {\n    //  group  shape  G \n    this.foregroundGroup.on('*', this.onDelegateEvents);\n    this.middleGroup.on('*', this.onDelegateEvents);\n    this.backgroundGroup.on('*', this.onDelegateEvents);\n\n    this.canvas.on('*', this.onCanvasEvent);\n  }\n\n  private onCanvasEvent = (evt: GEvent): void => {\n    const name = evt.name;\n    if (!name.includes(':')) {\n      // \n      const e = this.createViewEvent(evt);\n      //  plot \n      this.doPlotEvent(e);\n      this.emit(name, e);\n    }\n  };\n\n  /**\n   * \n   */\n  private initComponentController() {\n    const usedControllers = this.usedControllers;\n    for (let i = 0, len = usedControllers.length; i < len; i++) {\n      const controllerName = usedControllers[i];\n      const Ctor = getComponentController(controllerName);\n      if (Ctor) {\n        this.controllers.push(new Ctor(this));\n      }\n    }\n  }\n\n  private createViewEvent(evt: GEvent) {\n    const { shape, name } = evt;\n\n    const data = shape ? shape.get('origin') : null;\n    //  view \n    const e = new Event(this, evt, data);\n    e.type = name;\n    return e;\n  }\n  /**\n   * \n   * @param evt\n   */\n  private onDelegateEvents = (evt: GEvent): void => {\n    // \n    // evt.preventDefault();\n    const { name } = evt;\n    if (!name.includes(':')) {\n      return;\n    }\n    //  view \n    const e = this.createViewEvent(evt);\n\n    // \n    this.emit(name, e);\n    // const currentTarget = evt.currentTarget as IShape;\n    // const inheritNames = currentTarget.get('inheritNames');\n    // if (evt.delegateObject || inheritNames) {\n    //   const events = this.getEvents();\n    //   each(inheritNames, (subName) => {\n    //     const eventName = `${subName}:${type}`;\n    //     if (events[eventName]) {\n    //       this.emit(eventName, e);\n    //     }\n    //   });\n    // }\n  };\n\n  /**\n   *  PLOT_EVENTS\n   * plot event  emit\n   *  mouseentermouseleave \n   * @param e\n   */\n  private doPlotEvent(e: Event) {\n    const { type, x, y } = e;\n\n    const point = { x, y };\n\n    const ALL_EVENTS = [\n      'mousedown',\n      'mouseup',\n      'mousemove',\n      'mouseleave',\n      'mousewheel',\n      'touchstart',\n      'touchmove',\n      'touchend',\n      'touchcancel',\n      'click',\n      'dblclick',\n      'contextmenu',\n    ];\n\n    if (ALL_EVENTS.includes(type)) {\n      const currentInPlot = this.isPointInPlot(point);\n      const newEvent = e.clone();\n\n      if (currentInPlot) {\n        const TYPE = `plot:${type}`; //  plot \n        newEvent.type = TYPE;\n        this.emit(TYPE, newEvent);\n        if (type === 'mouseleave' || type === 'touchend') {\n          // plot \n          this.isPreMouseInPlot = false;\n        }\n      }\n\n      //  mouseenter, mouseleave \n      if (type === 'mousemove' || type === 'touchmove') {\n        if (this.isPreMouseInPlot && !currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n        } else if (!this.isPreMouseInPlot && currentInPlot) {\n          if (type === 'mousemove') {\n            newEvent.type = PLOT_EVENTS.MOUSE_ENTER;\n            this.emit(PLOT_EVENTS.MOUSE_ENTER, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.ENTER;\n          this.emit(PLOT_EVENTS.ENTER, newEvent);\n        }\n        // \n        this.isPreMouseInPlot = currentInPlot;\n      } else if (type === 'mouseleave' || type === 'touchend') {\n        //  currentInPlot \n        if (this.isPreMouseInPlot) {\n          if (type === 'mouseleave') {\n            newEvent.type = PLOT_EVENTS.MOUSE_LEAVE;\n            this.emit(PLOT_EVENTS.MOUSE_LEAVE, newEvent);\n          }\n          newEvent.type = PLOT_EVENTS.LEAVE;\n          this.emit(PLOT_EVENTS.LEAVE, newEvent);\n\n          this.isPreMouseInPlot = false;\n        }\n      }\n    }\n  }\n\n  // view   \n\n  /**\n   * \n   * @private\n   */\n  private doFilterData() {\n    const { data } = this.options;\n    this.filteredData = this.filterData(data);\n  }\n\n  /**\n   *  Geometries\n   * @private\n   */\n  private initGeometries(isUpdate: boolean) {\n    //  /  scales\n    this.createOrUpdateScales();\n    //  Geometry view  scale \n    const coordinate = this.getCoordinate();\n    const scaleDefs = get(this.options, 'scales', {});\n    const geometries = this.geometries;\n    for (let i = 0, len = geometries.length; i < len; i++) {\n      const geometry = geometries[i];\n      //  scales \n      geometry.scales = this.getGeometryScales();\n      const cfg = {\n        coordinate, //  coordinate  coordinate \n        scaleDefs,\n        data: this.filteredData,\n        theme: this.themeObject,\n        isDataChanged: this.isDataChanged,\n        isCoordinateChanged: this.isCoordinateChanged,\n      };\n\n      if (isUpdate) {\n        // \n        geometry.update(cfg);\n      } else {\n        geometry.init(cfg);\n      }\n    }\n\n    // Geometry  scale scale \n    this.adjustScales();\n  }\n\n  /**\n   *  Geometry  scales\n   * \n   */\n  private createOrUpdateScales() {\n    const fields = this.getScaleFields();\n    const groupedFields = this.getGroupedFields();\n\n    const { data, scales = {} } = this.getOptions();\n    const filteredData = this.filteredData;\n\n    for (let i = 0, len = fields.length; i < len; i++) {\n      const field = fields[i];\n      const scaleDef = scales[field];\n\n      // \n      const key = this.getScaleKey(field);\n      this.createScale(\n        field,\n        //  scale \n        groupedFields.includes(field) ? data : filteredData,\n        scaleDef,\n        key\n      );\n\n      //  view  scale key\n      this.createdScaleKeys.set(key, true);\n    }\n  }\n\n  /**\n   *  scale \n   */\n  private syncScale() {\n    //  root view \n    this.getRootView().scalePool.sync(this.getCoordinate(), this.theme);\n  }\n\n  /**\n   *  Geometry  scale \n   */\n  private getGeometryScales(): Record<string, Scale> {\n    const fields = this.getScaleFields();\n\n    const scales = {};\n    for (let i = 0; i < fields.length; i++) {\n      const field = fields[i];\n      scales[field] = this.getScaleByField(field);\n    }\n\n    return scales;\n  }\n\n  private getScaleFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const geometryScales = geometry.getScaleFields();\n      uniq(geometryScales, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  private getGroupedFields() {\n    const fields = [];\n    const tmpMap = new Map();\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      const groupFields = geometry.getGroupFields();\n      uniq(groupFields, fields, tmpMap);\n    }\n    return fields;\n  }\n\n  /**\n   *  scale \n   * @private\n   */\n  private adjustScales() {\n    // \n    //  scale range \n    this.adjustCategoryScaleRange();\n  }\n\n  /**\n   *  scale  range\n   * @private\n   */\n  private adjustCategoryScaleRange() {\n    const xyScales = [this.getXScale(), ...this.getYScales()].filter((e) => !!e);\n    const coordinate = this.getCoordinate();\n    const scaleOptions = this.options.scales;\n\n    each(xyScales, (scale: Scale) => {\n      const { field, values, isCategory, isIdentity } = scale;\n\n      //  identity  scale \n      if (isCategory || isIdentity) {\n        //  value  range \n        if (values && !get(scaleOptions, [field, 'range'])) {\n          //  range\n          scale.range = getDefaultCategoryScaleRange(scale, coordinate, this.theme);\n        }\n      }\n    });\n  }\n\n  /**\n   *  options Geometry  components\n   * @param isUpdate \n   * @private\n   */\n  private initComponents(isUpdate: boolean) {\n    //  render\n    const controllers = this.controllers;\n    for (let i = 0; i < controllers.length; i++) {\n      const controller = controllers[i];\n      // \n      if (isUpdate) {\n        controller.update();\n      } else {\n        controller.clear();\n        controller.render();\n      }\n    }\n  }\n\n  private doLayout() {\n    this.layoutFunc(this);\n  }\n\n  /**\n   * \n   * @private\n   */\n  private createCoordinate() {\n    const start = this.coordinateBBox.bl;\n    const end = this.coordinateBBox.tr;\n    this.coordinateInstance = this.coordinateController.create(start, end);\n  }\n\n  /**\n   *  options  geometry\n   * @private\n   */\n  private paintGeometries(isUpdate: boolean) {\n    const doAnimation = this.options.animate;\n    // geometry  paint \n    const coordinate = this.getCoordinate();\n    const canvasRegion = {\n      x: this.viewBBox.x,\n      y: this.viewBBox.y,\n      minX: this.viewBBox.minX,\n      minY: this.viewBBox.minY,\n      maxX: this.viewBBox.maxX,\n      maxY: this.viewBBox.maxY,\n      width: this.viewBBox.width,\n      height: this.viewBBox.height,\n    };\n    const geometries = this.geometries;\n    for (let i = 0; i < geometries.length; i++) {\n      const geometry = geometries[i];\n      geometry.coordinate = coordinate;\n      geometry.canvasRegion = canvasRegion;\n      if (!doAnimation) {\n        //  view  view  geometry \n        geometry.animate(false);\n      }\n      geometry.paint(isUpdate);\n    }\n  }\n\n  /**\n   * \n   * @param isUpdate\n   */\n  private renderComponents(isUpdate: boolean) {\n    //  render\n    for (let i = 0; i < this.getComponents().length; i++) {\n      const co = this.getComponents()[i];\n      (co.component as GroupComponent).render();\n    }\n  }\n\n  /**\n   *  view \n   * @param isUpdate\n   */\n  private renderFacet(isUpdate: boolean) {\n    if (this.facetInstance) {\n      if (isUpdate) {\n        this.facetInstance.update();\n      } else {\n        this.facetInstance.clear();\n        // \n        this.facetInstance.init();\n        //  views\n        this.facetInstance.render();\n      }\n    }\n  }\n\n  private initOptions() {\n    const {\n      geometries = [],\n      interactions = [],\n      views = [],\n      annotations = [],\n      coordinate,\n      events,\n      facets,\n    } = this.options;\n\n    // \n    if (this.coordinateController) {\n      //  coordinate controller\n      coordinate && this.coordinateController.update(coordinate);\n    } else {\n      //  coordinate controller\n      this.coordinateController = new CoordinateController(coordinate);\n    }\n\n    //  geometry \n    for (let i = 0; i < geometries.length; i++) {\n      const geometryOption = geometries[i];\n      this.createGeometry(geometryOption);\n    }\n\n    //  interactions \n    for (let j = 0; j < interactions.length; j++) {\n      const interactionOption = interactions[j];\n      const { type, cfg } = interactionOption;\n      this.interaction(type, cfg);\n    }\n\n    //  view \n    for (let k = 0; k < views.length; k++) {\n      const viewOption = views[k];\n      this.createView(viewOption);\n    }\n\n    //  annotation\n    const annotationComponent = this.getController('annotation');\n    for (let l = 0; l < annotations.length; l++) {\n      const annotationOption = annotations[l];\n      annotationComponent.annotation(annotationOption);\n    }\n\n    //  events\n    if (events) {\n      each(events, (eventCallback, eventName) => {\n        this.on(eventName, eventCallback);\n      });\n    }\n\n    if (facets) {\n      each(facets, (facet) => {\n        const { type, ...rest } = facet;\n\n        this.facet(type, rest);\n      });\n    }\n  }\n\n  private createGeometry(geometryOption: GeometryOption) {\n    const { type, cfg = {} } = geometryOption;\n    if (this[type]) {\n      const geometry = this[type](cfg);\n      each(geometryOption, (v, k) => {\n        if (isFunction(geometry[k])) {\n          geometry[k](v);\n        }\n      });\n    }\n  }\n\n  /**\n   * scale key \n   * @param field\n   */\n  private getScaleKey(field: string): string {\n    return `${this.id}-${field}`;\n  }\n}\n\n/**\n *  geometry \n * @param name\n * @param Ctor\n * @returns Geometry\n */\nexport function registerGeometry(name: string, Ctor: any) {\n  //  view API \n  View.prototype[name.toLowerCase()] = function (cfg: any = {}) {\n    const props = {\n      /**  */\n      container: this.middleGroup.addGroup(),\n      labelsContainer: this.foregroundGroup.addGroup(),\n      ...cfg,\n    };\n\n    const geometry = new Ctor(props);\n    this.geometries.push(geometry);\n\n    return geometry;\n  };\n}\n\nexport default View;\n","import { debounce, each, isString } from '@antv/util';\nimport { ChartCfg } from '../interface';\nimport { GROUP_Z_INDEX, VIEW_LIFE_CIRCLE } from '../constant';\nimport { getEngine } from '../engine';\nimport { createDom, getChartSize, removeDom, modifyCSS } from '../util/dom';\nimport View from './view';\nimport { AriaOption } from '../interface';\n\n/**\n * Chart  G2 \n */\nexport default class Chart extends View {\n  /** Chart  DOM  */\n  public ele: HTMLElement;\n\n  /**  */\n  public width: number;\n  /**  */\n  public height: number;\n  /**  */\n  public localRefresh: boolean;\n  /**  DOM  false */\n  public autoFit: boolean;\n  /**  */\n  public renderer: 'canvas' | 'svg';\n\n  private wrapperElement: HTMLElement;\n\n  // @ts-ignore\n  constructor(props: ChartCfg) {\n    const {\n      container,\n      width,\n      height,\n      autoFit = false,\n      padding,\n      appendPadding,\n      renderer = 'canvas',\n      pixelRatio,\n      localRefresh = true,\n      visible = true,\n      supportCSSTransform = false,\n      defaultInteractions = ['tooltip', 'legend-filter', 'legend-active', 'continuous-filter', 'ellipsis-text'],\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    } = props;\n\n    const ele: HTMLElement = isString(container) ? document.getElementById(container) : container;\n\n    //  div \n    const wrapperElement = createDom('<div style=\"position:relative;\"></div>');\n    ele.appendChild(wrapperElement);\n\n    // if autoFit, use the container size, to avoid the graph render twice.\n    const size = getChartSize(ele, autoFit, width, height);\n\n    const G = getEngine(renderer);\n\n    const canvas = new G.Canvas({\n      container: wrapperElement,\n      pixelRatio,\n      localRefresh,\n      supportCSSTransform,\n      ...size,\n    });\n\n    //  view \n    super({\n      parent: null,\n      canvas,\n      // create 3 group layers for views.\n      backgroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.BG }),\n      middleGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.MID }),\n      foregroundGroup: canvas.addGroup({ zIndex: GROUP_Z_INDEX.FORE }),\n      padding,\n      appendPadding,\n      visible,\n      options,\n      limitInPlot,\n      theme,\n      syncViewPadding,\n    });\n\n    this.ele = ele;\n    this.canvas = canvas;\n    this.width = size.width;\n    this.height = size.height;\n    this.autoFit = autoFit;\n    this.localRefresh = localRefresh;\n    this.renderer = renderer;\n    this.wrapperElement = wrapperElement;\n\n    // \n    this.updateCanvasStyle();\n    this.bindAutoFit();\n    this.initDefaultInteractions(defaultInteractions);\n  }\n\n  private initDefaultInteractions(interactions) {\n    each(interactions, (interaction) => {\n      this.interaction(interaction);\n    });\n  }\n\n  /**\n   *  WAI-ARIA  arial \n   * @param ariaOption\n   */\n  public aria(ariaOption: AriaOption) {\n    const ATTR = 'aria-label';\n    if (ariaOption === false) {\n      this.ele.removeAttribute(ATTR);\n    } else {\n      this.ele.setAttribute(ATTR, ariaOption.label);\n    }\n  }\n\n  /**\n   * \n   * @param width \n   * @param height \n   * @returns\n   */\n  public changeSize(width: number, height: number) {\n    //  changeSize \n    if (this.width === width && this.height === height) {\n      return this;\n    }\n\n    this.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE);\n\n    this.width = width;\n    this.height = height;\n    this.canvas.changeSize(width, height);\n\n    // \n    this.render(true);\n\n    this.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_SIZE);\n\n    return this;\n  }\n\n  /**\n   *  aria \n   */\n  public clear() {\n    super.clear();\n\n    this.aria(false);\n  }\n\n  /**\n   *  G.Canvas \n   * @returns void\n   */\n  public destroy() {\n    super.destroy();\n\n    this.unbindAutoFit();\n    this.canvas.destroy();\n\n    removeDom(this.wrapperElement);\n    this.wrapperElement = null;\n  }\n\n  /**\n   * \n   * @param visible true false \n   * @returns\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible); //  visible \n    this.wrapperElement.style.display = visible ? '' : 'none';\n\n    return this;\n  }\n\n  /**\n   *  resize \n   */\n  public forceFit() {\n    // skip if already destroyed\n    if (!this.destroyed) {\n      //  true autoFit = falseforceFit() \n      const { width, height } = getChartSize(this.ele, true, this.width, this.height);\n      this.changeSize(width, height);\n    }\n  }\n\n  private updateCanvasStyle() {\n    modifyCSS(this.canvas.get('el'), {\n      display: 'inline-block',\n      verticalAlign: 'middle',\n    });\n  }\n\n  private bindAutoFit() {\n    if (this.autoFit) {\n      window.addEventListener('resize', this.onResize);\n    }\n  }\n\n  private unbindAutoFit() {\n    if (this.autoFit) {\n      window.removeEventListener('resize', this.onResize);\n    }\n  }\n\n  /**\n   * when container size changed, change chart size props, and re-render.\n   */\n  private onResize = debounce(() => {\n    this.forceFit();\n  }, 300);\n}\n","import { each } from '@antv/util';\nimport { ComponentOption } from '../../interface';\nimport View from '../view';\n\n/** Component controller class type define */\nexport type ControllerCtor<O = any> = new (view: View) => Controller<O>;\n\n/**\n * Component Controller \n * 1.  option \n * 2.  API\n * 3. \n */\nexport abstract class Controller<O = unknown> {\n  /**  */\n  public visible: boolean = true;\n  protected view: View;\n  /** option  */\n  protected option: O;\n  /**  component */\n  protected components: ComponentOption[] = [];\n\n  constructor(view: View) {\n    this.view = view;\n  }\n\n  public abstract get name(): string;\n\n  /**\n   * init the component\n   */\n  public abstract init();\n\n  /**\n   * render the components\n   */\n  public abstract render();\n\n  /**\n   * update the components\n   */\n  // public abstract update();\n\n  /**\n   * do layout\n   */\n  public abstract layout();\n\n  /**\n   * \n   *  -  id option \n   *  -  id  diff\n   *  - \n   *  - \n   *  - \n   */\n  public abstract update();\n\n  /**\n   * clear\n   * @param includeOption  option used in annotation\n   */\n  public clear(includeOption?: boolean) {\n    // destroy all components\n    each(this.components, (co: ComponentOption) => {\n      co.component.destroy();\n    });\n\n    // clear all component instance\n    this.components = [];\n  }\n\n  /**\n   * destroy the component\n   */\n  public destroy() {\n    this.clear();\n  }\n\n  /**\n   * get all components\n   * @returns components array\n   */\n  public getComponents(): ComponentOption[] {\n    return this.components;\n  }\n\n  /**\n   * change visibility of component\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    this.components.forEach((co: ComponentOption) => {\n      if (visible) {\n        co.component.show();\n      } else {\n        co.component.hide();\n      }\n    });\n    this.visible = visible;\n  }\n}\n","import { deepMix, find, get, isEqual, isFunction, mix, isString, isBoolean, flatten, isArray } from '@antv/util';\nimport { Crosshair, HtmlTooltip, IGroup } from '../../dependents';\nimport { Point, TooltipItem, TooltipOption } from '../../interface';\nimport { getAngleByPoint, getDistanceToCenter, isPointInCoordinate, getCoordinateClipCfg } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { findItemsFromView } from '../../util/tooltip';\nimport { BBox } from '../../util/bbox';\nimport { Controller } from './base';\nimport Event from '../event';\nimport View from '../view';\n\n// Filter duplicates, use `name`, `color`, `value` and `title` property values as condition\nfunction uniq(items) {\n  const uniqItems = [];\n  for (let index = 0; index < items.length; index++) {\n    const item = items[index];\n    const result = find(uniqItems, (subItem) => {\n      return (\n        subItem.color === item.color &&\n        subItem.name === item.name &&\n        subItem.value === item.value &&\n        subItem.title === item.title\n      );\n    });\n    if (!result) {\n      uniqItems.push(item);\n    }\n  }\n  return uniqItems;\n}\n\n/** @ignore */\nexport default class Tooltip extends Controller<TooltipOption> {\n  private tooltip;\n  private tooltipMarkersGroup: IGroup;\n  private tooltipCrosshairsGroup: IGroup;\n  private xCrosshair;\n  private yCrosshair;\n  private guideGroup: IGroup;\n\n  private isLocked: boolean = false;\n  private items;\n  private title: string;\n  private point: Point;\n\n  public get name(): string {\n    return 'tooltip';\n  }\n\n  public init() { }\n\n  private isVisible() {\n    const option = this.view.getOptions().tooltip;\n    return option !== false;\n  }\n\n  public render() { }\n\n  /**\n   * Shows tooltip\n   * @param point\n   */\n  public showTooltip(point: Point) {\n    this.point = point;\n    if (!this.isVisible()) {\n      //  tooltip(false) \n      return;\n    }\n    const view = this.view;\n    const items = this.getTooltipItems(point);\n    if (!items.length) {\n      //  tooltip \n      this.hideTooltip();\n      return;\n    }\n    const title = this.getTitle(items);\n    const dataPoint = {\n      x: items[0].x,\n      y: items[0].y,\n    }; // \n\n    view.emit(\n      'tooltip:show',\n      Event.fromData(view, 'tooltip:show', {\n        items,\n        title,\n        ...point,\n      })\n    );\n\n    const cfg = this.getTooltipCfg();\n    const { follow, showMarkers, showCrosshairs, showContent, marker } = cfg;\n    const lastItems = this.items;\n    const lastTitle = this.title;\n    if (!isEqual(lastTitle, title) || !isEqual(lastItems, items)) {\n      //  tooltip\n      view.emit(\n        'tooltip:change',\n        Event.fromData(view, 'tooltip:change', {\n          items,\n          title,\n          ...point,\n        })\n      );\n\n      if (isFunction(showContent) ? showContent(items) : showContent) {\n        //  tooltip  tooltip\n        if (!this.tooltip) {\n          // \n          this.renderTooltip();\n        }\n        this.tooltip.update(\n          mix(\n            {},\n            cfg,\n            {\n              items: this.getItemsAfterProcess(items),\n              title,\n            },\n            follow ? point : {}\n          )\n        );\n        this.tooltip.show();\n      }\n\n      if (showMarkers) {\n        //  tooltipMarkerstooltipMarkers \n        this.renderTooltipMarkers(items, marker);\n      }\n    } else {\n      // \n      if (this.tooltip && follow) {\n        this.tooltip.update(point);\n        this.tooltip.show(); // tooltip \n      }\n\n      if (this.tooltipMarkersGroup) {\n        this.tooltipMarkersGroup.show();\n      }\n    }\n\n    this.items = items;\n    this.title = title;\n\n    if (showCrosshairs) {\n      //  tooltip \n      const isCrosshairsFollowCursor = get(cfg, ['crosshairs', 'follow'], false); // \n      this.renderCrosshairs(isCrosshairsFollowCursor ? point : dataPoint, cfg);\n    }\n  }\n\n  public hideTooltip() {\n    const { follow } = this.getTooltipCfg();\n    if (!follow) {\n      this.point = null;\n      return;\n    }\n    // hide the tooltipMarkers\n    const tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.hide();\n    }\n\n    // hide crosshairs\n    const xCrosshair = this.xCrosshair;\n    const yCrosshair = this.yCrosshair;\n    if (xCrosshair) {\n      xCrosshair.hide();\n    }\n    if (yCrosshair) {\n      yCrosshair.hide();\n    }\n\n    const tooltip = this.tooltip;\n    if (tooltip) {\n      tooltip.hide();\n    }\n\n    this.view.emit('tooltip:hide', Event.fromData(this.view, 'tooltip:hide', {}));\n\n    this.point = null;\n  }\n\n  /**\n   * lockTooltip\n   */\n  public lockTooltip() {\n    this.isLocked = true;\n    if (this.tooltip) {\n      // tooltip contianer \n      this.tooltip.setCapture(true);\n    }\n  }\n\n  /**\n   * unlockTooltip\n   */\n  public unlockTooltip() {\n    this.isLocked = false;\n    const cfg = this.getTooltipCfg();\n    if (this.tooltip) {\n      //  capture \n      this.tooltip.setCapture(cfg.capture);\n    }\n  }\n\n  /**\n   * isTooltipLocked\n   */\n  public isTooltipLocked() {\n    return this.isLocked;\n  }\n\n  public clear() {\n    const { tooltip, xCrosshair, yCrosshair, tooltipMarkersGroup } = this;\n    if (tooltip) {\n      tooltip.hide();\n      tooltip.clear();\n    }\n\n    if (xCrosshair) {\n      xCrosshair.clear();\n    }\n\n    if (yCrosshair) {\n      yCrosshair.clear();\n    }\n\n    if (tooltipMarkersGroup) {\n      tooltipMarkersGroup.clear();\n    }\n\n    //  customContent  tooltip\n    if (tooltip?.get('customContent')) {\n      this.tooltip.destroy();\n      this.tooltip = null;\n    }\n\n    // title  items ,  tooltip \n    //  !isEqual(lastTitle, title) || !isEqual(lastItems, items)  tooltip \n    this.title = null;\n    this.items = null;\n  }\n\n  public destroy() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n    if (this.xCrosshair) {\n      this.xCrosshair.destroy();\n    }\n    if (this.yCrosshair) {\n      this.yCrosshair.destroy();\n    }\n\n    if (this.guideGroup) {\n      this.guideGroup.remove(true);\n    }\n\n    this.reset();\n  }\n\n  public reset() {\n    this.items = null;\n    this.title = null;\n    this.tooltipMarkersGroup = null;\n    this.tooltipCrosshairsGroup = null;\n    this.xCrosshair = null;\n    this.yCrosshair = null;\n    this.tooltip = null;\n    this.guideGroup = null;\n    this.isLocked = false;\n    this.point = null;\n  }\n\n  public changeVisible(visible: boolean) {\n    if (this.visible === visible) {\n      return;\n    }\n    const { tooltip, tooltipMarkersGroup, xCrosshair, yCrosshair } = this;\n    if (visible) {\n      if (tooltip) {\n        tooltip.show();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.show();\n      }\n      if (xCrosshair) {\n        xCrosshair.show();\n      }\n      if (yCrosshair) {\n        yCrosshair.show();\n      }\n    } else {\n      if (tooltip) {\n        tooltip.hide();\n      }\n      if (tooltipMarkersGroup) {\n        tooltipMarkersGroup.hide();\n      }\n      if (xCrosshair) {\n        xCrosshair.hide();\n      }\n      if (yCrosshair) {\n        yCrosshair.hide();\n      }\n    }\n    this.visible = visible;\n  }\n\n  public getTooltipItems(point: Point) {\n    let items = this.findItemsFromView(this.view, point);\n    if (items.length) {\n      // \n      items = flatten(items);\n      for (const itemArr of items) {\n        for (const item of itemArr) {\n          const { x, y } = item.mappingData;\n          item.x = isArray(x) ? x[x.length - 1] : x;\n          item.y = isArray(y) ? y[y.length - 1] : y;\n        }\n      }\n\n      const { shared } = this.getTooltipCfg();\n      // shared: false  shape  view  Geometry shape\n      if (shared === false && items.length > 1) {\n        let snapItem = items[0];\n        let min = Math.abs(point.y - snapItem[0].y);\n        for (const aItem of items) {\n          const yDistance = Math.abs(point.y - aItem[0].y);\n          if (yDistance <= min) {\n            snapItem = aItem;\n            min = yDistance;\n          }\n        }\n        items = [snapItem];\n      }\n\n      return uniq(flatten(items));\n    }\n\n    return [];\n  }\n\n  public layout() { }\n\n  public update() {\n    if (this.point) {\n      this.showTooltip(this.point);\n    }\n\n    if (this.tooltip) {\n      // #2279 resizetooltip\n      // tooltip\n      const canvas = this.view.getCanvas();\n      // TODO  tooltip  canvas \n      //  region\n      this.tooltip.set('region', {\n        start: { x: 0, y: 0 },\n        end: { x: canvas.get('width'), y: canvas.get('height') },\n      });\n    }\n  }\n\n  /**\n   *  enter tooltip \n   * @param point\n   */\n  public isCursorEntered(point: Point) {\n    //  tooltip dom \n    if (this.tooltip) {\n      const el: HTMLElement = this.tooltip.getContainer();\n      const capture = this.tooltip.get('capture');\n\n      if (el && capture) {\n        const { x, y, width, height } = el.getBoundingClientRect();\n        return new BBox(x, y, width, height).isPointIn(point);\n      }\n    }\n\n    return false;\n  }\n\n  //  tooltip  view.tooltip()  tooltip\n  public getTooltipCfg() {\n    const view = this.view;\n    const option = view.getOptions().tooltip;\n    const processOption = this.processCustomContent(option);\n    const theme = view.getTheme();\n    const defaultCfg = get(theme, ['components', 'tooltip'], {});\n    const enterable = get(processOption, 'enterable', defaultCfg.enterable);\n    return deepMix({}, defaultCfg, processOption, {\n      capture: enterable || this.isLocked ? true : false,\n    });\n  }\n\n  // process customContent\n  protected processCustomContent(option: TooltipOption) {\n    if (isBoolean(option) || !get(option, 'customContent')) {\n      return option;\n    }\n    const currentCustomContent = option.customContent;\n    const customContent = (title: string, items: any[]) => {\n      const content = currentCustomContent(title, items) || '';\n      return isString(content) ? '<div class=\"g2-tooltip\">' + content + '</div>' : content;\n    };\n    return {\n      ...option,\n      customContent,\n    };\n  }\n\n  private getTitle(items) {\n    const title = items[0].title || items[0].name;\n    this.title = title;\n\n    return title;\n  }\n\n  private renderTooltip() {\n    const canvas = this.view.getCanvas();\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const cfg = this.getTooltipCfg();\n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      ...cfg,\n      visible: false,\n      crosshairs: null,\n    });\n\n    tooltip.init();\n    this.tooltip = tooltip;\n  }\n\n  private renderTooltipMarkers(items, marker) {\n    const tooltipMarkersGroup = this.getTooltipMarkersGroup();\n    const rootView = this.view.getRootView();\n    const { limitInPlot } = rootView;\n    for (const item of items) {\n      const { x, y } = item;\n\n      // \n      if (limitInPlot || tooltipMarkersGroup?.getClip()) {\n        const { type, attrs } = getCoordinateClipCfg(rootView.getCoordinate());\n        tooltipMarkersGroup?.setClip({\n          type,\n          attrs,\n        });\n      } else {\n        //  clip\n        tooltipMarkersGroup?.setClip(undefined);\n      }\n\n      const attrs = {\n        fill: item.color,\n        symbol: 'circle',\n        shadowColor: item.color,\n        ...marker,\n        x,\n        y,\n      };\n\n      tooltipMarkersGroup.addShape('marker', {\n        attrs,\n      });\n    }\n  }\n\n  private renderCrosshairs(point: Point, cfg) {\n    const crosshairsType = get(cfg, ['crosshairs', 'type'], 'x'); //  x \n    if (crosshairsType === 'x') {\n      if (this.yCrosshair) {\n        this.yCrosshair.hide();\n      }\n      this.renderXCrosshairs(point, cfg);\n    } else if (crosshairsType === 'y') {\n      if (this.xCrosshair) {\n        this.xCrosshair.hide();\n      }\n      this.renderYCrosshairs(point, cfg);\n    } else if (crosshairsType === 'xy') {\n      this.renderXCrosshairs(point, cfg);\n      this.renderYCrosshairs(point, cfg);\n    }\n  }\n\n  //  x  tooltip \n  private renderXCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let start;\n    let end;\n    if (coordinate.isRect) {\n      if (coordinate.isTransposed) {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      } else {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      }\n    } else {\n      //  x  crosshairs \n      const angle = getAngleByPoint(coordinate, point);\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      end = polarToCartesian(center.x, center.y, radius, angle);\n      start = center;\n    }\n\n    const cfg = deepMix(\n      {\n        start,\n        end,\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('x', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let xCrosshair = this.xCrosshair;\n    if (xCrosshair) {\n      xCrosshair.update(cfg);\n    } else {\n      xCrosshair = new Crosshair.Line(cfg);\n      xCrosshair.init();\n    }\n    xCrosshair.render();\n    xCrosshair.show();\n    this.xCrosshair = xCrosshair;\n  }\n\n  //  y \n  private renderYCrosshairs(point: Point, tooltipCfg) {\n    const coordinate = this.getViewWithGeometry(this.view).getCoordinate();\n    if (!isPointInCoordinate(coordinate, point)) {\n      return;\n    }\n    let cfg;\n    let type;\n    if (coordinate.isRect) {\n      let start;\n      let end;\n      if (coordinate.isTransposed) {\n        start = {\n          x: point.x,\n          y: coordinate.end.y,\n        };\n        end = {\n          x: point.x,\n          y: coordinate.start.y,\n        };\n      } else {\n        start = {\n          x: coordinate.start.x,\n          y: point.y,\n        };\n        end = {\n          x: coordinate.end.x,\n          y: point.y,\n        };\n      }\n      cfg = {\n        start,\n        end,\n      };\n      type = 'Line';\n    } else {\n      //  y  crosshairs \n      cfg = {\n        center: coordinate.getCenter(),\n        // @ts-ignore\n        radius: getDistanceToCenter(coordinate, point),\n        startAngle: coordinate.startAngle,\n        endAngle: coordinate.endAngle,\n      };\n      type = 'Circle';\n    }\n\n    cfg = deepMix(\n      {\n        container: this.getTooltipCrosshairsGroup(),\n      },\n      cfg,\n      get(tooltipCfg, 'crosshairs', {}),\n      this.getCrosshairsText('y', point, tooltipCfg)\n    );\n    delete cfg.type; //  Crosshairs  type \n\n    let yCrosshair = this.yCrosshair;\n    if (yCrosshair) {\n      // \n      if (\n        (coordinate.isRect && yCrosshair.get('type') === 'circle') ||\n        (!coordinate.isRect && yCrosshair.get('type') === 'line')\n      ) {\n        yCrosshair = new Crosshair[type](cfg);\n        yCrosshair.init();\n      } else {\n        yCrosshair.update(cfg);\n      }\n    } else {\n      yCrosshair = new Crosshair[type](cfg);\n      yCrosshair.init();\n    }\n    yCrosshair.render();\n    yCrosshair.show();\n    this.yCrosshair = yCrosshair;\n  }\n\n  private getCrosshairsText(type, point: Point, tooltipCfg) {\n    let textCfg = get(tooltipCfg, ['crosshairs', 'text']);\n    const follow = get(tooltipCfg, ['crosshairs', 'follow']);\n    const items = this.items;\n\n    if (textCfg) {\n      const view = this.getViewWithGeometry(this.view);\n      // \n      const firstItem = items[0];\n      const xScale = view.getXScale();\n      const yScale = view.getYScales()[0];\n      let xValue;\n      let yValue;\n      if (follow) {\n        // \n        const invertPoint = this.view.getCoordinate().invert(point);\n        xValue = xScale.invert(invertPoint.x); // \n        yValue = yScale.invert(invertPoint.y); // \n      } else {\n        xValue = firstItem.data[xScale.field];\n        yValue = firstItem.data[yScale.field];\n      }\n\n      const content = type === 'x' ? xValue : yValue;\n      if (isFunction(textCfg)) {\n        textCfg = textCfg(type, content, items, point);\n      } else {\n        textCfg.content = content;\n      }\n\n      return {\n        text: textCfg,\n      };\n    }\n  }\n\n  //  tooltipMarkers  crosshairs \n  private getGuideGroup() {\n    if (!this.guideGroup) {\n      const foregroundGroup = this.view.foregroundGroup;\n      this.guideGroup = foregroundGroup.addGroup({\n        name: 'tooltipGuide',\n        capture: false,\n      });\n    }\n\n    return this.guideGroup;\n  }\n\n  //  tooltipMarkers \n  private getTooltipMarkersGroup() {\n    let tooltipMarkersGroup = this.tooltipMarkersGroup;\n    if (tooltipMarkersGroup && !tooltipMarkersGroup.destroyed) {\n      tooltipMarkersGroup.clear();\n      tooltipMarkersGroup.show();\n    } else {\n      tooltipMarkersGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipMarkersGroup',\n      });\n      tooltipMarkersGroup.toFront();\n      this.tooltipMarkersGroup = tooltipMarkersGroup;\n    }\n    return tooltipMarkersGroup;\n  }\n\n  //  tooltip crosshairs \n  private getTooltipCrosshairsGroup() {\n    let tooltipCrosshairsGroup = this.tooltipCrosshairsGroup;\n    if (!tooltipCrosshairsGroup) {\n      tooltipCrosshairsGroup = this.getGuideGroup().addGroup({\n        name: 'tooltipCrosshairsGroup',\n        capture: false,\n      });\n      tooltipCrosshairsGroup.toBack();\n      this.tooltipCrosshairsGroup = tooltipCrosshairsGroup;\n    }\n    return tooltipCrosshairsGroup;\n  }\n\n  private findItemsFromView(view: View, point: Point) {\n    if (view.getOptions().tooltip === false) {\n      //  view  tooltip\n      return [];\n    }\n\n    const tooltipCfg = this.getTooltipCfg();\n    let result = findItemsFromView(view, point, tooltipCfg);\n    // \n    for (const childView of view.views) {\n      result = result.concat(this.findItemsFromView(childView, point));\n    }\n\n    return result;\n  }\n\n  // FIXME: hack \n  //  tooltip  Chart chart  Geometry  View \n  private getViewWithGeometry(view) {\n    if (view.geometries.length) {\n      return view;\n    }\n\n    return find(view.views, (childView) => this.getViewWithGeometry(childView));\n  }\n\n  /**\n   *  items  items\n   * \n   */\n  private getItemsAfterProcess(originalItems: TooltipItem[]): TooltipItem[] {\n    const { customItems } = this.getTooltipCfg();\n    const fn = customItems ? customItems : (v) => v;\n\n    return fn(originalItems);\n  }\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/** @ignore */\ninterface AnimationMap {\n  [key: string]: Animation;\n}\n\ntype Animation = (element: IGroup | IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) => void;\n\nconst ANIMATIONS_MAP: AnimationMap = {};\n\n/**\n * \n * @param type \n */\nexport function getAnimation(type: string) {\n  return ANIMATIONS_MAP[type.toLowerCase()];\n}\n\n/**\n * \n * @param type \n * @param animation \n */\nexport function registerAnimation(type: string, animation: Animation) {\n  ANIMATIONS_MAP[type.toLowerCase()] = animation;\n}\n","import { deepMix, get, isFunction } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Coordinate, IGroup, IShape } from '../dependents';\nimport { AnimateCfg, Data, Datum, GAnimateCfg, Point } from '../interface';\nimport { AnimateExtraCfg } from './interface';\n\nimport { getAnimation } from './animation';\n\n// \nexport const DEFAULT_ANIMATE_CFG = {\n  appear: {\n    duration: 450,\n    easing: 'easeQuadOut',\n  }, // \n  update: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  enter: {\n    duration: 400,\n    easing: 'easeQuadInOut',\n  }, // \n  leave: {\n    duration: 350,\n    easing: 'easeQuadIn',\n  }, // \n};\n\n//  Geometry \nconst GEOMETRY_ANIMATE_CFG = {\n  interval: (coordinate: Coordinate) => {\n    return {\n      enter: {\n        animation: coordinate.isRect ? (coordinate.isTransposed ? 'scale-in-x' : 'scale-in-y') : 'fade-in',\n      },\n      update: {\n        animation: coordinate.isPolar && coordinate.isTransposed ? 'sector-path-update' : null,\n      },\n      leave: {\n        animation: 'fade-out',\n      },\n    };\n  },\n  line: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  path: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  point: {\n    appear: {\n      animation: 'zoom-in',\n    },\n    enter: {\n      animation: 'zoom-in',\n    },\n    leave: {\n      animation: 'zoom-out',\n    },\n  },\n  area: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  polygon: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  schema: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  edge: {\n    enter: {\n      animation: 'fade-in',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n  label: {\n    appear: {\n      animation: 'fade-in',\n      delay: 450,\n    },\n    enter: {\n      animation: 'fade-in',\n    },\n    update: {\n      animation: 'position-update',\n    },\n    leave: {\n      animation: 'fade-out',\n    },\n  },\n};\n\n//  Geometry \nconst GEOMETRY_GROUP_APPEAR_ANIMATION = {\n  line: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  area: () => {\n    return {\n      animation: 'wave-in',\n    };\n  },\n  path: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n  interval(coordinate: Coordinate) {\n    let animation;\n\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        // pie chart\n        animation = 'wave-in';\n      }\n    }\n    return {\n      animation,\n    };\n  },\n  schema: (coordinate) => {\n    let animation;\n    if (coordinate.isRect) {\n      animation = coordinate.isTransposed ? 'grow-in-x' : 'grow-in-y';\n    } else {\n      animation = 'grow-in-xy';\n    }\n    return {\n      animation,\n    };\n  },\n  polygon: () => {\n    return {\n      animation: 'fade-in',\n      duration: 500,\n    };\n  },\n  edge: () => {\n    return {\n      animation: 'fade-in',\n    };\n  },\n};\n\n// \nfunction parseAnimateConfig(animateCfg: AnimateCfg, data: Data | Datum): GAnimateCfg {\n  return {\n    delay: isFunction(animateCfg.delay) ? animateCfg.delay(data) : animateCfg.delay,\n    easing: isFunction(animateCfg.easing) ? animateCfg.easing(data) : animateCfg.easing,\n    duration: isFunction(animateCfg.duration) ? animateCfg.duration(data) : animateCfg.duration,\n    callback: animateCfg.callback,\n    repeat: animateCfg.repeat,\n  };\n}\n\n/**\n * @ignore\n *  elementName  `animateType` `animateType` \n * @param elementName \n * @param coordinate \n * @param animateType \n */\nexport function getDefaultAnimateCfg(elementName: string, coordinate: Coordinate, animateType?: string) {\n  let animateCfg = GEOMETRY_ANIMATE_CFG[elementName];\n\n  if (animateCfg) {\n    if (isFunction(animateCfg)) {\n      animateCfg = animateCfg(coordinate);\n    }\n    animateCfg = deepMix({}, DEFAULT_ANIMATE_CFG, animateCfg);\n\n    if (animateType) {\n      return animateCfg[animateType];\n    }\n  }\n  return animateCfg;\n}\n\n/**\n * @ignore\n * \n *  shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function doAnimate(shape: IGroup | IShape, animateCfg: AnimateCfg, cfg: AnimateExtraCfg) {\n  const data = get(shape.get('origin'), 'data', FIELD_ORIGIN);\n  const animation = animateCfg.animation; // \n  const parsedAnimateCfg = parseAnimateConfig(animateCfg, data);\n  if (animation) {\n    // \n    const animateFunction = getAnimation(animation);\n    if (animateFunction) {\n      animateFunction(shape, parsedAnimateCfg, cfg);\n    }\n  } else {\n    //  toAttrs \n    shape.animate(cfg.toAttrs, parsedAnimateCfg);\n  }\n}\n\n/**\n * @ignore\n *  Geometry \n * @param container \n * @param animateCfg \n * @param geometryType geometry \n * @param coordinate \n * @param minYPoint y \n */\nexport function doGroupAppearAnimate(\n  container: IGroup,\n  animateCfg: AnimateCfg,\n  geometryType: string,\n  coordinate: Coordinate,\n  minYPoint: Point\n) {\n  if (GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType]) {\n    const defaultCfg = GEOMETRY_GROUP_APPEAR_ANIMATION[geometryType](coordinate);\n    const animation = getAnimation(get(defaultCfg, 'animation', ''));\n    if (animation) {\n      const cfg = {\n        ...DEFAULT_ANIMATE_CFG.appear,\n        ...defaultCfg,\n        ...animateCfg,\n      };\n      container.stopAnimate(); //  container \n      animation(container, cfg, {\n        coordinate,\n        minYPoint,\n        toAttrs: null,\n      });\n    }\n  }\n}\n","/**\n * Name of Background Shape\n */\nexport const BACKGROUND_SHAPE = 'element-background';\n","import { deepMix, each, get, isArray, isEmpty, isEqual, isFunction, isString } from '@antv/util';\n// \n// @ts-ignore\nimport { propagationDelegate } from '@antv/component';\nimport { doAnimate } from '../../animate';\nimport Base from '../../base';\nimport { BBox, IGroup, IShape } from '../../dependents';\nimport { AnimateOption, Datum, ShapeFactory, ShapeInfo, StateCfg } from '../../interface';\nimport { getReplaceAttrs } from '../../util/graphics';\nimport Geometry from '../base';\nimport { GEOMETRY_LIFE_CIRCLE } from '../../constant';\nimport { BACKGROUND_SHAPE } from '../shape/constant';\n\n/** Element  */\ninterface ElementCfg {\n  /**  shape  */\n  shapeFactory: ShapeFactory;\n  /** shape  */\n  container: IGroup;\n  /** element  */\n  elementIndex?: number;\n  /**  group */\n  offscreenGroup?: IGroup;\n  /**  */\n  visible?: boolean;\n}\n\n/**\n * Element \n *  G2 Element / Shape  Shape\n */\nexport default class Element extends Base {\n  /**  shape  */\n  public shapeFactory: ShapeFactory;\n  /** shape  */\n  public container: IGroup;\n  /** element  */\n  public elementIndex: number;\n  /**  */\n  public shape: IShape | IGroup;\n  /** shape  */\n  public animate: AnimateOption | boolean;\n\n  // \n  /** element  Geometry  */\n  public geometry: Geometry;\n  /**  shape  label */\n  public labelShape: IGroup[];\n\n  /**  shape  */\n  private shapeType: string;\n\n  /** shape  */\n  private model: ShapeInfo;\n  /**  */\n  private data: Datum;\n  // \n  private states: string[] = [];\n  private statesStyle;\n  //  Group\n  private offscreenGroup: IGroup;\n\n  constructor(cfg: ElementCfg) {\n    super(cfg);\n\n    const { shapeFactory, container, offscreenGroup, elementIndex, visible = true } = cfg;\n    this.shapeFactory = shapeFactory;\n    this.container = container;\n    this.offscreenGroup = offscreenGroup;\n    this.visible = visible;\n    this.elementIndex = elementIndex;\n  }\n\n  /**\n   * \n   * @param model \n   * @param isUpdate \n   */\n  public draw(model: ShapeInfo, isUpdate: boolean = false) {\n    this.model = model;\n    this.data = model.data; // \n    this.shapeType = this.getShapeType(model);\n\n    // \n    this.drawShape(model, isUpdate);\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   * \n   * @param model \n   */\n  public update(model: ShapeInfo) {\n    const { shapeFactory, shape } = this;\n    if (!shape) {\n      return;\n    }\n\n    // \n    this.model = model;\n    this.data = model.data;\n    this.shapeType = this.getShapeType(model);\n\n    // step 1:  shape \n    this.setShapeInfo(shape, model);\n\n    // step 2:  Group  shape shape\n    const offscreenGroup = this.getOffscreenGroup();\n    const newShape = shapeFactory.drawShape(this.shapeType, model, offscreenGroup);\n    // @ts-ignore\n    newShape.cfg.data = this.data;\n    // @ts-ignore\n    newShape.cfg.origin = model;\n    // label \n    newShape.cfg.element = this;\n\n    // step 3:  shape \n    this.syncShapeStyle(shape, newShape, this.getStates(), this.getAnimateCfg('update'));\n  }\n\n  /**\n   *  element \n   */\n  public destroy() {\n    const { shapeFactory, shape } = this;\n\n    if (shape) {\n      const animateCfg = this.getAnimateCfg('leave');\n      if (animateCfg) {\n        // \n        doAnimate(shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...shape.attr(),\n          },\n        });\n      } else {\n        // \n        shape.remove(true);\n      }\n    }\n\n    // reset\n    this.states = [];\n    this.shapeFactory = undefined;\n    this.container = undefined;\n    this.shape = undefined;\n    this.animate = undefined;\n    this.geometry = undefined;\n    this.labelShape = undefined;\n    this.model = undefined;\n    this.data = undefined;\n    this.offscreenGroup = undefined;\n    this.statesStyle = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  element\n   * @param visible \n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n\n    if (visible) {\n      if (this.shape) {\n        this.shape.show();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.show();\n        });\n      }\n    } else {\n      if (this.shape) {\n        this.shape.hide();\n      }\n      if (this.labelShape) {\n        this.labelShape.forEach((label: IGroup) => {\n          label.hide();\n        });\n      }\n    }\n  }\n\n  /**\n   *  Element \n   *\n   *  Element \n   * 1. active\n   * 2. selected\n   * 3. inactive\n   *\n   * \n   *\n   *  [[Theme]]  `geometry.state()` \n   *\n   * ```ts\n   * //  active \n   * setState('active', true);\n   * ```\n   *\n   * @param stateName \n   * @param stateStatus \n   */\n  public setState(stateName: string, stateStatus: boolean) {\n    const { states, shapeFactory, model, shape, shapeType } = this;\n\n    const index = states.indexOf(stateName);\n    if (stateStatus) {\n      // \n      if (index > -1) {\n        // \n        return;\n      }\n      states.push(stateName);\n      if (stateName === 'active' || stateName === 'selected') {\n        shape?.toFront();\n      }\n    } else {\n      if (index === -1) {\n        // \n        return;\n      }\n      states.splice(index, 1);\n      if (stateName === 'active' || stateName === 'selected') {\n        const { sortZIndex, zIndexReversed } = this.geometry;\n        const idx = zIndexReversed ? this.geometry.elements.length - this.elementIndex : this.elementIndex;\n        sortZIndex ? shape.setZIndex(idx) : shape.set('zIndex', idx);\n      }\n    }\n\n    //  group  shape shape  shape\n    const offscreenShape = shapeFactory.drawShape(shapeType, model, this.getOffscreenGroup());\n    if (states.length) {\n      // \n      this.syncShapeStyle(shape, offscreenShape, states, null);\n    } else {\n      // \n      this.syncShapeStyle(shape, offscreenShape, ['reset'], null);\n    }\n\n    offscreenShape.remove(true); // \n\n    const eventObject = {\n      state: stateName,\n      stateStatus,\n      element: this,\n      target: this.container,\n    };\n    this.container.emit('statechange', eventObject);\n    // @ts-ignore\n    propagationDelegate(this.shape, 'statechange', eventObject);\n  }\n\n  /**\n   * \n   */\n  public clearStates() {\n    const states = this.states;\n\n    each(states, (state) => {\n      this.setState(state, false);\n    });\n\n    this.states = [];\n  }\n\n  /**\n   *  Element  `stateName` \n   * @param stateName \n   * @returns true false \n   */\n  public hasState(stateName: string): boolean {\n    return this.states.includes(stateName);\n  }\n\n  /**\n   *  Element \n   * @returns  Element \n   */\n  public getStates(): string[] {\n    return this.states;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getData(): Datum {\n    return this.data;\n  }\n\n  /**\n   *  Element \n   * @returns \n   */\n  public getModel(): ShapeInfo {\n    return this.model;\n  }\n\n  /**\n   *  Element  bbox\n   * @returns \n   */\n  public getBBox(): BBox {\n    const { shape, labelShape } = this;\n    let bbox = {\n      x: 0,\n      y: 0,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: 0,\n      height: 0,\n    };\n    if (shape) {\n      bbox = shape.getCanvasBBox();\n    }\n    if (labelShape) {\n      labelShape.forEach((label: IGroup) => {\n        const labelBBox = label.getCanvasBBox();\n        bbox.x = Math.min(labelBBox.x, bbox.x);\n        bbox.y = Math.min(labelBBox.y, bbox.y);\n        bbox.minX = Math.min(labelBBox.minX, bbox.minX);\n        bbox.minY = Math.min(labelBBox.minY, bbox.minY);\n        bbox.maxX = Math.max(labelBBox.maxX, bbox.maxX);\n        bbox.maxY = Math.max(labelBBox.maxY, bbox.maxY);\n      });\n    }\n\n    bbox.width = bbox.maxX - bbox.minX;\n    bbox.height = bbox.maxY - bbox.minY;\n\n    return bbox;\n  }\n\n  private getStatesStyle() {\n    if (!this.statesStyle) {\n      const { shapeType, geometry, shapeFactory } = this;\n      const stateOption = geometry.stateOption;\n      const defaultShapeType = shapeFactory.defaultShapeType;\n      const stateTheme = shapeFactory.theme[shapeType] || shapeFactory.theme[defaultShapeType];\n      this.statesStyle = deepMix({}, stateTheme, stateOption);\n    }\n\n    return this.statesStyle;\n  }\n\n  // \n  private getStateStyle(stateName: string, shapeKey?: string): StateCfg {\n    const statesStyle = this.getStatesStyle();\n    const stateCfg = get(statesStyle, [stateName, 'style'], {});\n    const shapeStyle = stateCfg[shapeKey] || stateCfg;\n    if (isFunction(shapeStyle)) {\n      return shapeStyle(this);\n    }\n\n    return shapeStyle;\n  }\n\n  // \n  private getAnimateCfg(animateType: string) {\n    const animate = this.animate;\n    if (animate) {\n      const cfg = animate[animateType];\n\n      if (cfg) {\n        //  geometry  animate \n        return {\n          ...cfg,\n          callback: () => {\n            isFunction(cfg.callback) && cfg.callback();\n            this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE);\n          },\n        };\n      }\n      return cfg;\n    }\n\n    return null;\n  }\n\n  // \n  private drawShape(model: ShapeInfo, isUpdate: boolean = false) {\n    const { shapeFactory, container, shapeType } = this;\n\n    //  shape  shape\n    this.shape = shapeFactory.drawShape(shapeType, model, container);\n\n    if (this.shape) {\n      this.setShapeInfo(this.shape, model); // \n      // @ts-ignore\n      const name = this.shape.cfg.name;\n      //  element  name, name \n      if (!name) {\n        //  name,  name  name\n        // @ts-ignore\n        this.shape.cfg.name = ['element', this.shapeFactory.geometryType];\n      } else if (isString(name)) {\n        // @ts-ignore\n        this.shape.cfg.name = ['element', name];\n      }\n      // \n      const animateType = isUpdate ? 'enter' : 'appear';\n      const animateCfg = this.getAnimateCfg(animateType);\n      if (animateCfg) {\n        // \n        this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n\n        doAnimate(this.shape, animateCfg, {\n          coordinate: shapeFactory.coordinate,\n          toAttrs: {\n            ...this.shape.attr(),\n          },\n        });\n      }\n    }\n  }\n\n  //  Group\n  private getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n\n    return this.offscreenGroup;\n  }\n\n  //  shape \n  private setShapeInfo(shape: IShape | IGroup, data: ShapeInfo) {\n    // @ts-ignore\n    shape.cfg.origin = data;\n    // @ts-ignore\n    shape.cfg.element = this;\n    if (shape.isGroup()) {\n      const children = shape.get('children');\n      children.forEach((child) => {\n        this.setShapeInfo(child, data);\n      });\n    }\n  }\n\n  //  shape \n  private syncShapeStyle(\n    sourceShape: IGroup | IShape,\n    targetShape: IGroup | IShape,\n    states: string[] = [],\n    animateCfg,\n    index: number = 0\n  ) {\n    if (!sourceShape || !targetShape) {\n      return;\n    }\n    //  shape  clip\n    const clip = sourceShape.get('clipShape');\n    const newClip = targetShape.get('clipShape');\n\n    this.syncShapeStyle(clip, newClip, states, animateCfg);\n\n    if (sourceShape.isGroup()) {\n      const children = sourceShape.get('children');\n      const newChildren = targetShape.get('children');\n      for (let i = 0; i < children.length; i++) {\n        this.syncShapeStyle(children[i], newChildren[i], states, animateCfg, index + i);\n      }\n    } else {\n      if (!isEmpty(states) && !isEqual(states, ['reset'])) {\n        let name = sourceShape.get('name');\n        if (isArray(name)) {\n          //  element  name\n          name = name[1];\n        }\n\n        each(states, (state) => {\n          // background shape \n          if (targetShape.get('name') !== BACKGROUND_SHAPE) {\n            const style = this.getStateStyle(state, name || index); //  name\n            targetShape.attr(style);\n          }\n        });\n      }\n      const newAttrs = getReplaceAttrs(sourceShape as IShape, targetShape as IShape);\n\n      if (this.animate) {\n        if (animateCfg) {\n          this.geometry?.emit(GEOMETRY_LIFE_CIRCLE.BEFORE_DRAW_ANIMATE);\n          // \n          doAnimate(sourceShape, animateCfg, {\n            coordinate: this.shapeFactory.coordinate,\n            toAttrs: newAttrs,\n            shapeModel: this.model,\n          });\n        } else if (!isEmpty(states)) {\n          sourceShape.stopAnimate();\n          sourceShape.animate(newAttrs, {\n            duration: 300,\n          });\n        } else {\n          sourceShape.attr(newAttrs);\n        }\n      } else {\n        sourceShape.attr(newAttrs);\n      }\n    }\n  }\n\n  private getShapeType(model: ShapeInfo) {\n    const shape = get(model, 'shape');\n    return isArray(shape) ? shape[0] : shape;\n  }\n}\n","import { BBox, IGroup, IShape } from '../../dependents';\nimport { LooseObject } from '../../interface';\nimport { GeometryLabelConstructor } from './base';\nimport { LabelItem } from './interface';\n\n/**\n * label \n * @param items  label \n * @param labels  labels \n * @param shapes  label \n * @param region \n * @param cfg \n */\ntype GeometryLabelsLayoutFn = (\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LooseObject\n) => void;\n\nconst GEOMETRY_LABELS_MAP: Record<string, GeometryLabelConstructor> = {};\nconst GEOMETRY_LABELS_LAYOUT_MAP: Record<string, GeometryLabelsLayoutFn> = {};\n\n/**\n *  `type`  [[GeometryLabel]] \n * @param type\n * @returns\n */\nexport function getGeometryLabel(type: string): GeometryLabelConstructor {\n  return GEOMETRY_LABELS_MAP[type.toLowerCase()];\n}\n\n/**\n *  GeometryLabel \n * @param type GeometryLabel \n * @param ctor GeometryLabel \n */\nexport function registerGeometryLabel(type: string, ctor: GeometryLabelConstructor) {\n  GEOMETRY_LABELS_MAP[type.toLowerCase()] = ctor;\n}\n\n/**\n *  `type`  [[GeometryLabelsLayoutFn]] label \n * @param type \n * @returns\n */\nexport function getGeometryLabelLayout(type: string): GeometryLabelsLayoutFn {\n  return GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()];\n}\n\n/**\n *  label \n * @param type label \n * @param layoutFn label \n */\nexport function registerGeometryLabelLayout(type: string, layoutFn: GeometryLabelsLayoutFn) {\n  GEOMETRY_LABELS_LAYOUT_MAP[type.toLowerCase()] = layoutFn;\n}\n","import { LooseObject } from '@antv/g-svg';\nimport { parsePathString } from '@antv/path-util';\nimport { deepMix, get, upperFirst } from '@antv/util';\nimport { IGroup, IShape, PathCommand } from '../../dependents';\nimport {\n  Point,\n  RegisterShape,\n  RegisterShapeFactory,\n  Shape,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerAttrs,\n  ShapeMarkerCfg,\n  ShapePoint,\n} from '../../interface';\n\nimport { convertNormalPath, convertPolarPath } from './util/path';\n\n/** ShapeFactory  */\nconst ShapeFactoryBase = {\n  /**  */\n  coordinate: null,\n  /**  Shape  */\n  defaultShapeType: null,\n  /**  */\n  theme: null,\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param shapePoint  size \n   * @returns \n   */\n  getShapePoints(shapeType: string, shapePoint: ShapePoint) {\n    const shape = this.getShape(shapeType);\n    if (shape.getPoints) {\n      return shape.getPoints(shapePoint);\n    }\n\n    return this.getDefaultPoints(shapePoint);\n  },\n  /**\n   *  shape  shape \n   * @param shapeType string shape \n   * @returns\n   */\n  getShape(shapeType: string): Shape {\n    const shape = this[shapeType] || this[this.defaultShapeType];\n    shape.coordinate = this.coordinate;\n\n    return shape;\n  },\n  /**\n   *  shape \n   * @override\n   */\n  getDefaultPoints() {\n    return [];\n  },\n  /**\n   *  shape  ( shapeFactory )\n   */\n  getDefaultStyle(geometryTheme: LooseObject): LooseObject {\n    return get(geometryTheme, [this.defaultShapeType, 'default', 'style'], {});\n  },\n  /**\n   *  shape \n   * @param shapeType shape \n   * @param color \n   * @param isInPolar \n   * @returns  marker \n   */\n  getMarker(shapeType: string, markerCfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    let shape = this.getShape(shapeType);\n\n    if (!shape.getMarker) {\n      const defaultShapeType = this.defaultShapeType;\n      shape = this.getShape(defaultShapeType);\n    }\n\n    const theme = this.theme;\n    const shapeStyle = get(theme, [shapeType, 'default'], {});\n    const markerStyle = shape.getMarker(markerCfg);\n\n    return deepMix({}, shapeStyle, markerStyle);\n  },\n  /**\n   *  shape\n   * @override\n   * @param shapeType  shape \n   * @param cfg  shape \n   * @param element Element \n   * @returns\n   */\n  drawShape(shapeType: string, cfg: ShapeInfo, container: IGroup): IShape | IGroup {\n    const shape = this.getShape(shapeType);\n    return shape.draw(cfg, container);\n  },\n};\n\n/** Shape  */\nconst ShapeBase = {\n  /**  */\n  coordinate: null,\n  /**\n   *  path  path\n   * @param path \n   * @returns\n   */\n  parsePath(path: string): PathCommand[] {\n    const coordinate = this.coordinate;\n    let parsedPath = parsePathString(path);\n    if (coordinate.isPolar) {\n      parsedPath = convertPolarPath(coordinate, parsedPath);\n    } else {\n      parsedPath = convertNormalPath(coordinate, parsedPath);\n    }\n    return parsedPath;\n  },\n  /**\n   * \n   * @param point \n   * @returns\n   */\n  parsePoint(point: Point): Point {\n    const coordinate = this.coordinate;\n    return coordinate.convert(point);\n  },\n  /**\n   * 01 points   points\n   * @param points \n   * @returns\n   */\n  parsePoints(points: Point[]): Point[] {\n    const coordinate = this.coordinate;\n    return points.map((point) => {\n      return coordinate.convert(point);\n    });\n  },\n  /**\n   *  shape\n   * @override\n   */\n  draw(cfg: ShapeInfo, container: IGroup) {},\n};\n\nconst ShapeFactoryMap = {};\n\n/**\n *  ShapeFactory\n * @param factoryName  ShapeFactory  Geometry \n * @param cfg  ShapeFactory \n * @returns  ShapeFactory \n */\nexport function registerShapeFactory(factoryName: string, cfg: RegisterShapeFactory): ShapeFactory {\n  const className = upperFirst(factoryName);\n  const geomObj = {\n    ...ShapeFactoryBase,\n    ...cfg,\n    geometryType: factoryName,\n  };\n  ShapeFactoryMap[className] = geomObj;\n  return geomObj;\n}\n\n/**\n *  Shape\n * @param factoryName  ShapeFactory \n * @param shapeType  shape \n * @param cfg  Shape \n * @returns shape  shape \n */\nexport function registerShape(factoryName: string, shapeType: string, cfg: RegisterShape): Shape {\n  const className = upperFirst(factoryName);\n  const factory = ShapeFactoryMap[className];\n  const shapeObj = {\n    ...ShapeBase,\n    ...cfg,\n  };\n  factory[shapeType] = shapeObj;\n  return shapeObj;\n}\n\n/**\n *  factoryName  shapeFactory\n * @param factoryName\n * @returns shape factory\n */\nexport function getShapeFactory(factoryName: string): ShapeFactory {\n  const className = upperFirst(factoryName);\n  return ShapeFactoryMap[className];\n}\n","import { isEqual, some } from '@antv/util';\nimport { ShapeInfo } from '../../interface';\n\n/**\n * @ignore\n * Determines whether model is change\n * @param currentModel\n * @param preModel\n * @returns\n */\nexport function isModelChange(currentModel: ShapeInfo, preModel: ShapeInfo) {\n  return some(\n    ['color', 'shape', 'size', 'x', 'y', 'isInCircle', 'data', 'style', 'defaultStyle', 'points', 'mappingData'],\n    (key: string) => {\n      return !isEqual(currentModel[key], preModel[key]);\n    }\n  );\n}\n","import { isArray } from '@antv/util';\n\n/** @ignore */\nexport function parseFields(field: string | string[]): string[] {\n  if (isArray(field)) {\n    return field;\n  }\n\n  return field.split('*');\n}\n","/**\n *  added, updated, removed\n * @param keyItem  key-item  object \n * @param keys  array \n * @returns  added, updated, removed array  object\n */\nexport function diff(keyItem: Record<string, any>, keys: string[]) {\n  const added = [];\n  const updated = [];\n  const removed = [];\n  const keyIncluded = new Map<string, boolean>();\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (keyItem[key]) updated.push(key);\n    else added.push(key);\n    keyIncluded.set(key, true);\n  }\n\n  Object.keys(keyItem).forEach((key) => {\n    if (!keyIncluded.has(key)) removed.push(key);\n  });\n\n  return {\n    added,\n    updated,\n    removed,\n  };\n}\n","import { Adjust, getAdjust as getAdjustClass } from '@antv/adjust';\nimport { Attribute, getAttribute as getAttributeClass } from '@antv/attr';\nimport {\n  clone,\n  deepMix,\n  each,\n  flatten,\n  get,\n  isArray,\n  isEmpty,\n  isEqual,\n  isFunction,\n  isNil,\n  isNumber,\n  isObject,\n  isPlainObject,\n  isString,\n  set,\n} from '@antv/util';\nimport { doGroupAppearAnimate, getDefaultAnimateCfg } from '../animate';\nimport Base from '../base';\nimport { FIELD_ORIGIN, GROUP_ATTRS } from '../constant';\nimport { BBox, Coordinate, IGroup, IShape, Scale } from '../dependents';\nimport {\n  AdjustOption,\n  AdjustType,\n  AnimateOption,\n  AttributeOption,\n  ColorAttrCallback,\n  Data,\n  Datum,\n  GeometryLabelCfg,\n  GeometryTooltipOption,\n  LabelCallback,\n  LabelOption,\n  LooseObject,\n  MappingDatum,\n  ScaleOption,\n  ShapeAttrCallback,\n  ShapeFactory,\n  ShapeInfo,\n  ShapeMarkerCfg,\n  ShapeMarkerAttrs,\n  ShapePoint,\n  SizeAttrCallback,\n  StateOption,\n  StyleCallback,\n  StyleOption,\n  TooltipCallback,\n  CustomOption,\n} from '../interface';\nimport { uniq } from '../util/helper';\nimport Element from './element';\nimport { getGeometryLabel } from './label';\nimport GeometryLabel from './label/base';\nimport { getShapeFactory } from './shape/base';\nimport { group } from './util/group-data';\nimport { isModelChange } from './util/is-model-change';\nimport { parseFields } from './util/parse-fields';\nimport { diff } from './util/diff';\nimport { inferScaleType } from '../util/scale';\nimport { getXDimensionLength } from '../util/coordinate';\n\n/** @ignore */\ninterface AttributeInstanceCfg {\n  fields?: string[];\n  callback?: (...args) => any;\n  values?: string[] | number[];\n  scales?: Scale[];\n}\ninterface DimValuesMapType {\n  [dim: string]: number[];\n}\n/** @ignore */\ninterface AdjustInstanceCfg {\n  type: AdjustType;\n  adjustNames?: string[];\n  xField?: string;\n  yField?: string;\n\n  dodgeBy?: string;\n  marginRatio?: number;\n  dodgeRatio?: number;\n\n  size?: number;\n  height?: number;\n  reverseOrder?: boolean;\n\n  /** offset */\n  intervalPadding?: number;\n  dodgePadding?: number;\n  /** xpadding */\n  xDimensionLength?: number;\n  /** offset */\n  groupNum?: number;\n  /**  size */\n  defaultSize?: number;\n  /**  */\n  maxColumnWidth?: number;\n  minColumnWidth?: number;\n  /**  */\n  columnWidthRatio?: number;\n  /** dimValuesMap */\n  dimValuesMap?: DimValuesMapType;\n}\n\n/** geometry.init()  */\nexport interface InitCfg {\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  */\n  theme?: LooseObject;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /**  */\n  isDataChanged?: boolean;\n  isCoordinateChanged?: boolean;\n}\n\n/** Geometry  */\nexport interface GeometryCfg {\n  /** Geometry shape  */\n  container: IGroup;\n  /**  */\n  coordinate?: Coordinate;\n  /**  */\n  data?: Data;\n  /**  scales */\n  scales?: Record<string, Scale>;\n  /**  */\n  scaleDefs?: Record<string, ScaleOption>;\n  /** Geometry labels  */\n  labelsContainer?: IGroup;\n  /**  */\n  sortable?: boolean;\n  /** elements  zIndex  zIndexReversed  */\n  zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  sortZIndex?: boolean;\n  /**  */\n  visible?: boolean;\n  /**  */\n  theme?: LooseObject;\n\n  /**  */\n  intervalPadding?: number;\n  /**  */\n  dodgePadding?: number;\n  /**  */\n  maxColumnWidth?: number;\n  /**  */\n  minColumnWidth?: number;\n  /** intervalschema */\n  columnWidthRatio?: number;\n  /**  */\n  roseWidthRatio?: number;\n  /** / */\n  multiplePieWidthRatio?: number;\n}\n\n//  elementId  label element  labels labels \n//  ./label/base.ts#L263\nfunction filterLabelsById(id: string, labelsMap: Record<string, IGroup>) {\n  const labels = [];\n  each(labelsMap, (label: IGroup, labelId: string) => {\n    const elementId = labelId.split(' ')[0];\n    if (elementId === id) {\n      labels.push(label);\n    }\n  });\n\n  return labels;\n}\n\n/**\n * Geometry \n */\nexport default class Geometry<S extends ShapePoint = ShapePoint> extends Base {\n  /** Geometry  */\n  public readonly type: string = 'base';\n  /** ShapeFactory  */\n  public readonly shapeType: string;\n\n  //  Geometry \n  /** Coordinate  */\n  public coordinate: Coordinate;\n  /**  */\n  public data: Data;\n  /**  */\n  public readonly container: IGroup;\n  /** label  */\n  public readonly labelsContainer: IGroup;\n  /**  false  */\n  public sortable: boolean;\n  /**  Geometry   */\n  public theme: LooseObject;\n  /**  geometry  scales */\n  public scales: Record<string, Scale>;\n  /** scale  */\n  public scaleDefs: Record<string, ScaleOption>;\n  /**  label  */\n  public canvasRegion: BBox;\n\n  // \n  /** Attribute map  */\n  public attributes: Record<string, Attribute> = {};\n  /** Element map */\n  public elements: Element[] = [];\n  /**\n   * \n   * + init()  updateData() ,  Data[]\n   * + paint()  MappingDatum[][]\n   */\n  public dataArray: MappingDatum[][];\n  /**  tooltip  */\n  public tooltipOption: GeometryTooltipOption | boolean;\n  /**  label  */\n  public labelOption: LabelOption | false;\n  /**  */\n  public stateOption: StateOption;\n  /**  key-value  Elementkey  Element  ID */\n  public elementsMap: Record<string, Element> = {};\n  /** animate  */\n  public animateOption: AnimateOption | boolean = true;\n  /**  */\n  protected attributeOption: Record<string, AttributeOption> = {};\n  /** adjust  */\n  protected adjustOption: AdjustOption[];\n  /** style  */\n  protected styleOption: StyleOption;\n  /** custom  */\n  protected customOption: CustomOption;\n  /**  Geometry  Shape  Shape */\n  protected shapeFactory: ShapeFactory;\n  /**  element  */\n  protected lastElementsMap: Record<string, Element> = {};\n  /**  */\n  protected generatePoints: boolean = false;\n  /**  */\n  protected beforeMappingData: Data[] = null;\n  /**  shape  size IntervalSchema  */\n  protected defaultSize: number;\n\n  //  geometry \n  private userTheme: LooseObject;\n  private adjusts: Record<string, Adjust> = {};\n  private lastAttributeOption;\n  private idFields: string[] = [];\n  private geometryLabel: GeometryLabel;\n\n  // \n  /**  */\n  protected intervalPadding: number;\n  /**  */\n  protected dodgePadding: number;\n  /**  */\n  protected maxColumnWidth: number;\n  /**  */\n  protected minColumnWidth: number;\n  /**  */\n  protected columnWidthRatio: number;\n  /**  */\n  protected roseWidthRatio: number;\n  /** / */\n  protected multiplePieWidthRatio: number;\n  /** elements  zIndex  zIndexReversed  */\n  public zIndexReversed?: boolean;\n  /**  zIndex  sort */\n  public sortZIndex?: boolean;\n\n  /**  Group */\n  private offscreenGroup: IGroup;\n  private groupScales: Scale[];\n  private hasSorted: boolean = false;\n  protected isCoordinateChanged: boolean = false;\n\n  /**\n   *  Geometry \n   * @param cfg\n   */\n  constructor(cfg: GeometryCfg) {\n    super(cfg);\n\n    const {\n      container,\n      labelsContainer,\n      coordinate,\n      data,\n      sortable = false,\n      visible = true,\n      theme,\n      scales = {},\n      scaleDefs = {},\n      // \n      intervalPadding,\n      dodgePadding,\n      maxColumnWidth,\n      minColumnWidth,\n      columnWidthRatio,\n      roseWidthRatio,\n      multiplePieWidthRatio,\n      zIndexReversed,\n      sortZIndex,\n    } = cfg;\n\n    this.container = container;\n    this.labelsContainer = labelsContainer;\n    this.coordinate = coordinate;\n    this.data = data;\n    this.sortable = sortable;\n    this.visible = visible;\n    this.userTheme = theme;\n    this.scales = scales;\n    this.scaleDefs = scaleDefs;\n    // \n    this.intervalPadding = intervalPadding;\n    this.dodgePadding = dodgePadding;\n    this.maxColumnWidth = maxColumnWidth;\n    this.minColumnWidth = minColumnWidth;\n    this.columnWidthRatio = columnWidthRatio;\n    this.roseWidthRatio = roseWidthRatio;\n    this.multiplePieWidthRatio = multiplePieWidthRatio;\n    this.zIndexReversed = zIndexReversed;\n    this.sortZIndex = sortZIndex;\n  }\n\n  /**\n   *  position \n   *\n   * @example\n   * ```typescript\n   * // : [{ x: 'A', y: 10, color: 'red' }]\n   * geometry.position('x*y');\n   * geometry.position([ 'x', 'y' ]);\n   * geometry.position({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public position(cfg: string | string[] | AttributeOption): Geometry {\n    let positionCfg = cfg;\n    if (!isPlainObject(cfg)) {\n      // \n      positionCfg = {\n        fields: parseFields(cfg),\n      };\n    }\n\n    const fields = get(positionCfg, 'fields');\n    if (fields.length === 1) {\n      //  1*xx\n      fields.unshift('1');\n      set(positionCfg, 'fields', fields);\n    }\n    set(this.attributeOption, 'position', positionCfg);\n\n    return this;\n  }\n\n  /**\n   *  color \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.color({\n   *   fields: [ 'x' ],\n   *   values: [ '#1890ff', '#5AD8A6' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public color(field: AttributeOption): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  '#1890ff' \n   * geometry.color('#1890ff');\n   *\n   * //  x  G2 \n   * geometry.color('x');\n   *\n   * //  'x'  colors\n   * geometry.color('x', [ '#1890ff', '#5AD8A6' ]);\n   *\n   * // *\n   * geometry.color('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'red';\n   *   }\n   *   return 'blue';\n   * });\n   *\n   * // \n   * geometry.color('x', '#BAE7FF-#1890FF-#0050B3');\n   * ```\n   *\n   * @param field  '*' \n   * @param cfg Optional, color \n   * @returns\n   */\n  public color(field: string, cfg?: string | string[] | ColorAttrCallback): Geometry;\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  shape \n   *\n   * @example\n   *\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.shape({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public shape(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * //  shape\n   * geometry.shape('circle');\n   *\n   * //  shapes \n   * geometry.shape('x');\n   *\n   * //  shapes \n   * geometry.shape('x', [ 'circle', 'diamond', 'square' ]);\n   *\n   * //  shape shape \n   * geometry.shape('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 'circle';\n   *   }\n   *   return 'diamond';\n   * });\n   * ```\n   *\n   * @param field  shape  '*' \n   * @param cfg Optional, shape \n   * @returns\n   */\n  public shape(field: string, cfg?: string[] | ShapeAttrCallback): Geometry;\n  public shape(field: AttributeOption | string, cfg?: string[] | ShapeAttrCallback): Geometry {\n    this.createAttrOption('shape', field, cfg);\n\n    return this;\n  }\n\n  /**\n   *  size \n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   * geometry.size({\n   *   values: [ 10 ],\n   * })\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public size(field: AttributeOption): Geometry;\n  /**\n   *\n   * @example\n   * ```typescript\n   * // data: [{ x: 'A', y: 10, color: 'red' }, { x: 'B', y: 30, color: 'yellow' }]\n   *\n   * // \n   * geometry.size(10);\n   *\n   * //  size  [1, 10]\n   * geometry.size('x');\n   *\n   * //  size  size \n   * geometry.size('x', [ 5, 30 ]);\n   *\n   * //  size size \n   * geometry.size('x', (xVal) => {\n   *   if (xVal === 'a') {\n   *     return 10;\n   *   }\n   *   return 5;\n   * });\n   * ```\n   *\n   * @param field  size  '*' \n   * @param cfg Optional, size \n   * @returns\n   */\n  public size(field: number | string, cfg?: [number, number] | SizeAttrCallback): Geometry;\n  public size(field: AttributeOption | number | string, cfg?: [number, number] | SizeAttrCallback): Geometry {\n    this.createAttrOption('size', field, cfg);\n\n    return this;\n  }\n\n  /**\n   * G2 \n   * 1. dodge\n   * 2. stack\n   * 3. symmetric\n   * 4. jitter\n   *\n   *\n   * **Tip**\n   * +  'dodge' :\n   * ```typescript\n   * geometry.adjust('dodge', {\n   *   marginRatio: 0, //  0  1 \n   *   dodgeBy: 'x', //  'dodge' \n   * });\n   * ```\n   *\n   * +  'stack' :\n   * ```typescript\n   * geometry.adjust('stack', {\n   *   reverseOrder: false, // \n   * });\n   * ```\n   *\n   * @example\n   * ```typescript\n   * geometry.adjust('stack');\n   *\n   * geometry.adjust({\n   *   type: 'stack',\n   *   reverseOrder: false,\n   * });\n   *\n   * //  adjust\n   * geometry.adjust([ 'stack', 'dodge' ]);\n   *\n   * geometry.adjust([\n   *   { type: 'stack' },\n   *   { type: 'dodge', dodgeBy: 'x' },\n   * ]);\n   * ```\n   *\n   * @param adjustCfg \n   * @returns\n   */\n  public adjust(adjustCfg: string | string[] | AdjustOption | AdjustOption[]): Geometry {\n    let adjusts: any = adjustCfg;\n    if (isString(adjustCfg) || isPlainObject(adjustCfg)) {\n      adjusts = [adjustCfg];\n    }\n    each(adjusts, (adjust, index) => {\n      if (!isObject(adjust)) {\n        adjusts[index] = { type: adjust };\n      }\n    });\n\n    this.adjustOption = adjusts;\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```typescript\n   * // \n   * style({\n   *   lineWidth: 2,\n   *   stroke: '#1890ff',\n   * });\n   *\n   * // \n   * style({\n   *   fields: [ 'x', 'y' ], // \n   *   callback: (xVal, yVal) => {\n   *     const style = { lineWidth: 2, stroke: '#1890ff' };\n   *     if (xVal === 'a') {\n   *       style.lineDash = [ 2, 2 ];\n   *     }\n   *     return style;\n   *   },\n   * });\n   * ```\n   *\n   * @param field \n   * @returns\n   */\n  public style(field: StyleOption | LooseObject): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * style('x*y', (xVal, yVal) => {\n   *   const style = { lineWidth: 2, stroke: '#1890ff' };\n   *   if (xVal === 'a') {\n   *     style.lineDash = [ 2, 2 ];\n   *   }\n   *   return style;\n   * });\n   * ```\n   *\n   * @param field \n   * @param styleFunc Optional, \n   * @returns\n   */\n  public style(field: string, styleFunc: StyleCallback): Geometry;\n  public style(field: StyleOption | LooseObject | string, styleFunc?: StyleCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.styleOption = {\n        fields,\n        callback: styleFunc,\n      };\n    } else {\n      const { fields, callback, cfg } = field as StyleOption;\n      if (fields || callback || cfg) {\n        this.styleOption = field;\n      } else {\n        this.styleOption = {\n          cfg: field,\n        };\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   *  Geometry  tooltip \n   *\n   * `tooltip(false)`  tooltip\n   * `tooltip(true)`  tooltip\n   *\n   * Geometry  tooltip  tooltip \n   *\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   * tooltip({\n   *   fields: [ 'x' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*268uQ50if60AAAAAAAAAAABkARQnAQ)\n   *\n   * ```typescript\n   * tooltip({\n   *   fields: [ 'x', 'y' ],\n   * });\n   * ```\n   * ![](https://gw.alipayobjects.com/mdn/rms_2274c3/afts/img/A*A_ujSa8QhtcAAAAAAAAAAABkARQnAQ)\n   *\n   * tooltip() \n   *\n   * @example\n   * ```typescript\n   * chart.tooltip({\n   *   itemTpl: '<li>{x}: {y}</li>',\n   * });\n   *\n   * chart.line()\n   *   .position('x*y')\n   *   .tooltip({\n   *     fields: [ 'x', 'y' ],\n   *     callback: (x, y) => {\n   *       return {\n   *         x,\n   *         y,\n   *       };\n   *     },\n   *   });\n   * ```\n   *\n   *  chart.tooltip()  itemTpl  itemTpl \n   *\n   * @param field tooltip \n   * @returns\n   */\n  public tooltip(field: GeometryTooltipOption | boolean): Geometry;\n  /**\n   * @example\n   * ```typescript\n   * // data: [{x: 'a', y: 10}]\n   *\n   * //  tooltip({ fields: [ 'x' ] })\n   * tooltip('x');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ] })\n   * tooltip('x*y');\n   *\n   * //  tooltip({ fields: [ 'x', 'y' ], callback: (x, y) => { x, y } })\n   * tooltip('x*y', (x, y) => {\n   *   return {\n   *     x,\n   *     y,\n   *   };\n   * });\n   * ```\n   *\n   * @param field \n   * @param cfg Optional, \n   * @returns\n   */\n  public tooltip(field: string, cfg?: TooltipCallback): Geometry;\n  public tooltip(field: GeometryTooltipOption | boolean | string, cfg?: TooltipCallback): Geometry {\n    if (isString(field)) {\n      const fields = parseFields(field);\n      this.tooltipOption = {\n        fields,\n        callback: cfg,\n      };\n    } else {\n      this.tooltipOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * Geometry \n   *\n   * + `animate(false)` \n   * + `animate(true)` \n   *\n   * \n   * 1. appear: \n   * 2. enter: \n   * 3. update: \n   * 4. leave: \n   *\n   * @example\n   * ```typescript\n   * animate({\n   *   enter: {\n   *     duration: 1000, // enter \n   *   },\n   *   leave: false, //  leave \n   * });\n   * ```\n   *\n   * @param cfg \n   * @returns\n   */\n  public animate(cfg: AnimateOption | boolean): Geometry {\n    this.animateOption = cfg;\n    return this;\n  }\n\n  /**\n   * Geometry label \n   *\n   * @example\n   * ```ts\n   * // data: [ {x: 1, y: 2, z: 'a'}, {x: 2, y: 2, z: 'b'} ]\n   * //  z \n   * label({\n   *   fields: [ 'z' ]\n   * });\n   *\n   * label(false); //  label\n   *\n   * //  x \n   * label('x', {\n   *   style: {\n   *     fill: 'red',\n   *   },\n   * })\n   *\n   * //  type  label  x \n   * label('x', (xValue) => {\n   *   return {\n   *     content: xValue + '%',\n   *   };\n   * }, {\n   *   type: 'base' //  label \n   * })\n   * ```\n   *\n   * @param field\n   * @returns label\n   */\n  public label(field: LabelOption | false | string): Geometry;\n  public label(field: string, secondParam: GeometryLabelCfg | LabelCallback): Geometry;\n  public label(field: string, secondParam: LabelCallback, thirdParam: GeometryLabelCfg): Geometry;\n  public label(\n    field: string | LabelOption | false,\n    secondParam?: GeometryLabelCfg | LabelCallback,\n    thirdParam?: GeometryLabelCfg\n  ): Geometry {\n    if (isString(field)) {\n      const labelOption: LabelOption = {};\n      const fields = parseFields(field);\n      labelOption.fields = fields;\n      if (isFunction(secondParam)) {\n        labelOption.callback = secondParam;\n      } else if (isPlainObject(secondParam)) {\n        labelOption.cfg = secondParam;\n      }\n\n      if (thirdParam) {\n        labelOption.cfg = thirdParam;\n      }\n      this.labelOption = labelOption;\n    } else {\n      this.labelOption = field;\n    }\n\n    return this;\n  }\n\n  /**\n   * \n   *\n   * @example\n   * ```ts\n   * chart.interval().state({\n   *   selected: {\n   *     animate: { duration: 100, easing: 'easeLinear' },\n   *     style: {\n   *       lineWidth: 2,\n   *       stroke: '#000',\n   *     },\n   *   },\n   * });\n   * ```\n   *\n   *  shape  shape  G.Group  group  shape\n   *  group  shape  'name' (shape.set('name', 'xx')) 'name'  key shape   key\n   *\n   * ```ts\n   * chart.interval().shape('groupShape').state({\n   *   selected: {\n   *     style: {\n   *       0: { lineWidth: 2 },\n   *       1: { fillOpacity: 1 },\n   *     }\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg \n   */\n  public state(cfg: StateOption) {\n    this.stateOption = cfg;\n    return this;\n  }\n\n  /**\n   *  shape  shape  shape  shape \n   *\n   * @example\n   * ```ts\n   * chart.interval().customInfo({ yourData: 'hello, g2!' });\n   * ```\n   *\n   *  shape \n   *\n   * ```ts\n   * registerShape('interval', 'your-shape', {\n   *   draw(shapeInfo, container) {\n   *     const { customInfo } = shapeInfo;\n   *     console.log(customInfo); // will log { yourData: 'hello, g2!' }.\n   *   }\n   * });\n   * ```\n   *\n   * @param cfg\n   */\n  public customInfo(cfg: any) {\n    this.customOption = cfg;\n    return this;\n  }\n\n  /**\n   *  Geomtry \n   *  [[Attribute]] and [[Scale]] \n   */\n  public init(cfg: InitCfg = {}) {\n    this.setCfg(cfg);\n    this.initAttributes(); // \n\n    //  ->  -> adjust\n    this.processData(this.data);\n\n    //  scale\n    this.adjustScale();\n  }\n\n  /**\n   * Geometry \n   * @param [cfg] \n   */\n  public update(cfg: InitCfg = {}) {\n    const { data, isDataChanged, isCoordinateChanged } = cfg;\n    const { attributeOption, lastAttributeOption } = this;\n\n    if (!isEqual(attributeOption, lastAttributeOption)) {\n      // \n      this.init(cfg);\n    } else if (data && (isDataChanged || !isEqual(data, this.data))) {\n      // \n      this.setCfg(cfg);\n      this.initAttributes(); // \n      this.processData(data); //  ->  -> adjust\n    } else {\n      //  coordinate \n      this.setCfg(cfg);\n    }\n\n    //  scale\n    this.adjustScale();\n    this.isCoordinateChanged = isCoordinateChanged;\n  }\n\n  /**\n   * \n   */\n  public paint(isUpdate: boolean = false) {\n    if (this.animateOption) {\n      this.animateOption = deepMix({}, getDefaultAnimateCfg(this.type, this.coordinate), this.animateOption);\n    }\n\n    this.defaultSize = undefined;\n    this.elementsMap = {};\n    this.elements = [];\n    const offscreenGroup = this.getOffscreenGroup();\n    offscreenGroup.clear();\n\n    const beforeMappingData = this.beforeMappingData;\n    const dataArray = this.beforeMapping(beforeMappingData);\n\n    this.dataArray = new Array(dataArray.length);\n    for (let i = 0; i < dataArray.length; i++) {\n      const data = dataArray[i];\n      this.dataArray[i] = this.mapping(data);\n    }\n    this.updateElements(this.dataArray, isUpdate);\n    this.lastElementsMap = this.elementsMap;\n\n    if (this.canDoGroupAnimation(isUpdate)) {\n      //  appear.animation\n      const container = this.container;\n      const type = this.type;\n      const coordinate = this.coordinate;\n      const animateCfg = get(this.animateOption, 'appear');\n      const yScale = this.getYScale();\n      const yMinPoint = coordinate.convert({\n        x: 0,\n        y: yScale.scale(this.getYMinValue()),\n      });\n      doGroupAppearAnimate(container, animateCfg, type, coordinate, yMinPoint);\n    }\n\n    //  label\n    if (this.labelOption) {\n      this.renderLabels(flatten(this.dataArray) as unknown as MappingDatum[], isUpdate);\n    }\n\n    // \n    this.lastAttributeOption = {\n      ...this.attributeOption,\n    };\n\n    if (this.visible === false) {\n      //  visible: false\n      this.changeVisible(false);\n    }\n  }\n\n  /**\n   *  Geometry\n   * @override\n   */\n  public clear() {\n    const { container, geometryLabel, offscreenGroup } = this;\n    if (container) {\n      container.clear();\n    }\n\n    if (geometryLabel) {\n      geometryLabel.clear();\n    }\n\n    if (offscreenGroup) {\n      offscreenGroup.clear();\n    }\n\n    // \n    this.scaleDefs = undefined;\n    this.attributes = {};\n    this.scales = {};\n    this.elementsMap = {};\n    this.lastElementsMap = {};\n    this.elements = [];\n    this.adjusts = {};\n    this.dataArray = null;\n    this.beforeMappingData = null;\n    this.lastAttributeOption = undefined;\n    this.defaultSize = undefined;\n    this.idFields = [];\n    this.groupScales = undefined;\n    this.hasSorted = false;\n    this.isCoordinateChanged = false;\n  }\n\n  /**\n   *  Geometry \n   */\n  public destroy() {\n    this.clear();\n    const container = this.container;\n    container.remove(true);\n\n    if (this.offscreenGroup) {\n      this.offscreenGroup.remove(true);\n      this.offscreenGroup = null;\n    }\n\n    if (this.geometryLabel) {\n      this.geometryLabel.destroy();\n      this.geometryLabel = null;\n    }\n    this.theme = undefined;\n    this.shapeFactory = undefined;\n\n    super.destroy();\n  }\n\n  /**\n   *  scale \n   * @returns\n   */\n  public getGroupScales(): Scale[] {\n    return this.groupScales;\n  }\n\n  /**\n   * \n   */\n  public getAttribute(name: string): Attribute {\n    return this.attributes[name];\n  }\n\n  /**  x  scale  */\n  public getXScale(): Scale {\n    return this.getAttribute('position').scales[0];\n  }\n\n  /**  y  scale  */\n  public getYScale(): Scale {\n    return this.getAttribute('position').scales[1];\n  }\n\n  /**\n   * \n   */\n  public getGroupAttributes(): Attribute[] {\n    const rst = [];\n    each(this.attributes, (attr: Attribute) => {\n      if (GROUP_ATTRS.includes(attr.type)) {\n        rst.push(attr);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  public getDefaultValue(attrName: string) {\n    let value: any;\n    const attr = this.getAttribute(attrName);\n    if (attr && isEmpty(attr.scales)) {\n      // \n      value = attr.values[0];\n    }\n    return value;\n  }\n\n  /**\n   *  Attribute \n   * @param attr Attribute \n   * @param obj \n   * @returns\n   */\n  public getAttributeValues(attr: Attribute, obj: Datum) {\n    const params = [];\n    const scales = attr.scales;\n    for (let index = 0, length = scales.length; index < length; index++) {\n      const scale = scales[index];\n      const field = scale.field;\n      if (scale.isIdentity) {\n        params.push(scale.values);\n      } else {\n        params.push(obj[field]);\n      }\n    }\n\n    return attr.mapping(...params);\n  }\n\n  /**\n   *  adjust \n   * @param adjustType\n   * @returns\n   */\n  public getAdjust(adjustType: string) {\n    return this.adjusts[adjustType];\n  }\n\n  /**\n   *  coordinate \n   * @returns\n   */\n  public getCoordinate() {\n    return this.coordinate;\n  }\n\n  public getData() {\n    return this.data;\n  }\n\n  /**\n   *  shape  marker \n   * @param shapeName shape \n   * @param cfg marker \n   * @returns\n   */\n  public getShapeMarker(shapeName: string, cfg: ShapeMarkerCfg): ShapeMarkerAttrs {\n    const shapeFactory = this.getShapeFactory();\n    return shapeFactory.getMarker(shapeName, cfg);\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElementsBy((element) => {\n   *   const data = element.getData();\n   *\n   *   return data.a === 'a';\n   * });\n   * ```\n   *\n   * @param condition \n   * @returns\n   */\n  public getElementsBy(condition: (element: Element) => boolean): Element[] {\n    return this.elements.filter((element) => condition(element));\n  }\n\n  /**\n   *  Geometry  Elements\n   *\n   * ```typescript\n   * getElements();\n   * ```\n   */\n  public getElements() {\n    return this.elements;\n  }\n\n  /**\n   *  id\n   * @param data Element \n   * @returns\n   */\n  public getElementId(data: MappingDatum | MappingDatum[]) {\n    data = isArray(data) ? data[0] : data;\n    const originData = data[FIELD_ORIGIN];\n\n    //  id \n    if (this.idFields.length) {\n      let elementId = originData[this.idFields[0]];\n      for (let index = 1; index < this.idFields.length; index++) {\n        elementId += '-' + originData[this.idFields[index]];\n      }\n\n      return elementId;\n    }\n\n    const type = this.type;\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const xField = xScale.field || 'x';\n    const yField = yScale.field || 'y';\n    const yVal = originData[yField];\n    let xVal;\n    if (xScale.type === 'identity') {\n      xVal = xScale.values[0];\n    } else {\n      xVal = originData[xField];\n    }\n\n    let id: string;\n    if (type === 'interval' || type === 'schema') {\n      id = `${xVal}`;\n    } else if (type === 'line' || type === 'area' || type === 'path') {\n      id = type;\n    } else {\n      id = `${xVal}-${yVal}`;\n    }\n\n    const groupScales = this.groupScales;\n\n    for (let index = 0, length = groupScales.length; index < length; index++) {\n      const groupScale = groupScales[index];\n      const field = groupScale.field;\n      id = `${id}-${originData[field]}`;\n    }\n\n    //  dodge  adjust  dodgeBy \n    const dodgeAdjust = this.getAdjust('dodge');\n    if (dodgeAdjust) {\n      const dodgeBy = dodgeAdjust.dodgeBy;\n      if (dodgeBy) {\n        id = `${id}-${originData[dodgeBy]}`;\n      }\n    }\n\n    if (this.getAdjust('jitter')) {\n      id = `${id}-${data.x}-${data.y}`;\n    }\n\n    return id;\n  }\n\n  /**\n   *  scale \n   */\n  public getScaleFields(): string[] {\n    const fields = [];\n    const tmpMap = new Map();\n    const { attributeOption, labelOption, tooltipOption } = this;\n    //  fields\n    for (const attributeType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attributeType)) {\n        const eachOpt = attributeOption[attributeType];\n        if (eachOpt.fields) {\n          uniq(eachOpt.fields, fields, tmpMap);\n        } else if (eachOpt.values) {\n          //  size(10), shape('circle') \n          uniq(eachOpt.values, fields, tmpMap);\n        }\n      }\n    }\n    //  label \n    if (labelOption && labelOption.fields) {\n      uniq(labelOption.fields, fields, tmpMap);\n    }\n\n    //  tooltip \n    if (isObject(tooltipOption) && tooltipOption.fields) {\n      uniq(tooltipOption.fields, fields, tmpMap);\n    }\n\n    return fields;\n  }\n\n  /**\n   *  geometry\n   * @param visible\n   */\n  public changeVisible(visible: boolean) {\n    super.changeVisible(visible);\n    const elements = this.elements;\n    for (let index = 0, length = elements.length; index < length; index++) {\n      const element = elements[index];\n      element.changeVisible(visible);\n    }\n    if (visible) {\n      if (this.container) {\n        this.container.show();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.show();\n      }\n    } else {\n      if (this.container) {\n        this.container.hide();\n      }\n      if (this.labelsContainer) {\n        this.labelsContainer.hide();\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public getFields() {\n    const uniqMap = new Map<string, boolean>();\n    const fields = [];\n\n    Object.values(this.attributeOption).forEach((cfg) => {\n      const fs = cfg?.fields || [];\n      fs.forEach((f) => {\n        if (!uniqMap.has(f)) {\n          fields.push(f);\n        }\n        uniqMap.set(f, true);\n      });\n    }, []);\n\n    return fields;\n  }\n\n  /**\n   *  & \n   * @return fields string[]\n   */\n  public getGroupFields(): string[] {\n    const groupFields = [];\n    const tmpMap = new Map(); // \n    for (let index = 0, length = GROUP_ATTRS.length; index < length; index++) {\n      const attributeName = GROUP_ATTRS[index];\n      const cfg = this.attributeOption[attributeName];\n      if (cfg && cfg.fields) {\n        uniq(cfg.fields, groupFields, tmpMap);\n      }\n    }\n\n    return groupFields;\n  }\n\n  /**\n   *  x y \n   */\n  public getXYFields() {\n    const [x, y] = this.attributeOption.position.fields;\n    return [x, y];\n  }\n\n  /**\n   * x \n   * @returns\n   */\n  public getXField(): string {\n    return get(this.getXYFields(), [0]);\n  }\n\n  /**\n   * y \n   * @returns\n   */\n  public getYField(): string {\n    return get(this.getXYFields(), [1]);\n  }\n\n  /**\n   *  Geometry  shapes\n   * @returns shapes\n   */\n  public getShapes(): (IShape | IGroup)[] {\n    return this.elements.map((element: Element) => element.shape);\n  }\n\n  /**\n   *  Group\n   * @returns\n   */\n  public getOffscreenGroup() {\n    if (!this.offscreenGroup) {\n      const GroupCtor = this.container.getGroupBase(); // \n      this.offscreenGroup = new GroupCtor({});\n    }\n    return this.offscreenGroup;\n  }\n\n  // \n  public sort(mappingArray: Data[]) {\n    if (!this.hasSorted) {\n      // \n      const xScale = this.getXScale();\n      const xField = xScale.field;\n      for (let index = 0; index < mappingArray.length; index++) {\n        const itemArr = mappingArray[index];\n        itemArr.sort((obj1: Datum, obj2: Datum) => {\n          return xScale.translate(obj1[FIELD_ORIGIN][xField]) - xScale.translate(obj2[FIELD_ORIGIN][xField]);\n        });\n      }\n    }\n\n    this.hasSorted = true;\n  }\n\n  /**\n   *  Geometry Interval  Y  0 \n   */\n  protected adjustScale() {\n    const yScale = this.getYScale();\n    //  stack adjust yScale \n    if (yScale && this.getAdjust('stack')) {\n      this.updateStackRange(yScale, this.beforeMappingData);\n    }\n  }\n\n  /**\n   *  Geometry  Shape \n   */\n  protected getShapeFactory() {\n    const shapeType = this.shapeType;\n    if (!getShapeFactory(shapeType)) {\n      return;\n    }\n    if (!this.shapeFactory) {\n      this.shapeFactory = clone(getShapeFactory(shapeType)); //  view  shapeFactory  coordinate \n    }\n    //  shapeFactory coordinate shapeFactory \n    this.shapeFactory.coordinate = this.coordinate;\n    // theme \n    this.shapeFactory.theme = this.theme.geometries[shapeType] || {};\n\n    return this.shapeFactory;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum): S {\n    const xScale = this.getXScale();\n    const yScale = this.getYScale();\n    const x = this.normalizeValues(obj[xScale.field], xScale);\n    let y; //  y \n\n    if (yScale) {\n      y = this.normalizeValues(obj[yScale.field], yScale);\n    } else {\n      y = obj.y ? obj.y : 0.1;\n    }\n\n    return {\n      x,\n      y,\n      y0: yScale ? yScale.scale(this.getYMinValue()) : undefined,\n    } as S;\n  }\n\n  /**\n   *  Element \n   * @param mappingDatum Element \n   * @param [isUpdate] \n   * @returns element  Element \n   */\n  protected createElement(mappingDatum: MappingDatum, index: number, isUpdate: boolean = false): Element {\n    const { container } = this;\n\n    const shapeCfg = this.getDrawCfg(mappingDatum); // \n    const shapeFactory = this.getShapeFactory();\n\n    const element = new Element({\n      shapeFactory,\n      container,\n      offscreenGroup: this.getOffscreenGroup(),\n      elementIndex: index,\n    });\n    element.animate = this.animateOption;\n    element.geometry = this;\n    element.draw(shapeCfg, isUpdate); // \n\n    return element;\n  }\n\n  /**\n   * \n   * @param mappingDatum \n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const originData = mappingDatum[FIELD_ORIGIN]; // \n    const cfg: ShapeInfo = {\n      mappingData: mappingDatum, // \n      data: originData, // \n      x: mappingDatum.x,\n      y: mappingDatum.y,\n      color: mappingDatum.color,\n      size: mappingDatum.size,\n      isInCircle: this.coordinate.isPolar,\n      customInfo: this.customOption,\n    };\n\n    let shapeName = mappingDatum.shape;\n    if (!shapeName && this.getShapeFactory()) {\n      shapeName = this.getShapeFactory().defaultShapeType;\n    }\n    cfg.shape = shapeName;\n    // \n    const theme = this.theme.geometries[this.shapeType];\n    cfg.defaultStyle = get(theme, [shapeName, 'default'], {}).style;\n    if (!cfg.defaultStyle && this.getShapeFactory()) {\n      cfg.defaultStyle = this.getShapeFactory().getDefaultStyle(theme);\n    }\n\n    const styleOption = this.styleOption;\n    if (styleOption) {\n      cfg.style = this.getStyleCfg(styleOption, originData);\n    }\n    if (this.generatePoints) {\n      cfg.points = mappingDatum.points;\n      cfg.nextPoints = mappingDatum.nextPoints;\n    }\n\n    return cfg;\n  }\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false): void {\n    const keyDatum = new Map<string, MappingDatum>();\n    const keys: string[] = [];\n\n    //  diff  added, updated \n    const keyIndex = new Map<string, number>();\n    let index = 0;\n\n    //  keys\n    //  key \n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      for (let j = 0; j < mappingData.length; j++) {\n        const mappingDatum = mappingData[j];\n        const key = this.getElementId(mappingDatum);\n        const finalKey = keyDatum.has(key) ? `${key}-${i}-${j}` : key;\n        keys.push(finalKey);\n        keyDatum.set(finalKey, mappingDatum);\n        keyIndex.set(finalKey, index);\n        index++;\n      }\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    //  element\n    for (const key of added) {\n      const mappingDatum = keyDatum.get(key);\n      const i = keyIndex.get(key);\n      const element = this.createElement(mappingDatum, i, isUpdate);\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  element\n    for (const key of updated) {\n      const element = this.lastElementsMap[key];\n      const mappingDatum = keyDatum.get(key);\n      const currentShapeCfg = this.getDrawCfg(mappingDatum);\n      const preShapeCfg = element.getModel();\n      const i = keyIndex.get(key);\n      if (this.isCoordinateChanged || isModelChange(currentShapeCfg, preShapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(currentShapeCfg); //  element\n      }\n      this.elements[i] = element;\n      this.elementsMap[key] = element;\n      if (element.shape) {\n        element.shape.set('zIndex', this.zIndexReversed ? this.elements.length - i : i);\n      }\n    }\n\n    //  setZIndex  sort\n    if (this.container) {\n      this.container.sort();\n    }\n\n    //  elements\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   *  label \n   */\n  protected getLabelType(): string {\n    const { labelOption, coordinate, type } = this;\n    const { type: coordinateType, isTransposed } = coordinate;\n    let labelType = get(labelOption, ['cfg', 'type']);\n    if (!labelType) {\n      // \n      if (coordinateType === 'polar') {\n        // \n        labelType = isTransposed ? 'pie' : 'polar';\n      } else if (coordinateType === 'theta') {\n        // theta \n        labelType = 'pie';\n      } else if (type === 'interval' || type === 'polygon') {\n        labelType = 'interval';\n      } else {\n        labelType = 'base';\n      }\n    }\n\n    return labelType;\n  }\n\n  /**\n   *  Y \n   */\n  protected getYMinValue(): number {\n    const yScale = this.getYScale();\n    const { min, max } = yScale;\n    let value: number;\n\n    if (min >= 0) {\n      value = min;\n    } else if (max <= 0) {\n      //  ymin  0\n      value = max;\n    } else {\n      value = 0;\n    }\n    return value;\n  }\n\n  // \n  protected createAttrOption(attrName: string, field: AttributeOption | string | number, cfg?) {\n    if (isNil(field) || isObject(field)) {\n      if (isObject(field) && isEqual(Object.keys(field), ['values'])) {\n        // shape({ values: [ 'funnel' ] })\n        set(this.attributeOption, attrName, {\n          fields: field.values,\n        });\n      } else {\n        set(this.attributeOption, attrName, field);\n      }\n    } else {\n      const attrCfg: AttributeOption = {};\n      if (isNumber(field)) {\n        // size(3)\n        attrCfg.values = [field];\n      } else {\n        attrCfg.fields = parseFields(field);\n      }\n\n      if (cfg) {\n        if (isFunction(cfg)) {\n          attrCfg.callback = cfg;\n        } else {\n          attrCfg.values = cfg;\n        }\n      }\n\n      set(this.attributeOption, attrName, attrCfg);\n    }\n  }\n\n  protected initAttributes() {\n    const { attributes, attributeOption, theme, shapeType } = this;\n    this.groupScales = [];\n    const tmpMap = {};\n\n    //  attrOption Attribute \n    for (const attrType in attributeOption) {\n      if (attributeOption.hasOwnProperty(attrType)) {\n        const option: AttributeOption = attributeOption[attrType];\n        if (!option) {\n          return;\n        }\n        const attrCfg: AttributeInstanceCfg = {\n          ...option,\n        };\n        const { callback, values, fields = [] } = attrCfg;\n\n        //  scale\n        const scales = fields.map((field) => {\n          const scale = this.scales[field];\n          if (!tmpMap[field] && GROUP_ATTRS.includes(attrType)) {\n            const inferedScaleType = inferScaleType(scale, get(this.scaleDefs, field), attrType, this.type);\n            if (inferedScaleType === 'cat') {\n              this.groupScales.push(scale);\n              tmpMap[field] = true;\n            }\n          }\n          return scale;\n        });\n\n        attrCfg.scales = scales;\n\n        if (attrType !== 'position' && scales.length === 1 && scales[0].type === 'identity') {\n          //  color('red'), size(5)\n          attrCfg.values = scales[0].values;\n        } else if (!callback && !values) {\n          // \n          if (attrType === 'size') {\n            attrCfg.values = theme.sizes;\n          } else if (attrType === 'shape') {\n            attrCfg.values = theme.shapes[shapeType] || [];\n          } else if (attrType === 'color') {\n            if (scales.length) {\n              // \n              attrCfg.values = scales[0].values.length <= 10 ? theme.colors10 : theme.colors20;\n            } else {\n              attrCfg.values = theme.colors10;\n            }\n          }\n        }\n        const AttributeCtor = getAttributeClass(attrType);\n        attributes[attrType] = new AttributeCtor(attrCfg);\n      }\n    }\n  }\n\n  //  ->  -> adjust \n  private processData(data: Data) {\n    this.hasSorted = false;\n    const { scales } = this.getAttribute('position');\n    const categoryScales = scales.filter((scale: Scale) => scale.isCategory);\n\n    const groupedArray = this.groupData(data); // \n    const beforeAdjust = [];\n    for (let i = 0, len = groupedArray.length; i < len; i++) {\n      const subData = groupedArray[i];\n      const arr = [];\n      for (let j = 0, subLen = subData.length; j < subLen; j++) {\n        const originData = subData[j];\n        const item = {};\n        // tslint:disable-next-line: forin\n        for (const k in originData) {\n          item[k] = originData[k];\n        }\n        item[FIELD_ORIGIN] = originData;\n\n        // , \n        for (const scale of categoryScales) {\n          const field = scale.field;\n          item[field] = scale.translate(item[field]);\n        }\n        arr.push(item);\n      }\n      beforeAdjust.push(arr);\n    }\n\n    const dataArray = this.adjustData(beforeAdjust); //  adjust \n    this.beforeMappingData = dataArray;\n\n    return dataArray;\n  }\n\n  // \n  private adjustData(dataArray: Data[]): Data[] {\n    const adjustOption = this.adjustOption;\n    const { intervalPadding, dodgePadding, theme } = this;\n    // theme\n    const maxColumnWidth = this.maxColumnWidth || theme.maxColumnWidth;\n    const minColumnWidth = this.minColumnWidth || theme.minColumnWidth;\n    const columnWidthRatio = this.columnWidthRatio || theme.columnWidthRatio;\n    let result = dataArray;\n\n    if (adjustOption) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xField = xScale.field;\n      const yField = yScale ? yScale.field : null;\n      const xDimensionLength = getXDimensionLength(this.coordinate);\n      const groupNum = xScale.values.length;\n      // size\n      const sizeAttr = this.getAttribute('size');\n      let defaultSize;\n      if (sizeAttr) {\n        defaultSize = sizeAttr.values[0];\n      }\n      for (let i = 0, len = adjustOption.length; i < len; i++) {\n        const adjust = adjustOption[i];\n        const adjustCfg: AdjustInstanceCfg = {\n          xField,\n          yField,\n          intervalPadding,\n          dodgePadding,\n          xDimensionLength,\n          groupNum,\n          defaultSize,\n          maxColumnWidth,\n          minColumnWidth,\n          columnWidthRatio,\n          ...adjust,\n        };\n        const type = adjust.type;\n        if (type === 'dodge') {\n          const adjustNames = [];\n          if (xScale.isCategory || xScale.type === 'identity') {\n            adjustNames.push('x');\n          } else if (!yScale) {\n            adjustNames.push('y');\n          } else {\n            throw new Error('dodge is not support linear attribute, please use category attribute!');\n          }\n          adjustCfg.adjustNames = adjustNames;\n          //  columnWidthRatio \n          // theme\n          adjustCfg.dodgeRatio = columnWidthRatio;\n        } else if (type === 'stack') {\n          const coordinate = this.coordinate;\n          if (!yScale) {\n            // size\n            adjustCfg.height = coordinate.getHeight();\n            const size = this.getDefaultValue('size') || 3;\n            adjustCfg.size = size;\n          }\n          //  transpose \n          if (!coordinate.isTransposed && isNil(adjustCfg.reverseOrder)) {\n            adjustCfg.reverseOrder = true;\n          }\n        }\n        const adjustCtor = getAdjustClass(type);\n        adjustCfg.dimValuesMap = {};\n        //dimValuesMap\n        if (xScale && xScale.values) {\n          adjustCfg.dimValuesMap[xScale.field] = xScale.values.map((v) => xScale.translate(v));\n        }\n        const adjustInstance = new adjustCtor(adjustCfg);\n\n        result = adjustInstance.process(result);\n\n        this.adjusts[type] = adjustInstance;\n      }\n    }\n\n    return result;\n  }\n\n  // \n  private groupData(data: Data): Data[] {\n    const groupScales = this.getGroupScales();\n    const scaleDefs = this.scaleDefs;\n    const appendConditions = {};\n    const groupFields = [];\n    for (let index = 0; index < groupScales.length; index++) {\n      const scale = groupScales[index];\n      const field = scale.field;\n      groupFields.push(field);\n      if (get(scaleDefs, [field, 'values'])) {\n        //  view.scale()  values \n        appendConditions[field] = scaleDefs[field].values;\n      }\n    }\n\n    return group(data, groupFields, appendConditions);\n  }\n\n  // \n  private updateStackRange(scale: Scale, dataArray: Data[]) {\n    const mergeArray = flatten(dataArray);\n    const field = scale.field;\n    let min = scale.min;\n    let max = scale.max;\n    for (let index = 0; index < mergeArray.length; index++) {\n      const obj = mergeArray[index];\n      const tmpMin = Math.min.apply(null, obj[field]);\n      const tmpMax = Math.max.apply(null, obj[field]);\n      if (tmpMin < min) {\n        min = tmpMin;\n      }\n      if (tmpMax > max) {\n        max = tmpMax;\n      }\n    }\n    const scaleDefs = this.scaleDefs;\n    const cfg: LooseObject = {};\n    if (min < scale.min && !get(scaleDefs, [field, 'min'])) {\n      //  min\n      cfg.min = min;\n    }\n    if (max > scale.max && !get(scaleDefs, [field, 'max'])) {\n      //  max\n      cfg.max = max;\n    }\n\n    scale.change(cfg);\n  }\n\n  // \n  private beforeMapping(beforeMappingData: Data[]) {\n    //  clone  points  clone\n    // const source = clone(beforeMappingData);\n    const source = beforeMappingData;\n    if (this.sortable) {\n      this.sort(source);\n    }\n    if (this.generatePoints) {\n      // \n      for (let index = 0, length = source.length; index < length; index++) {\n        const currentData = source[index];\n        this.generateShapePoints(currentData);\n        const nextData = source[index + 1];\n        if (nextData) {\n          this.generateShapePoints(nextData);\n          currentData[0].nextPoints = nextData[0].points;\n        }\n      }\n    }\n\n    return source;\n  }\n\n  //  shape \n  private generateShapePoints(data: Data) {\n    const shapeFactory = this.getShapeFactory();\n    const shapeAttr = this.getAttribute('shape');\n    for (let index = 0; index < data.length; index++) {\n      const obj = data[index];\n      const cfg = this.createShapePointsCfg(obj);\n      const shape = shapeAttr ? this.getAttributeValues(shapeAttr, obj) : null;\n      const points = shapeFactory.getShapePoints(shape, cfg);\n      obj.points = points;\n    }\n  }\n\n  // \n  private normalizeValues(values, scale) {\n    let rst = [];\n    if (isArray(values)) {\n      for (let index = 0; index < values.length; index++) {\n        const value = values[index];\n        rst.push(scale.scale(value));\n      }\n    } else {\n      rst = scale.scale(values);\n    }\n    return rst;\n  }\n\n  // \n  private mapping(data: Data): MappingDatum[] {\n    const attributes = this.attributes;\n    const mappingData = [];\n    for (let index = 0; index < data.length; index++) {\n      const record = data[index];\n      const newRecord: MappingDatum = {\n        _origin: record[FIELD_ORIGIN],\n        points: record.points,\n        nextPoints: record.nextPoints,\n      };\n      for (const k in attributes) {\n        if (attributes.hasOwnProperty(k)) {\n          const attr = attributes[k];\n          const names = attr.names;\n          const values = this.getAttributeValues(attr, record);\n          if (names.length > 1) {\n            // position \n            for (let j = 0; j < values.length; j += 1) {\n              const val = values[j];\n              const name = names[j];\n              newRecord[name] = isArray(val) && val.length === 1 ? val[0] : val; // \n            }\n          } else {\n            // values.length === 1 \n            // shape('a', ['dot', 'dash']), color('a', ['red', 'yellow'])\n            newRecord[names[0]] = values.length === 1 ? values[0] : values;\n          }\n        }\n      }\n\n      this.convertPoint(newRecord); //  xy \n      mappingData.push(newRecord);\n    }\n\n    return mappingData;\n  }\n\n  // \n  private convertPoint(mappingRecord: MappingDatum) {\n    const { x, y } = mappingRecord;\n\n    let rstX;\n    let rstY;\n    let obj;\n    const coordinate = this.coordinate;\n    if (isArray(x) && isArray(y)) {\n      rstX = [];\n      rstY = [];\n      for (let i = 0, j = 0, xLen = x.length, yLen = y.length; i < xLen && j < yLen; i += 1, j += 1) {\n        obj = coordinate.convert({\n          x: x[i],\n          y: y[j],\n        });\n        rstX.push(obj.x);\n        rstY.push(obj.y);\n      }\n    } else if (isArray(y)) {\n      rstY = [];\n      for (let index = 0; index < y.length; index++) {\n        const yVal = y[index];\n        obj = coordinate.convert({\n          x: x as number,\n          y: yVal,\n        });\n        if (rstX && rstX !== obj.x) {\n          if (!isArray(rstX)) {\n            rstX = [rstX];\n          }\n          rstX.push(obj.x);\n        } else {\n          rstX = obj.x;\n        }\n        rstY.push(obj.y);\n      }\n    } else if (isArray(x)) {\n      rstX = [];\n      for (let index = 0; index < x.length; index++) {\n        const xVal = x[index];\n        obj = coordinate.convert({\n          x: xVal,\n          y,\n        });\n        if (rstY && rstY !== obj.y) {\n          if (!isArray(rstY)) {\n            rstY = [rstY];\n          }\n          rstY.push(obj.y);\n        } else {\n          rstY = obj.y;\n        }\n        rstX.push(obj.x);\n      }\n    } else {\n      const point = coordinate.convert({\n        x,\n        y,\n      });\n      rstX = point.x;\n      rstY = point.y;\n    }\n    mappingRecord.x = rstX;\n    mappingRecord.y = rstY;\n  }\n\n  //  style \n  private getStyleCfg(styleOption: StyleOption, originData: Datum) {\n    const { fields = [], callback, cfg } = styleOption;\n    if (cfg) {\n      // \n      return cfg;\n    }\n\n    const params = fields.map((field) => {\n      return originData[field];\n    });\n\n    return callback(...params);\n  }\n\n  private setCfg(cfg: InitCfg) {\n    const { coordinate, data, theme, scaleDefs } = cfg;\n    if (coordinate) {\n      this.coordinate = coordinate;\n    }\n    if (data) {\n      this.data = data;\n    }\n    if (scaleDefs) {\n      this.scaleDefs = scaleDefs;\n      this.idFields = [];\n      each(scaleDefs, (scaleDef, field) => {\n        if (scaleDef && scaleDef.key) {\n          this.idFields.push(field);\n        }\n      });\n    }\n    if (theme) {\n      this.theme = this.userTheme ? deepMix({}, theme, this.userTheme) : theme; //  geometry \n    }\n  }\n\n  private renderLabels(mappingArray: MappingDatum[], isUpdate: boolean = false) {\n    let geometryLabel = this.geometryLabel;\n\n    if (!geometryLabel) {\n      // \n      const labelType = this.getLabelType();\n      const GeometryLabelsCtor = getGeometryLabel(labelType);\n      geometryLabel = new GeometryLabelsCtor(this);\n      this.geometryLabel = geometryLabel;\n    }\n    geometryLabel.render(mappingArray, isUpdate);\n\n    //  label  element \n    const labelsMap = geometryLabel.labelsRenderer.shapesMap;\n    each(this.elementsMap, (element: Element, id) => {\n      const labels = filterLabelsById(id, labelsMap); // element  label \n      if (labels.length) {\n        element.labelShape = labels;\n        for (let i = 0; i < labels.length; i++) {\n          const label = labels[i];\n          const labelChildren = label.getChildren();\n          for (let j = 0; j < labelChildren.length; j++) {\n            const child = labelChildren[j];\n            child.cfg.name = ['element', 'label'];\n            child.cfg.element = element;\n          }\n        }\n      }\n    });\n  }\n  /**\n   * \n   * \n   * 1. \n   * 2.  geometry \n   * 3.  appear \n   * 4.  appear.animation\n   */\n  private canDoGroupAnimation(isUpdate: boolean) {\n    return (\n      !isUpdate &&\n      this.animateOption &&\n      (get(this.animateOption, 'appear') === undefined ||\n        (get(this.animateOption, 'appear') && get(this.animateOption, ['appear', 'animation']) === undefined))\n    );\n  }\n}\n","import { groupToMap } from '@antv/util';\nimport { Data } from '../../interface';\n\n/** @ignore */\nexport function group(data: Data, fields: string[], appendConditions: Record<string, any[]> = {}) {\n  if (!fields) {\n    return [data];\n  }\n  const groups = groupToMap(data, fields);\n  const array = [];\n  if (fields.length === 1 && appendConditions[fields[0]]) {\n    const values = appendConditions[fields[0]];\n    for (const value of values) {\n      const arr = groups[`_${value}`];\n      if (arr) {\n        //  values  arr  null\n        array.push(arr);\n      }\n    }\n  } else {\n    for (const k in groups) {\n      if (groups.hasOwnProperty(k)) {\n        const eachGroup = groups[k];\n        array.push(eachGroup);\n      }\n    }\n  }\n\n  return array;\n}\n","import { ext } from '@antv/matrix-util';\nimport { IElement, IGroup, IShape } from '../dependents';\n\nconst transform: (m: number[], actions: any[][]) => number[] = ext.transform;\n\nexport { transform };\n\n/**\n * \n * @param element \n * @param x x \n * @param y y \n */\nexport function translate(element: IGroup | IShape, x: number, y: number) {\n  const matrix = transform(element.getMatrix(), [['t', x, y]]);\n  element.setMatrix(matrix);\n}\n\n/**\n *  ()\n * @param element \n * @param rotateRadian \n */\nexport function getRotateMatrix(element: IElement, rotateRadian: number) {\n  const { x, y } = element.attr();\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['r', rotateRadian],\n    ['t', x, y],\n  ]);\n  return matrix;\n}\n\n/**\n * \n * @param element \n * @param rotateRadian \n */\nexport function rotate(element: IGroup | IShape, rotateRadian: number) {\n  const matrix = getRotateMatrix(element, rotateRadian);\n  element.setMatrix(matrix);\n}\n\n/**\n * \n * @returns identity matrix\n */\nexport function getIdentityMatrix(): number[] {\n  return [1, 0, 0, 0, 1, 0, 0, 0, 1];\n}\n\n/**\n * \n * @param element \n * @param ratio \n */\nexport function zoom(element: IGroup | IShape, ratio: number) {\n  const bbox = element.getBBox();\n  const x = (bbox.minX + bbox.maxX) / 2;\n  const y = (bbox.minY + bbox.maxY) / 2;\n  element.applyToMatrix([x, y, 1]);\n\n  const matrix = transform(element.getMatrix(), [\n    ['t', -x, -y],\n    ['s', ratio, ratio],\n    ['t', x, y],\n  ]);\n  element.setMatrix(matrix);\n}\n","/**\n * @file utils of label\n */\n\nimport { isNil, isNumber, some } from '@antv/util';\nimport { IElement, IGroup, BBox } from '../../../dependents';\nimport { rotate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n *  Label Group  shape \n * @param label\n */\nexport function findLabelTextShape(label: IGroup): IElement {\n  return label.find((el) => el.get('type') === 'text');\n}\n\n/**\n * : box () + rotation ()\n */\nexport function getlLabelBackgroundInfo(\n  labelGroup: IGroup,\n  labelItem: LabelItem,\n  padding: number | number[] = [0, 0, 0, 0]\n): { x: number; y: number; width: number; height: number; rotation: number } {\n  const content = labelGroup.getChildren()[0];\n  if (content) {\n    const labelShape = content.clone();\n\n    // revert rotate\n    if (labelItem?.rotate) {\n      rotate(labelShape as IGroup, -labelItem.rotate);\n    }\n\n    // use `getCanvasBBox`, because if Shape is been translated, `getBBox` is not the actual box position\n    const { x, y, width, height } = labelShape.getCanvasBBox();\n\n    labelShape.destroy();\n\n    let boxPadding = padding;\n    if (isNil(boxPadding)) {\n      boxPadding = [2, 2, 2, 2];\n    } else if (isNumber(boxPadding)) {\n      boxPadding = new Array(4).fill(boxPadding);\n    }\n\n    return {\n      x: x - boxPadding[3],\n      y: y - boxPadding[0],\n      width: width + boxPadding[1] + boxPadding[3],\n      height: height + boxPadding[0] + boxPadding[2],\n      rotation: labelItem?.rotate || 0,\n    };\n  }\n}\n\n/**\n * \n */\nexport function getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**  */\nexport function checkShapeOverlap(cur: IElement, dones: IElement[]) {\n  const box = cur.getBBox();\n  return some(dones, (done) => {\n    const target = done.getBBox();\n    return getOverlapArea(box, target, 2) > 0;\n  });\n}\n","import { deepMix, each, get, isArray, isNull } from '@antv/util';\nimport { BBox, Coordinate, IGroup, IShape } from '../dependents';\nimport { LabelItem } from '../geometry/label/interface';\nimport { AnimateOption, GeometryLabelLayoutCfg } from '../interface';\nimport { doAnimate } from '../animate';\nimport { getGeometryLabelLayout } from '../geometry/label';\nimport { getlLabelBackgroundInfo } from '../geometry/label/util';\nimport { polarToCartesian } from '../util/graphics';\nimport { rotate, translate } from '../util/transform';\nimport { FIELD_ORIGIN } from '../constant';\nimport { updateLabel } from './update-label';\n\n/**\n * Labels \n */\nexport interface LabelsGroupCfg {\n  /** label  */\n  container: IGroup;\n  /** label  */\n  layout?: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n}\n\n/**\n * Geometry labels \n */\nexport default class Labels {\n  /**  labels  */\n  public layout: GeometryLabelLayoutCfg | GeometryLabelLayoutCfg[];\n  /**  */\n  public container: IGroup;\n  /**  */\n  public animate: AnimateOption | false;\n  /** label  */\n  public region: BBox;\n\n  /**  shape  shape id */\n  public shapesMap: Record<string, IGroup> = {};\n  private lastShapesMap: Record<string, IGroup> = {};\n\n  constructor(cfg: LabelsGroupCfg) {\n    const { layout, container } = cfg;\n\n    this.layout = layout;\n    this.container = container;\n  }\n\n  /**\n   * \n   */\n  public render(items: LabelItem[], shapes: Record<string, IShape | IGroup>, isUpdate: boolean = false) {\n    this.shapesMap = {};\n    const container = this.container;\n    const offscreenGroup = this.createOffscreenGroup(); // \n    if (items.length) {\n      //  items \n      // step 1:  group  shapes\n      for (const item of items) {\n        if (item) {\n          this.renderLabel(item, offscreenGroup);\n        }\n      }\n      // step 2:  labels\n      this.doLayout(items, shapes);\n      // step 3.1:  labelLine\n      this.renderLabelLine(items);\n      // step 3.2:  labelBackground\n      this.renderLabelBackground(items);\n      // step 4:  label\n      this.adjustLabel(items);\n    }\n\n    // \n    const lastShapesMap = this.lastShapesMap;\n    const shapesMap = this.shapesMap;\n    each(shapesMap, (shape, id) => {\n      if (shape.destroyed) {\n        // label doLayout\n        delete shapesMap[id];\n      } else {\n        if (lastShapesMap[id]) {\n          // \n          const data = shape.get('data');\n          const origin = shape.get('origin');\n          const coordinate = shape.get('coordinate');\n          const currentAnimateCfg = shape.get('animateCfg');\n\n          const currentShape = lastShapesMap[id]; //  shape\n          updateLabel(currentShape, shapesMap[id], {\n            data,\n            origin,\n            animateCfg: currentAnimateCfg,\n            coordinate,\n          });\n\n          this.shapesMap[id] = currentShape; // \n        } else {\n          //  shape\n          container.add(shape);\n\n          const animateCfg = get(shape.get('animateCfg'), isUpdate ? 'enter' : 'appear');\n          if (animateCfg) {\n            doAnimate(shape, animateCfg, {\n              toAttrs: {\n                ...shape.attr(),\n              },\n              coordinate: shape.get('coordinate'),\n            });\n          }\n        }\n        delete lastShapesMap[id];\n      }\n    });\n\n    // \n    each(lastShapesMap, (deleteShape) => {\n      const animateCfg = get(deleteShape.get('animateCfg'), 'leave');\n      if (animateCfg) {\n        doAnimate(deleteShape, animateCfg, {\n          toAttrs: null,\n          coordinate: deleteShape.get('coordinate'),\n        });\n      } else {\n        deleteShape.remove(true); // \n      }\n    });\n\n    this.lastShapesMap = shapesMap;\n    offscreenGroup.destroy();\n  }\n\n  /**  labels */\n  public clear() {\n    this.container.clear();\n    this.shapesMap = {};\n    this.lastShapesMap = {};\n  }\n\n  /**  */\n  public destroy() {\n    this.container.destroy();\n    this.shapesMap = null;\n    this.lastShapesMap = null;\n  }\n\n  private renderLabel(cfg: LabelItem, container: IGroup) {\n    const { id, elementId, data, mappingData, coordinate, animate, content } = cfg;\n    const shapeAppendCfg = {\n      id,\n      elementId,\n      data,\n      origin: {\n        ...mappingData,\n        data: mappingData[FIELD_ORIGIN],\n      },\n      coordinate,\n    };\n    const labelGroup = container.addGroup({\n      name: 'label',\n      //  this.animate === false  cfg.animate === false/null \n      animateCfg:\n        this.animate === false || animate === null || animate === false ? false : deepMix({}, this.animate, animate),\n      ...shapeAppendCfg,\n    });\n    let labelShape;\n    if ((content.isGroup && content.isGroup()) || (content.isShape && content.isShape())) {\n      //  content  Group  Shape textAlign  labelGroup\n      const { width, height } = content.getCanvasBBox();\n      const textAlign = get(cfg, 'textAlign', 'left');\n\n      let x = cfg.x;\n      const y = cfg.y - height / 2;\n\n      if (textAlign === 'center') {\n        x = x - width / 2;\n      } else if (textAlign === 'right' || textAlign === 'end') {\n        x = x - width;\n      }\n\n      translate(content, x, y); //  label  x, y \n      labelShape = content;\n      labelGroup.add(content);\n    } else {\n      const fill = get(cfg, ['style', 'fill']);\n      labelShape = labelGroup.addShape('text', {\n        attrs: {\n          x: cfg.x,\n          y: cfg.y,\n          textAlign: cfg.textAlign,\n          textBaseline: get(cfg, 'textBaseline', 'middle'),\n          text: cfg.content,\n          ...cfg.style,\n          fill: isNull(fill) ? cfg.color : fill,\n        },\n        ...shapeAppendCfg,\n      });\n    }\n\n    if (cfg.rotate) {\n      rotate(labelShape, cfg.rotate);\n    }\n    this.shapesMap[id] = labelGroup;\n  }\n\n  // typelabel\n  private doLayout(items: LabelItem[], shapes: Record<string, IShape | IGroup>) {\n    if (this.layout) {\n      const layouts = isArray(this.layout) ? this.layout : [this.layout];\n      each(layouts, (layout: GeometryLabelLayoutCfg) => {\n        const layoutFn = getGeometryLabelLayout(get(layout, 'type', ''));\n        if (layoutFn) {\n          const labelShapes = [];\n          const geometryShapes = [];\n          each(this.shapesMap, (labelShape, id) => {\n            labelShapes.push(labelShape);\n            geometryShapes.push(shapes[labelShape.get('elementId')]);\n          });\n\n          layoutFn(items, labelShapes, geometryShapes, this.region, layout.cfg);\n        }\n      });\n    }\n  }\n\n  private renderLabelLine(labelItems: LabelItem[]) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      if (!labelItem || !coordinate) {\n        return;\n      }\n      const center = coordinate.getCenter();\n      const radius = coordinate.getRadius();\n      if (!labelItem.labelLine) {\n        // labelLine: null | false label  labelLine\n        return;\n      }\n      const labelLineCfg = get(labelItem, 'labelLine', {});\n      const id = labelItem.id;\n      let path = labelLineCfg.path;\n      if (!path) {\n        const start = polarToCartesian(center.x, center.y, radius, labelItem.angle);\n        path = [\n          ['M', start.x, start.y],\n          ['L', labelItem.x, labelItem.y],\n        ];\n      }\n      const labelGroup = this.shapesMap[id];\n      if (!labelGroup.destroyed) {\n        labelGroup.addShape('path', {\n          capture: false, // labelLine \n          attrs: {\n            path,\n            stroke: labelItem.color ? labelItem.color : get(labelItem, ['style', 'fill'], '#000'),\n            fill: null,\n            ...labelLineCfg.style,\n          },\n          id,\n          origin: labelItem.mappingData,\n          data: labelItem.data,\n          coordinate: labelItem.coordinate,\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   * @param labelItems\n   */\n  private renderLabelBackground(labelItems: LabelItem[]) {\n    each(labelItems, (labelItem) => {\n      const coordinate: Coordinate = get(labelItem, 'coordinate');\n      const background: LabelItem['background'] = get(labelItem, 'background');\n      if (!background || !coordinate) {\n        return;\n      }\n\n      const id = labelItem.id;\n      const labelGroup = this.shapesMap[id];\n      if (!labelGroup.destroyed) {\n        const labelContentShape = labelGroup.getChildren()[0];\n        if (labelContentShape) {\n          const { rotation, ...box } = getlLabelBackgroundInfo(labelGroup, labelItem, background.padding);\n          const backgroundShape = labelGroup.addShape('rect', {\n            attrs: {\n              ...box,\n              ...(background.style || {}),\n            },\n            id,\n            origin: labelItem.mappingData,\n            data: labelItem.data,\n            coordinate: labelItem.coordinate,\n          });\n          backgroundShape.setZIndex(-1);\n\n          if (rotation) {\n            const matrix = labelContentShape.getMatrix();\n            backgroundShape.setMatrix(matrix);\n          }\n        }\n      }\n    });\n  }\n\n  private createOffscreenGroup() {\n    const container = this.container;\n    const GroupClass = container.getGroupBase(); // \n    const newGroup = new GroupClass({});\n    return newGroup;\n  }\n\n  private adjustLabel(items: LabelItem[]) {\n    each(items, (item) => {\n      if (item) {\n        const id = item.id;\n        const labelGroup = this.shapesMap[id];\n        if (!labelGroup.destroyed) {\n          // fix:  label content  group  content group   spider label  2  textShape  gorup\n          const labelShapes = labelGroup.findAll((ele) => ele.get('type') !== 'path');\n          each(labelShapes, (labelShape) => {\n            if (labelShape) {\n              if (item.offsetX) {\n                labelShape.attr('x', labelShape.attr('x') + item.offsetX);\n              }\n              if (item.offsetY) {\n                labelShape.attr('y', labelShape.attr('y') + item.offsetY);\n              }\n            }\n          });\n        }\n      }\n    });\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { each, get } from '@antv/util';\nimport { doAnimate } from '../animate';\nimport { getReplaceAttrs } from '../util/graphics';\n\n/** label  */\ntype Cfg = {\n  data: any;\n  origin: any;\n  animateCfg: any;\n  coordinate: Coordinate;\n};\n\n/**\n * @desc  label ( id  idx )\n * @done shape \n * @done shape delete\n * @done shape append\n *\n * @param fromShape old labelShape\n * @param toShape new labelShape\n * @param cfg\n */\nexport function updateLabel(fromShape: IGroup, toShape: IGroup, cfg: Cfg): void {\n  const { data, origin, animateCfg, coordinate } = cfg;\n  const updateAnimateCfg = get(animateCfg, 'update');\n\n  fromShape.set('data', data);\n  fromShape.set('origin', origin);\n  fromShape.set('animateCfg', animateCfg);\n  fromShape.set('coordinate', coordinate);\n  fromShape.set('visible', toShape.get('visible'));\n\n  fromShape.getChildren().forEach((fromChild, idx) => {\n    const toChild = toShape.getChildByIndex(idx) as IShape;\n    if (!toChild) {\n      fromShape.removeChild(fromChild);\n      fromChild.remove(true);\n    } else {\n      fromChild.set('data', data);\n      fromChild.set('origin', origin);\n      fromChild.set('animateCfg', animateCfg);\n      fromChild.set('coordinate', coordinate);\n\n      const newAttrs = getReplaceAttrs(fromChild as IShape, toChild);\n      if (updateAnimateCfg) {\n        doAnimate(fromChild as IShape, updateAnimateCfg, {\n          toAttrs: newAttrs,\n          coordinate,\n        });\n      } else {\n        fromChild.attr(newAttrs);\n      }\n      if (toChild.isGroup()) {\n        updateLabel(fromChild as any, toChild as any, cfg);\n      }\n    }\n  });\n\n  // append\n  each(toShape.getChildren(), (child, idx) => {\n    if (idx >= fromShape.getCount()) {\n      if (!child.destroyed) {\n        fromShape.add(child);\n      }\n    }\n  });\n}\n","import { deepMix, each, get, isArray, isFunction, isNil, isNumber, isString, isUndefined } from '@antv/util';\n\nimport { FIELD_ORIGIN } from '../../constant';\nimport { Scale } from '../../dependents';\nimport { Datum, LabelOption, MappingDatum, Point } from '../../interface';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\nimport { getDefaultAnimateCfg } from '../../animate';\nimport { getPolygonCentroid } from '../../util/graphics';\n\nimport Labels from '../../component/labels';\nimport Geometry from '../base';\nimport Element from '../element';\n\nexport type GeometryLabelConstructor = new (cfg: any) => GeometryLabel;\n\nfunction avg(arr: number[]) {\n  let sum = 0;\n  each(arr, (value: number) => {\n    sum += value;\n  });\n  return sum / arr.length;\n}\n\n/**\n * Geometry Label  Geometry  label \n */\nexport default class GeometryLabel {\n  /** geometry  */\n  public readonly geometry: Geometry;\n  public labelsRenderer: Labels;\n  /**  */\n  public defaultLayout: string;\n\n  constructor(geometry: Geometry) {\n    this.geometry = geometry;\n  }\n\n  public getLabelItems(mapppingArray: MappingDatum[]): LabelItem[] {\n    const items = [];\n    const labelCfgs = this.getLabelCfgs(mapppingArray);\n    //  label  xy  x, y\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const labelCfg = labelCfgs[index];\n      if (!labelCfg || isNil(mappingData.x) || isNil(mappingData.y)) {\n        items.push(null);\n        return;\n      }\n\n      const labelContent = !isArray(labelCfg.content) ? [labelCfg.content] : labelCfg.content;\n      labelCfg.content = labelContent;\n      const total = labelContent.length;\n      each(labelContent, (content, subIndex) => {\n        if (isNil(content) || content === '') {\n          items.push(null);\n          return;\n        }\n\n        const item = {\n          ...labelCfg,\n          ...this.getLabelPoint(labelCfg, mappingData, subIndex),\n        };\n        if (!item.textAlign) {\n          item.textAlign = this.getLabelAlign(item, subIndex, total);\n        }\n\n        if (item.offset <= 0) {\n          item.labelLine = null;\n        }\n\n        items.push(item);\n      });\n    });\n    return items;\n  }\n\n  public render(mapppingArray: MappingDatum[], isUpdate: boolean = false) {\n    const labelItems = this.getLabelItems(mapppingArray);\n    const labelsRenderer = this.getLabelsRenderer();\n    const shapes = this.getGeometryShapes();\n    // \n    labelsRenderer.render(labelItems, shapes, isUpdate);\n  }\n\n  public clear() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.clear();\n    }\n  }\n\n  public destroy() {\n    const labelsRenderer = this.labelsRenderer;\n    if (labelsRenderer) {\n      labelsRenderer.destroy();\n    }\n    this.labelsRenderer = null;\n  }\n\n  // geometry  Coordinate  Coordinate\n  public getCoordinate() {\n    return this.geometry.coordinate;\n  }\n\n  /**\n   *  label \n   */\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const geometry = this.geometry;\n    const { type, theme } = geometry;\n\n    if (\n      type === 'polygon' ||\n      (type === 'interval' && position === 'middle') ||\n      (offset < 0 && !['line', 'point', 'path'].includes(type))\n    ) {\n      // polygon  (interval  middle)  offset  0  \n      return get(theme, 'innerLabels', {});\n    }\n\n    return get(theme, 'labels', {});\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { type, theme } = geometry;\n    let themedLabelCfg;\n\n    if (type === 'polygon' || (labelCfg.offset < 0 && !['line', 'point', 'path'].includes(type))) {\n      // polygon  offset  0  \n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.innerLabels, labelCfg);\n    } else {\n      themedLabelCfg = deepMix({}, defaultLabelCfg, theme.labels, labelCfg);\n    }\n\n    return themedLabelCfg;\n  }\n\n  /**\n   *  label \n   * @param labelPointCfg\n   * @param mappingData\n   * @param index\n   * @param position\n   */\n  protected setLabelPosition(\n    labelPointCfg: LabelPointCfg,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {}\n\n  /**\n   * @desc  label offset\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    const vector = this.getOffsetVector(offset);\n    return coordinate.isTransposed ? vector[0] : vector[1];\n  }\n\n  /**\n   *  label  ()\n   * @param labelCfg\n   * @param index\n   * @param total\n   * @return {Point} offsetPoint\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number): Point {\n    const offset = labelCfg.offset;\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const factor = transposed ? 1 : -1; // y transposed\n    const offsetPoint = {\n      x: 0,\n      y: 0,\n    };\n    if (index > 0 || total === 1) {\n      // 0\n      offsetPoint[dim] = offset * factor;\n    } else {\n      offsetPoint[dim] = offset * factor * -1;\n    }\n    return offsetPoint;\n  }\n\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    const coordinate = this.getCoordinate();\n    const total = labelCfg.content.length;\n\n    function getDimValue(value: number | number[], idx: number, isAvg = false) {\n      let v = value;\n      if (isArray(v)) {\n        if (labelCfg.content.length === 1) {\n          if (isAvg) {\n            v = avg(v);\n          } else {\n            //  label y,  y\n            if (v.length <= 2) {\n              v = v[(value as number[]).length - 1];\n            } else {\n              v = avg(v);\n            }\n          }\n        } else {\n          v = v[idx];\n        }\n      }\n      return v;\n    }\n\n    const label = {\n      content: labelCfg.content[index],\n      x: 0,\n      y: 0,\n      start: { x: 0, y: 0 },\n      color: '#fff',\n    };\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    const isFunnel = shape === 'funnel' || shape === 'pyramid';\n\n    // \n    if (this.geometry.type === 'polygon') {\n      const centroid = getPolygonCentroid(mappingData.x, mappingData.y);\n      label.x = centroid[0];\n      label.y = centroid[1];\n    } else if (this.geometry.type === 'interval' && !isFunnel) {\n      // label X \n      label.x = getDimValue(mappingData.x, index, true);\n      label.y = getDimValue(mappingData.y, index);\n    } else {\n      label.x = getDimValue(mappingData.x, index);\n      label.y = getDimValue(mappingData.y, index);\n    }\n\n    // \n    if (isFunnel) {\n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(nextPoints[1] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      } else if (shape === 'pyramid') {\n        const point1 = coordinate.convert(points[1] as Point);\n        const point2 = coordinate.convert(points[2] as Point);\n        label.x = (point1.x + point2.x) / 2;\n        label.y = (point1.y + point2.y) / 2;\n      }\n    }\n\n    if (labelCfg.position) {\n      //  label  position \n      this.setLabelPosition(label, mappingData, index, labelCfg.position);\n    }\n    const offsetPoint = this.getLabelOffsetPoint(labelCfg, index, total);\n    label.start = { x: label.x, y: label.y };\n    label.x += offsetPoint.x;\n    label.y += offsetPoint.y;\n    label.color = mappingData.color;\n    return label;\n  }\n\n  /**\n   * \n   * @param item\n   * @param index\n   * @param total\n   * @returns\n   */\n  protected getLabelAlign(item: LabelItem, index: number, total: number): TextAlign {\n    let align: TextAlign = 'center';\n    const coordinate = this.getCoordinate();\n    if (coordinate.isTransposed) {\n      const offset = item.offset;\n      if (offset < 0) {\n        align = 'right';\n      } else if (offset === 0) {\n        align = 'center';\n      } else {\n        align = 'left';\n      }\n      if (total > 1 && index === 0) {\n        if (align === 'right') {\n          align = 'left';\n        } else if (align === 'left') {\n          align = 'right';\n        }\n      }\n    }\n    return align;\n  }\n\n  /**\n   *  label  id\n   * @param mappingData label \n   */\n  protected getLabelId(mappingData: MappingDatum) {\n    const geometry = this.geometry;\n    const type = geometry.type;\n    const xScale = geometry.getXScale();\n    const yScale = geometry.getYScale();\n    const origin = mappingData[FIELD_ORIGIN]; // \n\n    let labelId = geometry.getElementId(mappingData);\n    if (type === 'line' || type === 'area') {\n      //  labels labels line id  x \n      labelId += ` ${origin[xScale.field]}`;\n    } else if (type === 'path') {\n      // path  x  y  x y  id\n      labelId += ` ${origin[xScale.field]}-${origin[yScale.field]}`;\n    }\n\n    return labelId;\n  }\n\n  //  labels \n  private getLabelsRenderer() {\n    const { labelsContainer, labelOption, canvasRegion, animateOption } = this.geometry;\n    const coordinate = this.geometry.coordinate;\n\n    let labelsRenderer = this.labelsRenderer;\n    if (!labelsRenderer) {\n      labelsRenderer = new Labels({\n        container: labelsContainer,\n        layout: get(labelOption, ['cfg', 'layout'], {\n          type: this.defaultLayout,\n        }),\n      });\n      this.labelsRenderer = labelsRenderer;\n    }\n    labelsRenderer.region = canvasRegion;\n    //  geometry  label \n    labelsRenderer.animate = animateOption ? getDefaultAnimateCfg('label', coordinate) : false;\n\n    return labelsRenderer;\n  }\n\n  private getLabelCfgs(mapppingArray: MappingDatum[]): LabelCfg[] {\n    const geometry = this.geometry;\n    const { labelOption, scales, coordinate } = geometry;\n    const { fields, callback, cfg } = labelOption as LabelOption;\n    const labelScales = fields.map((field: string) => {\n      return scales[field];\n    });\n\n    const labelCfgs: LabelCfg[] = [];\n    each(mapppingArray, (mappingData: MappingDatum, index: number) => {\n      const origin = mappingData[FIELD_ORIGIN]; // \n      const originText = this.getLabelText(origin, labelScales);\n      let callbackCfg;\n      if (callback) {\n        //  callback  cfg  callback \n        const originValues = fields.map((field: string) => origin[field]);\n        callbackCfg = callback(...originValues);\n        if (isNil(callbackCfg)) {\n          labelCfgs.push(null);\n          return;\n        }\n      }\n\n      let labelCfg = {\n        id: this.getLabelId(mappingData), //  ID \n        elementId: this.geometry.getElementId(mappingData), // label  Element  ID\n        data: origin, // \n        mappingData, // ,\n        coordinate, // \n        ...cfg,\n        ...callbackCfg,\n      };\n\n      if (isFunction(labelCfg.position)) {\n        labelCfg.position = labelCfg.position(origin, mappingData, index);\n      }\n\n      const offset = this.getLabelOffset(labelCfg.offset || 0);\n      // defaultCfg  innerLabels & labels\n      const defaultLabelCfg = this.getDefaultLabelCfg(offset, labelCfg.position);\n      // labelCfg priority: defaultCfg < cfg < callbackCfg\n      labelCfg = deepMix({}, defaultLabelCfg, labelCfg);\n      //  offset\n      labelCfg.offset = this.getLabelOffset(labelCfg.offset || 0);\n\n      const content = labelCfg.content;\n      if (isFunction(content)) {\n        labelCfg.content = content(origin, mappingData, index);\n      } else if (isUndefined(content)) {\n        //  content\n        labelCfg.content = originText[0];\n      }\n\n      labelCfgs.push(labelCfg);\n    });\n\n    return labelCfgs;\n  }\n\n  private getLabelText(origin: Datum, scales: Scale[]) {\n    const labelTexts = [];\n    each(scales, (scale: Scale) => {\n      let value = origin[scale.field];\n      if (isArray(value)) {\n        value = value.map((subVal) => {\n          return scale.getText(subVal);\n        });\n      } else {\n        value = scale.getText(value);\n      }\n\n      if (isNil(value) || value === '') {\n        labelTexts.push(null);\n      } else {\n        labelTexts.push(value);\n      }\n    });\n    return labelTexts;\n  }\n\n  private getOffsetVector(offset: number | string = 0) {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    }\n    //  x,y  x y\n    return coordinate.isTransposed ? coordinate.applyMatrix(actualOffset, 0) : coordinate.applyMatrix(0, actualOffset);\n  }\n\n  private getGeometryShapes() {\n    const geometry = this.geometry;\n    const shapes = {};\n    each(geometry.elementsMap, (element: Element, id: string) => {\n      shapes[id] = element.shape;\n    });\n    //  shape  shape.getBBox()  offscreenGroup \n    each(geometry.getOffscreenGroup().getChildren(), (child) => {\n      const id = geometry.getElementId(child.get('origin').mappingData);\n      shapes[id] = child;\n    });\n\n    return shapes;\n  }\n}\n","import { Attribute } from '../dependents';\n\n/**\n * @ignore\n * get the mapping value by attribute, if mapping value is nil, return def\n * @param attr\n * @param value\n * @param def\n * @returns get mapping value\n */\nexport function getMappingValue(attr: Attribute, value: any, def: string): string {\n  if (!attr) {\n    return def;\n  }\n\n  let r;\n  // \n  if (attr.callback && attr.callback.length > 1) {\n    const restArgs = Array(attr.callback.length - 1).fill('');\n    r = attr.mapping(value, ...restArgs).join('');\n  } else {\n    r = attr.mapping(value).join('');\n  }\n\n  return r || def;\n}\n","/** @ignore */\nexport const MarkerSymbols = {\n  hexagon: (x: number, y: number, r: number) => {\n    const diffX = (r / 2) * Math.sqrt(3);\n    return [\n      ['M', x, y - r],\n      ['L', x + diffX, y - r / 2],\n      ['L', x + diffX, y + r / 2],\n      ['L', x, y + r],\n      ['L', x - diffX, y + r / 2],\n      ['L', x - diffX, y - r / 2],\n      ['Z'],\n    ];\n  },\n  bowtie: (x: number, y: number, r: number) => {\n    const diffY = r - 1.5;\n    return [['M', x - r, y - diffY], ['L', x + r, y + diffY], ['L', x + r, y - diffY], ['L', x - r, y + diffY], ['Z']];\n  },\n  cross: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y - r],\n      ['L', x + r, y + r],\n      ['M', x + r, y - r],\n      ['L', x - r, y + r],\n    ];\n  },\n  tick: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r / 2, y - r],\n      ['L', x + r / 2, y - r],\n      ['M', x, y - r],\n      ['L', x, y + r],\n      ['M', x - r / 2, y + r],\n      ['L', x + r / 2, y + r],\n    ];\n  },\n  plus: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n  hyphen: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x, y - r],\n      ['L', x, y + r],\n    ];\n  },\n};\n","import { LegendMarkerCfg } from '@antv/component';\nimport { deepMix, isString, each, get, isFunction } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { Attribute, ShapeAttrs, Tick } from '../dependents';\nimport Geometry from '../geometry/base';\nimport { LegendCfg, LegendItem, MarkerCfg } from '../interface';\nimport { getMappingValue } from './attr';\nimport { omit } from './helper';\nimport { MarkerSymbols } from './marker';\n\n/**  marker symbol */\nconst STROKES_SYMBOLS = ['line', 'cross', 'tick', 'plus', 'hyphen'];\n\n/**\n *  marker style\n * @param markerStyle\n * @param userMarker.style\n * @returns {ShapeAttrs} newStyle\n */\nfunction handleUserMarkerStyle(markerStyle: ShapeAttrs, style: MarkerCfg['style']): ShapeAttrs {\n  if (isFunction(style)) {\n    return style(markerStyle);\n  }\n  return deepMix({}, markerStyle, style);\n}\n\n/**\n *  marker  symbol, \n * @param symbol\n * @param style\n * @param color\n */\nfunction adpatorMarkerStyle(marker: LegendMarkerCfg, color: string): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && STROKES_SYMBOLS.indexOf(symbol) !== -1) {\n    const markerStyle = get(marker, 'style', {});\n    const lineWidth = get(markerStyle, 'lineWidth', 1);\n    const stroke = markerStyle.stroke || markerStyle.fill || color;\n    marker.style = deepMix({}, marker.style, { lineWidth, stroke, fill: null });\n  }\n}\n\n/**\n *  marker  symbol  symbol \n * @param marker\n */\nfunction setMarkerSymbol(marker: LegendMarkerCfg): void {\n  const symbol = marker.symbol;\n  if (isString(symbol) && MarkerSymbols[symbol]) {\n    marker.symbol = MarkerSymbols[symbol];\n  }\n}\n\n/**\n * @ignore\n * get the legend layout from direction\n * @param direction\n * @returns layout 'horizontal' | 'vertical'\n */\nexport function getLegendLayout(direction: DIRECTION): 'vertical' | 'horizontal' {\n  return direction.startsWith(DIRECTION.LEFT) || direction.startsWith(DIRECTION.RIGHT) ? 'vertical' : 'horizontal';\n}\n\n/** item of @antv/component legend  */\ntype ComponentLegendItem = Omit<LegendItem, 'marker'> & {\n  marker: any;\n};\n\n/**\n * @ignore\n * get the legend items\n * @param view\n * @param geometry\n * @param attr\n * @param themeMarker\n * @param markerCfg\n * @returns legend items\n */\nexport function getLegendItems(\n  view: View,\n  geometry: Geometry,\n  attr: Attribute,\n  themeMarker: object,\n  userMarker: LegendCfg['marker']\n): ComponentLegendItem[] {\n  const scale = attr.getScale(attr.type);\n  if (scale.isCategory) {\n    const field = scale.field;\n    const colorAttr = geometry.getAttribute('color');\n    const shapeAttr = geometry.getAttribute('shape');\n    const defaultColor = view.getTheme().defaultColor;\n    const isInPolar = geometry.coordinate.isPolar;\n\n    return scale.getTicks().map((tick: Tick, index: number) => {\n      const { text, value: scaleValue } = tick;\n      const name = text;\n      const value = scale.invert(scaleValue);\n\n      //  unchecked\n      let unchecked = view.filterFieldData(field, [{ [field]: value }]).length === 0;\n      each(view.views, (subView) => {\n        if (!subView.filterFieldData(field, [{ [field]: value }]).length) {\n          unchecked = true;\n        }\n      });\n\n      // @ts-ignore\n      const color = getMappingValue(colorAttr, value, defaultColor);\n      const shape = getMappingValue(shapeAttr, value, 'point');\n      let marker = geometry.getShapeMarker(shape, {\n        color,\n        isInPolar,\n      });\n\n      let markerCfg = userMarker;\n      if (isFunction(markerCfg)) {\n        markerCfg = markerCfg(name, index, { name, value, ...deepMix({}, themeMarker, marker) });\n      }\n\n      // the marker configure order should be ensure\n      marker = deepMix({}, themeMarker, marker, omit({ ...markerCfg }, ['style']));\n      adpatorMarkerStyle(marker, color);\n      if (markerCfg && markerCfg.style) {\n        // handle user's style settings\n        marker.style = handleUserMarkerStyle(marker.style, markerCfg.style);\n      }\n      setMarkerSymbol(marker);\n\n      return { id: value, name, value, marker, unchecked };\n    });\n  }\n  return [];\n}\n\n/**\n *\n * @ignore\n * custom legend  items \n * @param themeMarker\n * @param userMarker\n * @param customItems\n */\nexport function getCustomLegendItems(themeMarker: object, userMarker: object, customItems: LegendItem[]) {\n  //  item marker \n  return customItems.map((item: LegendItem, index: number) => {\n    let markerCfg = userMarker;\n    if (isFunction(markerCfg)) {\n      markerCfg = markerCfg(item.name, index, deepMix({}, themeMarker, item));\n    }\n\n    const itemMarker = isFunction(item.marker)\n      ? item.marker(item.name, index, deepMix({}, themeMarker, item))\n      : item.marker;\n\n    const marker = deepMix({}, themeMarker, markerCfg, itemMarker);\n    setMarkerSymbol(marker);\n\n    item.marker = marker;\n    return item;\n  });\n}\n\n/**\n * get the legend cfg from theme, will mix the common cfg of legend theme\n *\n * @param theme view theme object\n * @param direction legend direction\n * @returns legend theme cfg\n */\nexport function getLegendThemeCfg(theme: object, direction: string): object {\n  const legendTheme = get(theme, ['components', 'legend'], {});\n  return deepMix({}, get(legendTheme, ['common'], {}), deepMix({}, get(legendTheme, [direction], {})));\n}\n","import { isArray } from '@antv/util';\nimport { PathCommand } from '../../../dependents';\nimport { Point, RangePoint, ShapeVertices } from '../../../interface';\nimport { getSplinePath } from './path';\n\nfunction isValueEmpty(value) {\n  if (value) {\n    return false;\n  }\n  return value === null || value === undefined || isNaN(value);\n}\n\nfunction isYNil(point: Point[] | RangePoint) {\n  if (isArray(point)) {\n    //  area  [{x: 0, y: 1}, {x: 0, y: 2}]\n    return isValueEmpty(point[1].y);\n  }\n  const value = point.y;\n  return isArray(value) ? isValueEmpty(value[0]) : isValueEmpty(value);\n}\n\n/**\n * @ignore\n * y  null/undefined/NaN \n * \n *\n * ```typescript\n * // return [[{x: 1, y: 2}, {x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], true);\n * // return [[{x: 1, y: 2}], [{x: 3, y: 3}]]\n * getPathPoints([{x: 1, y: 2}, {x: 2, y: null}, {x: 3, y: 3}], false);\n * // return [[[{ x: 1, y: 10 }, { x: 2, y: 2 }], [{ x: 9, y: 34 }, { x: 1, y: 1 }]]]\n * getPathPoints([\n *   [{ x: 1, y: 10 }, { x: 2, y: 2 }],\n *   [{ x: 4, y: 2 }, { x: 8, y: NaN }],\n *   [{ x: 9, y: 34 }, { x: 1, y: 1 }],\n * ], true);\n * ```\n *\n * @param points \n * @param connectNulls \n * @param showSinglePoint \n * @returns \n */\nexport function getPathPoints(points: ShapeVertices, connectNulls: boolean = false, showSinglePoint: boolean = true) {\n  if (!points.length || (points.length === 1 && !showSinglePoint)) {\n    // \n    return [];\n  }\n\n  if (connectNulls) {\n    //  y \n    const filtered = [];\n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      if (!isYNil(point)) {\n        filtered.push(point);\n      }\n    }\n    return [filtered];\n  }\n\n  const result = [];\n  let tmp = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isYNil(point)) {\n      if (tmp.length) {\n        if (!(tmp.length === 1 && !showSinglePoint)) {\n          // \n          result.push(tmp);\n        }\n        tmp = [];\n      }\n    } else {\n      tmp.push(point);\n    }\n  }\n\n  if (tmp.length) {\n    result.push(tmp);\n  }\n  return result;\n}\n\n/**\n *  path\n * @param points\n * @returns\n */\nexport function getViolinPath(points: ShapeVertices): PathCommand[] {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i] as Point;\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n  const first = points[0] as Point;\n  if (first) {\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *   path\n * @param points\n * @returns\n */\nexport function getSmoothViolinPath(points: ShapeVertices): PathCommand[] {\n  const half = points.length / 2;\n  const leftPoints = [];\n  const rightPoints = [];\n  for (let i = 0; i < points.length; i++) {\n    if (i < half) {\n      leftPoints.push(points[i]);\n    } else {\n      rightPoints.push(points[i]);\n    }\n  }\n  const leftPath = getSplinePath(leftPoints, false);\n  const rightPath = getSplinePath(rightPoints, false);\n  if (rightPoints.length) {\n    leftPath.push(['L', rightPoints[0].x, rightPoints[0].y]);\n  }\n  rightPath.shift();\n  const path = leftPath.concat(rightPath);\n  if (leftPoints.length) {\n    path.push(['L', leftPoints[0].x, leftPoints[0].y]);\n  }\n  path.push(['z']);\n  return path;\n}\n","import { deepMix, isNil, get } from '@antv/util';\nimport { ShapeInfo } from '../../../interface';\n\n/**\n * @ignore\n *  Shape \n * @param cfg\n * @param isStroke \n * @param isFill \n * @param [sizeName] lineWidth  r\n * @returns\n */\nexport function getStyle(cfg: ShapeInfo, isStroke: boolean, isFill: boolean, sizeName: string = '') {\n  const { style = {}, defaultStyle, color, size } = cfg;\n  const attrs = {\n    ...defaultStyle,\n    ...style,\n  };\n  if (color) {\n    if (isStroke) {\n      if (!style.stroke) {\n        //  style()  stroke\n        attrs.stroke = color;\n      }\n    }\n\n    if (isFill) {\n      if (!style.fill) {\n        //  style()  fill\n        attrs.fill = color;\n      }\n    }\n  }\n  if (sizeName && isNil(style[sizeName]) && !isNil(size)) {\n    //  style()  lineWidth  r \n    attrs[sizeName] = size;\n  }\n\n  return attrs;\n}\n\n/**\n *   \n * @param cfg\n */\nexport function getBackgroundRectStyle(cfg?: ShapeInfo) {\n  return deepMix(\n    {},\n    {\n      // copy from active-region\n      fill: '#CCD6EC',\n      fillOpacity: 0.3,\n    },\n    get(cfg, ['background', 'style'])\n  );\n}\n","import { isArray } from '@antv/util';\nimport { Point, RangePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @example\n * // result: [{x: 20, y: 20}, {x: 20, y: 30}]\n * splitPoints({x: 20,y: [20, 30]});\n * @example\n * // result: [{x: 20, y: 20}, {x: 30, y: 30}]\n * splitPoints({x: [20, 30],y: [20, 30]});\n * @param obj\n */\nexport function splitPoints(obj: RangePoint): Point[] {\n  // y  y  [19, 30] x \n  const x = obj.x;\n  const y = isArray(obj.y) ? obj.y : [obj.y];\n\n  return y.map((eachY, index) => {\n    return {\n      x: isArray(x) ? x[index] : x,\n      y: eachY,\n    };\n  });\n}\n","import { ShapeMarkerCfg } from '../../../interface';\n\nconst LineSymbols = {\n  line: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dot: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  dash: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['L', x + r, y],\n    ];\n  },\n  smooth: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r, y],\n      ['A', r / 2, r / 2, 0, 1, 1, x, y],\n      ['A', r / 2, r / 2, 0, 1, 0, x + r, y],\n    ];\n  },\n  hv: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y - 2.5],\n      ['L', x, y - 2.5],\n      ['L', x, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - r - 1, y + 2.5],\n      ['L', x, y + 2.5],\n      ['L', x, y - 2.5],\n      ['L', x + r + 1, y - 2.5],\n    ];\n  },\n  hvh: (x: number, y: number, r: number) => {\n    return [\n      ['M', x - (r + 1), y + 2.5],\n      ['L', x - r / 2, y + 2.5],\n      ['L', x - r / 2, y - 2.5],\n      ['L', x + r / 2, y - 2.5],\n      ['L', x + r / 2, y + 2.5],\n      ['L', x + r + 1, y + 2.5],\n    ];\n  },\n  vhv: (x: number, y: number) => {\n    //  13px 8px\n    return [\n      ['M', x - 5, y + 2.5],\n      ['L', x - 5, y],\n      ['L', x, y],\n      ['L', x, y - 3],\n      ['L', x, y + 3],\n      ['L', x + 6.5, y + 3],\n    ];\n  },\n};\n\n/**\n * Gets line marker\n * @ignore\n * @param markerCfg\n * @param shapeType\n * @returns  Line  marker \n */\nexport function getLineMarker(markerCfg: ShapeMarkerCfg, shapeType: string) {\n  const { color } = markerCfg;\n  return {\n    symbol: LineSymbols[shapeType],\n    style: {\n      lineWidth: 2,\n      r: 6,\n      stroke: color,\n    },\n  };\n}\n","import { each, isArray } from '@antv/util';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\nimport { Point, Position, RangePoint, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\nimport { getLineMarker } from './util';\n\nfunction getShapeAttrs(cfg: ShapeInfo, smooth?: boolean, constraint?: Position[]) {\n  const { isStack, connectNulls, isInCircle, showSinglePoint } = cfg;\n  const shapeAttrs = getStyle(cfg, true, false, 'lineWidth');\n\n  const points = getPathPoints(cfg.points, connectNulls, showSinglePoint); //  connectNulls  points\n  let path = [];\n  for (let i = 0, len = points.length; i < len; i++) {\n    const eachLinePoints = points[i];\n    path = path.concat(getPath(eachLinePoints, isInCircle, isStack, smooth, constraint, shapeAttrs));\n  }\n  shapeAttrs.path = path;\n\n  return shapeAttrs;\n}\n\n//  path\nfunction getSinglePath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length === 1) {\n    // \n    return [\n      ['M', points[0].x, points[0].y - style.lineWidth / 2],\n      ['L', points[0].x, points[0].y],\n      ['L', points[0].x, points[0].y + style.lineWidth / 2],\n    ];\n  }\n\n  let path;\n  if (!smooth) {\n    path = getLinePath(points, false);\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  } else {\n    // \n    if (isInCircle && points.length) {\n      points.push({ x: points[0].x, y: points[0].y });\n    }\n    path = getSplinePath(points, false, constraint);\n  }\n\n  return path;\n}\n\nfunction getRangePath(\n  points: RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  const topPoints = [];\n  const bottomPoints = [];\n  each(points, (point: RangePoint) => {\n    const result = splitPoints(point);\n    topPoints.push(result[1]); // \n    bottomPoints.push(result[0]); // \n  });\n\n  const topPath = getSinglePath(topPoints, isInCircle, smooth, constraint, style);\n  const bottomPath = getSinglePath(bottomPoints, isInCircle, smooth, constraint, style);\n  if (isStack) {\n    return topPath;\n  }\n  return topPath.concat(bottomPath);\n}\n\n/**\n *  path\n */\nexport function getPath(\n  points: Point[] | RangePoint[],\n  isInCircle: boolean,\n  isStack?: boolean,\n  smooth?: boolean,\n  constraint?: Position[],\n  style?: ShapeAttrs\n) {\n  if (points.length) {\n    const first = points[0];\n\n    return isArray(first.y)\n      ? getRangePath(points as RangePoint[], isInCircle, isStack, smooth, constraint, style)\n      : getSinglePath(points as Point[], isInCircle, smooth, constraint, style);\n  }\n  return [];\n}\n\nconst LineShapeFactory = registerShapeFactory('line', {\n  defaultShapeType: 'line',\n});\n\n// \n// 'line' 'dot'  'dash'  - - -\neach(['line', 'dot', 'dash', 'smooth'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const smooth = shapeType === 'smooth';\n      let constraint;\n      if (smooth) {\n        const { start, end } = this.coordinate;\n        constraint = [\n          [start.x, end.y],\n          [end.x, start.y],\n        ];\n      }\n\n      const attrs = getShapeAttrs(cfg, smooth, constraint);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n        capture: !smooth,\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n\nexport default LineShapeFactory;\n","/* G2  Geometry */\n\nexport const VERSION = '4.1.49';\n\n// \nexport { Chart, View, Event } from './chart'; // Chart, View \nexport { Controller as ComponentController } from './chart/controller/base'; // G2 \nexport { default as TooltipController } from './chart/controller/tooltip'; // G2 tooltip \nexport { default as Geometry } from './geometry/base'; // Geometry \nexport { default as Element } from './geometry/element'; // Element \nexport { default as GeometryLabel } from './geometry/label/base'; // Geometry Label \nexport { Interaction, Action } from './interaction'; // Interaction, Action \nexport { Facet } from './facet'; // Facet \nexport { default as InteractionAction } from './interaction/action/base'; // Interaction Action \n\n//  ComponentController\nexport { registerComponentController } from './chart';\n\n//  Geometry\nexport { registerGeometry } from './chart';\n\n//  Geometry Shape\nexport { registerShape, registerShapeFactory, getShapeFactory } from './geometry/shape/base';\n\n//  Geometry label  Geometry Label \nexport {\n  registerGeometryLabel,\n  registerGeometryLabelLayout,\n  getGeometryLabel,\n  getGeometryLabelLayout,\n} from './geometry/label';\n\n//  interaction\nexport { getInteraction, registerInteraction, registerAction, getActionClass } from './interaction';\n\n//  facet\nexport { getFacet, registerFacet } from './facet';\n\n// \nexport { getTheme, registerTheme } from './theme';\n\n// G engine \nexport { registerEngine, getEngine } from './engine';\n\n// \nexport { registerAnimation, getAnimation } from './animate/animation';\n\nexport { LAYER, DIRECTION } from './constant';\n\n//  typescript  export * as \nimport * as Types from './interface';\nexport type { Types };\n\nexport { IGroup, ShapeAttrs, Coordinate, Scale, ScaleConfig } from './dependents';\n\n// \nimport { getMappingValue } from './util/attr';\nimport { getLegendItems } from './util/legend';\nimport { getAngle, getSectorPath, polarToCartesian } from './util/graphics';\nimport { rotate, transform, translate, zoom } from './util/transform';\nimport { getTooltipItems } from './util/tooltip';\nimport { getDelegationObject } from './interaction/action/util';\nimport { getPathPoints } from './geometry/shape/util/get-path-points';\nimport { getPath } from './geometry/shape/line';\n\nexport const Util = {\n  getLegendItems,\n  translate,\n  rotate,\n  zoom,\n  transform,\n  getAngle,\n  getSectorPath,\n  polarToCartesian,\n  getDelegationObject,\n  getTooltipItems,\n  getMappingValue,\n  // shape \n  getPath,\n  getPathPoints,\n};\n","import { StyleSheetCfg } from '../../interface';\n\nconst WHITE_COLORS = {\n  100: '#000',\n  95: '#0D0D0D',\n  85: '#262626',\n  65: '#595959',\n  45: '#8C8C8C',\n  25: '#BFBFBF',\n  15: '#D9D9D9',\n  6: '#F0F0F0',\n};\n\nconst BLACK_COLORS = {\n  100: '#FFFFFF',\n  95: '#F2F2F2',\n  85: '#D9D9D9',\n  65: '#A6A6A6',\n  45: '#737373',\n  25: '#404040',\n  15: '#262626',\n  6: '#0F0F0F',\n};\n\nconst QUALITATIVE_10 = [\n  '#5B8FF9',\n  '#5AD8A6',\n  '#5D7092',\n  '#F6BD16',\n  '#E86452',\n  '#6DC8EC',\n  '#945FB9',\n  '#FF9845',\n  '#1E9493',\n  '#FF99C3',\n];\n\nconst QUALITATIVE_20 = [\n  '#5B8FF9',\n  '#CDDDFD',\n  '#5AD8A6',\n  '#CDF3E4',\n  '#5D7092',\n  '#CED4DE',\n  '#F6BD16',\n  '#FCEBB9',\n  '#E86452',\n  '#F8D0CB',\n  '#6DC8EC',\n  '#D3EEF9',\n  '#945FB9',\n  '#DECFEA',\n  '#FF9845',\n  '#FFE0C7',\n  '#1E9493',\n  '#BBDEDE',\n  '#FF99C3',\n  '#FFE0ED',\n];\n\n/**  */\nconst SINGLE_SEQUENCE = [\n  '#B8E1FF',\n  '#9AC5FF',\n  '#7DAAFF',\n  '#5B8FF9',\n  '#3D76DD',\n  '#085EC0',\n  '#0047A5',\n  '#00318A',\n  '#001D70',\n];\n\nexport const createDarkStyleSheet = (cfg: StyleSheetCfg = {}) => {\n  const { paletteQualitative10 = QUALITATIVE_10, paletteQualitative20 = QUALITATIVE_20 } = cfg;\n  const { brandColor = paletteQualitative10[0] } = cfg;\n\n  const token = {\n    /**  */\n    backgroundColor: '#141414',\n    /**  */\n    brandColor,\n    /**  */\n    subColor: 'rgba(255,255,255,0.05)',\n    /**  1 10  */\n    paletteQualitative10,\n    /**  2 10  */\n    paletteQualitative20,\n    /**  */\n    paletteSemanticRed: '#F4664A',\n    /**  */\n    paletteSemanticGreen: '#30BF78',\n    /**  */\n    paletteSemanticYellow: '#FAAD14',\n    /** () */\n    paletteSequence: SINGLE_SEQUENCE,\n    /**  */\n    fontFamily: `\"Segoe UI\", Roboto, \"Helvetica Neue\", Arial,\n    \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\",\n    \"Noto Color Emoji\"`,\n\n    // --------------------  --------------------\n    /**  */\n    axisLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisLineBorder: 1,\n    /**  lineDash  */\n    axisLineDash: null,\n\n    /**  */\n    axisTitleTextFillColor: BLACK_COLORS[65],\n    /**  */\n    axisTitleTextFontSize: 12,\n    /**  */\n    axisTitleTextLineHeight: 12,\n    /**  */\n    axisTitleTextFontWeight: 'normal',\n    /**  */\n    axisTitleSpacing: 12,\n\n    /**  */\n    axisTickLineBorderColor: BLACK_COLORS[25],\n    /**  */\n    axisTickLineLength: 4,\n    /**  */\n    axisTickLineBorder: 1,\n\n    /**  */\n    axisSubTickLineBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisSubTickLineLength: 2,\n    /**  */\n    axisSubTickLineBorder: 1,\n\n    /**  */\n    axisLabelFillColor: BLACK_COLORS[45],\n    /**  */\n    axisLabelFontSize: 12,\n    /**  */\n    axisLabelLineHeight: 12,\n    /**  */\n    axisLabelFontWeight: 'normal',\n    /**  */\n    axisLabelOffset: 8,\n\n    /**  */\n    axisGridBorderColor: BLACK_COLORS[15],\n    /**  */\n    axisGridBorder: 1,\n    /**  */\n    axisGridLineDash: null,\n\n    // --------------------  --------------------\n    /**  */\n    legendTitleTextFillColor: BLACK_COLORS[45],\n    /**  */\n    legendTitleTextFontSize: 12,\n    /**  */\n    legendTitleTextLineHeight: 21,\n    /**  */\n    legendTitleTextFontWeight: 'normal',\n\n    /**  marker  */\n    legendMarkerColor: QUALITATIVE_10[0],\n    /**  marker  */\n    legendMarkerSpacing: 8,\n    /**  marker  */\n    legendMarkerSize: 4,\n    /**  'circle' marker  */\n    legendCircleMarkerSize: 4,\n    /**  'square' marker  */\n    legendSquareMarkerSize: 4,\n    /**  'line' marker  */\n    legendLineMarkerSize: 5,\n\n    /**  */\n    legendItemNameFillColor: BLACK_COLORS[65],\n    /**  */\n    legendItemNameFontSize: 12,\n    /**  */\n    legendItemNameLineHeight: 12,\n    /**  */\n    legendItemNameFontWeight: 'normal',\n    /**  */\n    legendItemSpacing: 24,\n    /**  */\n    legendItemMarginBottom: 12,\n    /**   */\n    legendSpacing: 16,\n    /**   */\n    legendPadding: [8, 8, 8, 8],\n    /**  */\n    legendHorizontalPadding: [8, 0, 8, 0],\n    /**  */\n    legendVerticalPadding: [0, 8, 0, 8],\n\n    // \n    /**  marker  */\n    legendPageNavigatorMarkerSize: 12,\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerInactiveFillOpacity: 0.45,\n    /**  marker  */\n    legendPageNavigatorMarkerFillColor: BLACK_COLORS[45],\n    /**  marker  */\n    legendPageNavigatorMarkerFillOpacity: 1,\n    /**  */\n    legendPageNavigatorTextFillColor: BLACK_COLORS[65],\n    /**  */\n    legendPageNavigatorTextFontSize: 12,\n\n    /**  */\n    sliderRailFillColor: BLACK_COLORS[15],\n    /**  */\n    sliderRailBorder: 0,\n    /**  */\n    sliderRailBorderColor: null,\n    /**  */\n    sliderRailWidth: 100,\n    /**  */\n    sliderRailHeight: 12,\n\n    /**  */\n    sliderLabelTextFillColor: BLACK_COLORS[45],\n    /**  */\n    sliderLabelTextFontSize: 12,\n    /**  */\n    sliderLabelTextLineHeight: 12,\n    /**  */\n    sliderLabelTextFontWeight: 'normal',\n\n    /**  */\n    sliderHandlerFillColor: WHITE_COLORS[6],\n    /**  */\n    sliderHandlerWidth: 10,\n    /**  */\n    sliderHandlerHeight: 14,\n    /**  */\n    sliderHandlerBorder: 1,\n    /**  */\n    sliderHandlerBorderColor: WHITE_COLORS[25],\n\n    // -------------------- Annotation --------------------\n    /** arc  */\n    annotationArcBorderColor: BLACK_COLORS[15],\n    /** arc  */\n    annotationArcBorder: 1,\n\n    /** line  */\n    annotationLineBorderColor: BLACK_COLORS[25],\n    /** line  */\n    annotationLineBorder: 1,\n    /** lube  */\n    annotationLineDash: null,\n\n    /** text  */\n    annotationTextFillColor: BLACK_COLORS[65],\n    /** text  */\n    annotationTextFontSize: 12,\n    /** text  */\n    annotationTextLineHeight: 12,\n    /** text  */\n    annotationTextFontWeight: 'normal',\n    /** text  */\n    annotationTextBorderColor: null,\n    /** text  */\n    annotationTextBorder: 0,\n\n    /** region  */\n    annotationRegionFillColor: BLACK_COLORS[100],\n    /** region  */\n    annotationRegionFillOpacity: 0.06,\n    /** region  */\n    annotationRegionBorder: 0,\n    /** region  */\n    annotationRegionBorderColor: null,\n\n    /** dataMarker  */\n    annotationDataMarkerLineLength: 16,\n\n    // -------------------- Tooltip --------------------\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorderColor: BLACK_COLORS[25],\n    /** tooltip crosshairs  */\n    tooltipCrosshairsBorder: 1,\n    /** tooltip crosshairs  */\n    tooltipCrosshairsLineDash: null,\n\n    /** tooltip  */\n    tooltipContainerFillColor: '#1f1f1f',\n    tooltipContainerFillOpacity: 0.95,\n    /** tooltip  */\n    tooltipContainerShadow: '0px 2px 4px rgba(0,0,0,.5)',\n    /** tooltip  */\n    tooltipContainerBorderRadius: 3,\n\n    /** tooltip  */\n    tooltipTextFillColor: BLACK_COLORS[65],\n    /** tooltip  */\n    tooltipTextFontSize: 12,\n    /** tooltip  */\n    tooltipTextLineHeight: 12,\n    /** tooltip  */\n    tooltipTextFontWeight: 'bold',\n\n    // -------------------- Geometry labels --------------------\n    /** Geometry label  */\n    labelFillColor: BLACK_COLORS[65],\n    labelFillColorDark: '#2c3542',\n    labelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    labelFontSize: 12,\n    /** Geometry label  */\n    labelLineHeight: 12,\n    /** Geometry label  */\n    labelFontWeight: 'normal',\n    /** Geometry label  */\n    labelBorderColor: null,\n    /** Geometry label  */\n    labelBorder: 0,\n\n    /** Geometry innerLabel  */\n    innerLabelFillColor: WHITE_COLORS[100],\n    /** Geometry innerLabel  */\n    innerLabelFontSize: 12,\n    /** Geometry innerLabel  */\n    innerLabelLineHeight: 12,\n    /** Geometry innerLabel  */\n    innerLabelFontWeight: 'normal',\n    /** Geometry innerLabel  */\n    innerLabelBorderColor: null,\n    /** Geometry innerLabel  */\n    innerLabelBorder: 0,\n\n    /** Geometry label  */\n    overflowLabelFillColor: BLACK_COLORS[65],\n    overflowLabelFillColorDark: '#2c3542',\n    overflowLabelFillColorLight: '#ffffff',\n    /** Geometry label  */\n    overflowLabelFontSize: 12,\n    /** Geometry label  */\n    overflowLabelLineHeight: 12,\n    /** Geometry label  */\n    overflowLabelFontWeight: 'normal',\n    /** Geometry label  */\n    overflowLabelBorderColor: WHITE_COLORS[100],\n    /** Geometry label  */\n    overflowLabelBorder: 1,\n\n    /** Geometry label  */\n    labelLineBorder: 1,\n    /** Geometry label  */\n    labelLineBorderColor: BLACK_COLORS[25],\n\n    // -------------------- Slider --------------------\n    /** slider  */\n    cSliderRailHieght: 16,\n    /** slider  */\n    cSliderBackgroundFillColor: '#416180',\n    /** slider  */\n    cSliderBackgroundFillOpacity: 0.05,\n    /** slider  */\n    cSliderForegroundFillColor: '#5B8FF9',\n    /** slider  */\n    cSliderForegroundFillOpacity: 0.15,\n    // slider handlerStyle \n    /** slider  */\n    cSliderHandlerHeight: 24,\n    /** Slider  */\n    cSliderHandlerWidth: 10,\n    /** Slider  */\n    cSliderHandlerFillColor: '#F7F7F7',\n    /** Slider  */\n    cSliderHandlerFillOpacity: 1,\n    /** Slider  */\n    cSliderHandlerHighlightFillColor: '#FFF',\n    /** Slider  */\n    cSliderHandlerBorderColor: '#BFBFBF',\n    /** Slider  */\n    cSliderHandlerBorder: 1,\n    /** Slider  */\n    cSliderHandlerBorderRadius: 2,\n    // slider textStyle \n    /** Slider  */\n    cSliderTextFillColor: '#fff',\n    /** Slider  */\n    cSliderTextFillOpacity: 0.45,\n    /** Slider  */\n    cSliderTextFontSize: 12,\n    /** Slider  */\n    cSliderTextLineHeight: 12,\n    /** Slider  */\n    cSliderTextFontWeight: 'normal',\n    /** Slider  */\n    cSliderTextBorderColor: null,\n    /** Slider  */\n    cSliderTextBorder: 0,\n\n    // -------------------- Scrollbar --------------------\n    /**   */\n    scrollbarTrackFillColor: 'rgba(255,255,255,0.65)',\n    /**   */\n    scrollbarThumbFillColor: 'rgba(0,0,0,0.35)',\n    /**   */\n    scrollbarThumbHighlightFillColor: 'rgba(0,0,0,0.45)',\n\n    // -------------------- Geometry --------------------\n    /**  */\n    pointFillColor: QUALITATIVE_10[0],\n    /**  */\n    pointFillOpacity: 0.95,\n    /**  */\n    pointSize: 4,\n    /**  */\n    pointBorder: 1,\n    /**  */\n    pointBorderColor: WHITE_COLORS[100],\n    /**  */\n    pointBorderOpacity: 1,\n\n    /**  active  */\n    pointActiveBorderColor: BLACK_COLORS[100],\n\n    /**  selected  */\n    pointSelectedBorder: 2,\n    /**  selected  */\n    pointSelectedBorderColor: BLACK_COLORS[100],\n\n    /**  inactive  */\n    pointInactiveFillOpacity: 0.3,\n    /**  inactive  */\n    pointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    hollowPointSize: 4,\n    /**  */\n    hollowPointBorder: 1,\n    /**  */\n    hollowPointBorderColor: QUALITATIVE_10[0],\n    /**  */\n    hollowPointBorderOpacity: 0.95,\n    hollowPointFillColor: WHITE_COLORS[100],\n\n    /**  active  */\n    hollowPointActiveBorder: 1,\n    /**  active  */\n    hollowPointActiveBorderColor: BLACK_COLORS[100],\n    /**  active  */\n    hollowPointActiveBorderOpacity: 1,\n\n    /**  selected  */\n    hollowPointSelectedBorder: 2,\n    /**  selected  */\n    hollowPointSelectedBorderColor: BLACK_COLORS[100],\n    /**  selected  */\n    hollowPointSelectedBorderOpacity: 1,\n\n    /**  inactive  */\n    hollowPointInactiveBorderOpacity: 0.3,\n\n    /**  */\n    lineBorder: 2,\n    /**  */\n    lineBorderColor: QUALITATIVE_10[0],\n    /**  */\n    lineBorderOpacity: 1,\n\n    /**  Active  */\n    lineActiveBorder: 3,\n\n    /**  selected  */\n    lineSelectedBorder: 3,\n\n    /**  inactive  */\n    lineInactiveBorderOpacity: 0.3,\n\n    /** area  */\n    areaFillColor: QUALITATIVE_10[0],\n    /** area  */\n    areaFillOpacity: 0.25,\n\n    /** area  active  */\n    areaActiveFillColor: QUALITATIVE_10[0],\n    areaActiveFillOpacity: 0.5,\n\n    /** area  selected  */\n    areaSelectedFillColor: QUALITATIVE_10[0],\n    areaSelectedFillOpacity: 0.5,\n\n    /** area inactive  */\n    areaInactiveFillOpacity: 0.3,\n\n    /** hollowArea  */\n    hollowAreaBorderColor: QUALITATIVE_10[0],\n    /** hollowArea  */\n    hollowAreaBorder: 2,\n    /** hollowArea  */\n    hollowAreaBorderOpacity: 1,\n\n    /** hollowArea active  */\n    hollowAreaActiveBorder: 3,\n    hollowAreaActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea selected  */\n    hollowAreaSelectedBorder: 3,\n    hollowAreaSelectedBorderColor: BLACK_COLORS[100],\n\n    /** hollowArea inactive  */\n    hollowAreaInactiveBorderOpacity: 0.3,\n\n    /** interval  */\n    intervalFillColor: QUALITATIVE_10[0],\n    /** interval  */\n    intervalFillOpacity: 0.95,\n\n    /** interval active  */\n    intervalActiveBorder: 1,\n    /** interval active  */\n    intervalActiveBorderColor: BLACK_COLORS[100],\n    intervalActiveBorderOpacity: 1,\n\n    /** interval selected  */\n    intervalSelectedBorder: 2,\n    /** interval selected  */\n    intervalSelectedBorderColor: BLACK_COLORS[100],\n    /** interval selected  */\n    intervalSelectedBorderOpacity: 1,\n\n    /** interval inactive  */\n    intervalInactiveBorderOpacity: 0.3,\n    /** interval inactive  */\n    intervalInactiveFillOpacity: 0.3,\n\n    /** interval  */\n    hollowIntervalBorder: 2,\n    /** hollowInterval  */\n    hollowIntervalBorderColor: QUALITATIVE_10[0],\n    /** hollowInterval  */\n    hollowIntervalBorderOpacity: 1,\n    hollowIntervalFillColor: WHITE_COLORS[100],\n\n    /** hollowInterval active  */\n    hollowIntervalActiveBorder: 2,\n    /** hollowInterval active  */\n    hollowIntervalActiveBorderColor: BLACK_COLORS[100],\n\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorder: 3,\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderColor: BLACK_COLORS[100],\n    /** hollowInterval selected  */\n    hollowIntervalSelectedBorderOpacity: 1,\n\n    /** hollowInterval inactive  */\n    hollowIntervalInactiveBorderOpacity: 0.3,\n  };\n\n  return { ...token, ...cfg };\n};\n\nexport const antvDark = createDarkStyleSheet();\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry, { GeometryCfg } from './base';\nimport Element from './element';\n/**  ShapeFactory */\nimport './shape/line';\nimport { isModelChange } from './util/is-model-change';\nimport { diff } from './util/diff';\n\n/** Path  */\nexport interface PathCfg extends GeometryCfg {\n  /**  */\n  connectNulls?: boolean;\n  /**  */\n  showSinglePoint?: boolean;\n}\n\n/**\n * Path \n * \n */\nexport default class Path extends Geometry {\n  public readonly type: string = 'path';\n  public readonly shapeType: string = 'line';\n  /**  */\n  public connectNulls: boolean;\n  /**  */\n  public showSinglePoint: boolean;\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { connectNulls = false, showSinglePoint = true } = cfg;\n    this.connectNulls = connectNulls;\n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   *  Element  PathLineArea Element\n   * @param mappingData\n   * @param [isUpdate]\n   * @returns elements\n   */\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    // Path  element \n    const keyData = new Map<string, MappingDatum[]>();\n    const keyIndex = new Map<string, number>();\n    const keys: string[] = [];\n\n    let index = 0;\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const key = this.getElementId(mappingData);\n      keys.push(key);\n      keyData.set(key, mappingData);\n      keyIndex.set(key, index);\n      index++;\n    }\n\n    this.elements = new Array(index);\n\n    const { added, updated, removed } = diff(this.lastElementsMap, keys);\n\n    for (const key of added) {\n      const mappingData = keyData.get(key);\n      const shapeFactory = this.getShapeFactory();\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const i = keyIndex.get(key);\n      const element = new Element({\n        shapeFactory,\n        container: this.container,\n        offscreenGroup: this.getOffscreenGroup(),\n        elementIndex: i,\n      });\n      element.geometry = this;\n      element.animate = this.animateOption;\n      element.draw(shapeCfg, isUpdate); //  shape\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of updated) {\n      const mappingData = keyData.get(key);\n      const element = this.lastElementsMap[key];\n      const i = keyIndex.get(key);\n      const shapeCfg = this.getShapeInfo(mappingData);\n      const preShapeCfg = element.getModel();\n      if (this.isCoordinateChanged || isModelChange(preShapeCfg, shapeCfg)) {\n        element.animate = this.animateOption;\n        // \n        element.update(shapeCfg); //  element\n      }\n      this.elementsMap[key] = element;\n      this.elements[i] = element;\n    }\n\n    for (const key of removed) {\n      const element = this.lastElementsMap[key];\n      // \n      element.animate = this.animateOption;\n      element.destroy();\n    }\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push({\n        x: obj.x,\n        y: obj.y,\n      });\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n    const { points, data } = this.getPointsAndData(mappingData);\n    shapeCfg.mappingData = mappingData;\n    shapeCfg.data = data;\n    shapeCfg.isStack = !!this.getAdjust('stack');\n    shapeCfg.points = points;\n    shapeCfg.connectNulls = this.connectNulls;\n    shapeCfg.showSinglePoint = this.showSinglePoint;\n\n    return shapeCfg;\n  }\n}\n","import { each } from '@antv/util';\nimport { Coordinate, PathCommand } from '../../../dependents';\nimport { Point, Position, Shape, ShapeInfo } from '../../../interface';\n\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath, getSplinePath } from '../util/path';\n\nfunction getPath(\n  points: Point[],\n  isInCircle: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n): PathCommand[] {\n  let path = [];\n\n  if (points.length) {\n    const topLinePoints = []; // area \n    let bottomLinePoints = []; // area \n    for (let i = 0, len = points.length; i < len; i++) {\n      const point = points[i];\n      topLinePoints.push(point[1]);\n      bottomLinePoints.push(point[0]);\n    }\n    bottomLinePoints = bottomLinePoints.reverse();\n\n    each([topLinePoints, bottomLinePoints], (pointsData, index) => {\n      let subPath = [];\n      const parsedPoints = registeredShape.parsePoints(pointsData);\n      const p1 = parsedPoints[0];\n\n      if (topLinePoints.length === 1 && bottomLinePoints.length === 1) {\n        // \n        subPath =\n          index === 0\n            ? [\n                ['M', p1.x - 0.5, p1.y],\n                ['L', p1.x + 0.5, p1.y],\n              ]\n            : [\n                ['L', p1.x + 0.5, p1.y],\n                ['L', p1.x - 0.5, p1.y],\n              ];\n      } else {\n        if (isInCircle) {\n          parsedPoints.push({ x: p1.x, y: p1.y });\n        }\n        if (smooth) {\n          subPath = getSplinePath(parsedPoints, false, constraint);\n        } else {\n          subPath = getLinePath(parsedPoints, false);\n        }\n        if (index > 0) {\n          subPath[0][0] = 'L';\n        }\n      }\n\n      path = path.concat(subPath);\n    });\n\n    path.push(['Z']);\n  }\n\n  return path;\n}\n\n/**\n * @ignore\n * Gets shape attrs\n * @param cfg\n * @param isStroke\n * @param smooth\n * @param registeredShape\n * @param [constraint]\n * @returns\n */\nexport function getShapeAttrs(\n  cfg: ShapeInfo,\n  isStroke: boolean,\n  smooth: boolean,\n  registeredShape: Shape,\n  constraint?: Position[]\n) {\n  const attrs = getStyle(cfg, isStroke, !isStroke, 'lineWidth');\n  const { connectNulls, isInCircle, points, showSinglePoint } = cfg;\n  const pathPoints = getPathPoints(points, connectNulls, showSinglePoint); //  connectNulls \n\n  let path = [];\n  for (let i = 0, len = pathPoints.length; i < len; i++) {\n    const eachPoints = pathPoints[i];\n    path = path.concat(getPath(eachPoints, isInCircle, smooth, registeredShape, constraint));\n  }\n  attrs.path = path;\n\n  return attrs;\n}\n\n/**\n * @ignore\n * Gets constraint\n * @param coordinate\n * @returns constraint\n */\nexport function getConstraint(coordinate: Coordinate): Position[] {\n  const { start, end } = coordinate;\n  return [\n    [start.x, end.y],\n    [end.x, start.y],\n  ];\n}\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getShapeAttrs } from './util';\n\nconst AreaShapeFactory = registerShapeFactory('area', {\n  defaultShapeType: 'area',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    // area \n    const { x, y0 } = pointInfo;\n    const y = isArray(pointInfo.y) ? pointInfo.y : [y0, pointInfo.y];\n\n    return y.map((yItem: number) => {\n      return {\n        x: x as number,\n        y: yItem,\n      };\n    });\n  },\n});\n\n// Area  shape\nregisterShape('area', 'area', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, false, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default AreaShapeFactory;\n","import { FIELD_ORIGIN } from '../constant';\nimport { MappingDatum } from '../interface';\nimport Path, { PathCfg } from './path';\nimport './shape/area';\n\n/** Area  */\nexport interface AreaCfg extends PathCfg {\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  startOnZero?: boolean;\n}\n\n/**\n * Area \n * \n */\nexport default class Area extends Path {\n  public readonly type: string = 'area';\n  public readonly shapeType: string = 'area';\n  /**  */\n  public readonly generatePoints: boolean = true;\n  /**\n   *  0 \n   * 1.  `true`\n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/ZQqwUCczalrKqGgagOVp.png)\n   * 2.  `false` \n   * ![image](https://gw.alipayobjects.com/zos/rmsportal/yPswkaXvUpCYOdhocGwB.png)\n   */\n  public readonly startOnZero: boolean = true;\n\n  constructor(cfg: AreaCfg) {\n    super(cfg);\n\n    const { startOnZero = true, sortable = false, showSinglePoint = false } = cfg;\n    this.startOnZero = startOnZero; //  true\n    this.sortable = sortable; //  X \n    this.showSinglePoint = showSinglePoint;\n  }\n\n  /**\n   * \n   * @param mappingData \n   */\n  protected getPointsAndData(mappingData: MappingDatum[]) {\n    const points = [];\n    const data = [];\n\n    for (let i = 0, len = mappingData.length; i < len; i++) {\n      const obj = mappingData[i];\n      points.push(obj.points);\n      data.push(obj[FIELD_ORIGIN]);\n    }\n\n    return {\n      points,\n      data,\n    };\n  }\n\n  /**\n   *  Y \n   * @returns y \n   */\n  protected getYMinValue(): number {\n    if (this.startOnZero) {\n      return super.getYMinValue();\n    }\n    const yScale = this.getYScale();\n    return yScale.min;\n  }\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getLinePath } from '../util/path';\nimport { splitPoints } from '../util/split-points';\n\nconst EdgeShapeFactory = registerShapeFactory('edge', {\n  defaultShapeType: 'line',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\nregisterShape('edge', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const path = getLinePath(this.parsePoints(cfg.points), this.coordinate.isPolar);\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n\nexport default EdgeShapeFactory;\n","import Geometry from './base';\nimport './shape/edge';\n\n/**\n * Edge ****\n * 1. \n * 2. \n * 3. \n * 4. \n * 5. \n */\nexport default class Edge extends Geometry {\n  public readonly type: string = 'edge';\n  public readonly shapeType: string = 'edge';\n  protected generatePoints: boolean = true;\n}\n","import ColorUtil from '@antv/color-util';\nimport { get, isNumber } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Color, IShape } from '../dependents';\nimport { Data, Datum, MappingDatum, ShapeInfo, AttributeOption, ColorAttrCallback } from '../interface';\nimport Geometry from './base';\n\n/**\n * \n */\nexport default class Heatmap extends Geometry {\n  public readonly type: string = 'heatmap';\n\n  private paletteCache: Record<number, number> = {};\n  private grayScaleBlurredCanvas: HTMLCanvasElement;\n  private shadowCanvas: HTMLCanvasElement;\n  private imageShape: IShape;\n\n  protected updateElements(mappingDataArray: MappingDatum[][], isUpdate: boolean = false) {\n    for (let i = 0; i < mappingDataArray.length; i++) {\n      const mappingData = mappingDataArray[i];\n      const range = this.prepareRange(mappingData);\n      const radius = this.prepareSize();\n\n      let blur = get(this.styleOption, ['cfg', 'shadowBlur']);\n      if (!isNumber(blur)) {\n        blur = radius / 2;\n      }\n\n      this.prepareGreyScaleBlurredCircle(radius, blur);\n      this.drawWithRange(mappingData, range, radius, blur);\n    }\n  }\n\n  /**  callback  */\n  public color(field: AttributeOption | string, cfg?: string | string[] | ColorAttrCallback): Geometry {\n    this.createAttrOption('color', field, typeof cfg !== 'function' ? cfg : '');\n\n    return this;\n  }\n\n  /**\n   * clear\n   */\n  public clear() {\n    super.clear();\n    this.clearShadowCanvasCtx();\n    this.paletteCache = {};\n  }\n\n  private prepareRange(data: MappingDatum[]) {\n    const colorAttr = this.getAttribute('color');\n    const colorField = colorAttr.getFields()[0];\n\n    let min = Infinity;\n    let max = -Infinity;\n    data.forEach((row) => {\n      const value = row[FIELD_ORIGIN][colorField];\n      if (value > max) {\n        max = value;\n      }\n      if (value < min) {\n        min = value;\n      }\n    });\n\n    if (min === max) {\n      min = max - 1;\n    }\n\n    return [min, max];\n  }\n\n  private prepareSize() {\n    let radius = this.getDefaultValue('size');\n    if (!isNumber(radius)) {\n      radius = this.getDefaultSize();\n    }\n\n    return radius;\n  }\n\n  private prepareGreyScaleBlurredCircle(radius: number, blur: number) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    const r2 = radius + blur;\n    const ctx = grayScaleBlurredCanvas.getContext('2d');\n    grayScaleBlurredCanvas.width = grayScaleBlurredCanvas.height = r2 * 2;\n    ctx.clearRect(0, 0, grayScaleBlurredCanvas.width, grayScaleBlurredCanvas.height);\n    ctx.shadowOffsetX = ctx.shadowOffsetY = r2 * 2;\n    ctx.shadowBlur = blur;\n    ctx.shadowColor = 'black';\n\n    ctx.beginPath();\n    ctx.arc(-r2, -r2, radius, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n  }\n\n  private drawWithRange(data: MappingDatum[], range: number[], radius: number, blur: number) {\n    // canvas size\n    const { start, end } = this.coordinate;\n    const width = this.coordinate.getWidth();\n    const height = this.coordinate.getHeight();\n\n    // value, range, etc\n    const colorAttr = this.getAttribute('color');\n    const valueField = colorAttr.getFields()[0];\n\n    // prepare shadow canvas context\n    this.clearShadowCanvasCtx();\n    const ctx = this.getShadowCanvasCtx();\n    // filter data\n    if (range) {\n      data = data.filter((row) => {\n        return row[FIELD_ORIGIN][valueField] <= range[1] && row[FIELD_ORIGIN][valueField] >= range[0];\n      });\n    }\n\n    // step1. draw points with shadow\n    const scale = this.scales[valueField];\n    for (const obj of data) {\n      const { x, y } = this.getDrawCfg(obj);\n      const alpha = scale.scale(obj[FIELD_ORIGIN][valueField]);\n      this.drawGrayScaleBlurredCircle((x as number) - start.x, (y as number) - end.y, radius + blur, alpha, ctx);\n    }\n\n    // step2. convert pixels\n    const colored = ctx.getImageData(0, 0, width, height);\n    this.clearShadowCanvasCtx();\n    this.colorize(colored);\n    ctx.putImageData(colored, 0, 0);\n    const imageShape = this.getImageShape();\n    imageShape.attr('x', start.x);\n    imageShape.attr('y', end.y);\n    imageShape.attr('width', width);\n    imageShape.attr('height', height);\n    imageShape.attr('img', ctx.canvas);\n    imageShape.set('origin', this.getShapeInfo(data)); // \n  }\n\n  private getDefaultSize() {\n    const position = this.getAttribute('position');\n    const coordinate = this.coordinate;\n    return Math.min(\n      coordinate.getWidth() / (position.scales[0].ticks.length * 4),\n      coordinate.getHeight() / (position.scales[1].ticks.length * 4)\n    );\n  }\n\n  private clearShadowCanvasCtx() {\n    const ctx = this.getShadowCanvasCtx();\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n  }\n\n  private getShadowCanvasCtx() {\n    let canvas = this.shadowCanvas;\n    if (!canvas) {\n      canvas = document.createElement('canvas');\n      this.shadowCanvas = canvas;\n    }\n    canvas.width = this.coordinate.getWidth();\n    canvas.height = this.coordinate.getHeight();\n    return canvas.getContext('2d');\n  }\n\n  private getGrayScaleBlurredCanvas() {\n    if (!this.grayScaleBlurredCanvas) {\n      this.grayScaleBlurredCanvas = document.createElement('canvas');\n    }\n\n    return this.grayScaleBlurredCanvas;\n  }\n\n  private drawGrayScaleBlurredCircle(x: number, y: number, r: number, alpha: number, ctx: CanvasRenderingContext2D) {\n    const grayScaleBlurredCanvas = this.getGrayScaleBlurredCanvas();\n    ctx.globalAlpha = alpha;\n    ctx.drawImage(grayScaleBlurredCanvas, x - r, y - r);\n  }\n\n  private colorize(img: ImageData) {\n    const colorAttr = this.getAttribute('color') as Color;\n    const pixels = img.data;\n    const paletteCache = this.paletteCache;\n    for (let i = 3; i < pixels.length; i += 4) {\n      const alpha = pixels[i]; // get gradient color from opacity value\n      if (isNumber(alpha)) {\n        const palette = paletteCache[alpha] ? paletteCache[alpha] : ColorUtil.rgb2arr(colorAttr.gradient(alpha / 256));\n        pixels[i - 3] = palette[0];\n        pixels[i - 2] = palette[1];\n        pixels[i - 1] = palette[2];\n        pixels[i] = alpha;\n      }\n    }\n  }\n\n  private getImageShape() {\n    let imageShape = this.imageShape;\n    if (imageShape) {\n      return imageShape;\n    }\n    const container = this.container;\n    imageShape = container.addShape({\n      type: 'image',\n      attrs: {},\n    });\n    this.imageShape = imageShape;\n    return imageShape;\n  }\n\n  private getShapeInfo(mappingData: MappingDatum[]): ShapeInfo {\n    const shapeCfg = this.getDrawCfg(mappingData[0]);\n\n    const data = mappingData.map((obj: Datum) => {\n      return obj[FIELD_ORIGIN];\n    });\n\n    return {\n      ...shapeCfg,\n      mappingData,\n      data,\n    };\n  }\n}\n","import { Coordinate } from '@antv/coord';\nimport { isArray, isNil, get } from '@antv/util';\nimport { getAngle, getSectorPath } from '../../../util/graphics';\nimport { PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapePoint } from '../../../interface';\n\n/**\n * @ignore\n * \n * @param pointInfo \n * @param [isPyramid] \n * @returns rect points \n */\nexport function getRectPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  //  4 \n  // 1. x, y \n  // 2. yx\n  // 3. xy\n  // 4. x, y \n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  let xMin;\n  let xMax;\n  if (isArray(x)) {\n    [xMin, xMax] = x;\n  } else {\n    xMin = x - size / 2;\n    xMax = x + size / 2;\n  }\n\n  const points = [\n    { x: xMin, y: yMin },\n    { x: xMin, y: yMax },\n  ];\n\n  // \n  // 1 ---- 2\n  // |      |\n  // 0 ---- 3\n  points.push({ x: xMax, y: yMax }, { x: xMax, y: yMin });\n\n  return points;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param isClosed path \n * @returns  path\n */\nexport function getRectPath(points: Point[], isClosed: boolean = true): PathCommand[] {\n  const path = [];\n  const firstPoint = points[0];\n  path.push(['M', firstPoint.x, firstPoint.y]);\n  for (let i = 1, len = points.length; i < len; i++) {\n    path.push(['L', points[i].x, points[i].y]);\n  }\n  //  shape=\"line\" path  lineCap \n  if (isClosed) {\n    path.push(['L', firstPoint.x, firstPoint.y]); // \n    path.push(['z']);\n  }\n  return path;\n}\n\n/**\n *  rect path  radius\n * @returns  path  arc \n */\nexport function parseRadius(radius: number | number[], minLength: number): number[] {\n  let r1 = 0;\n  let r2 = 0;\n  let r3 = 0;\n  let r4 = 0;\n  if (isArray(radius)) {\n    if (radius.length === 1) {\n      r1 = r2 = r3 = r4 = radius[0];\n    } else if (radius.length === 2) {\n      r1 = r3 = radius[0];\n      r2 = r4 = radius[1];\n    } else if (radius.length === 3) {\n      r1 = radius[0];\n      r2 = r4 = radius[1];\n      r3 = radius[2];\n    } else {\n      r1 = radius[0];\n      r2 = radius[1];\n      r3 = radius[2];\n      r4 = radius[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = radius;\n  }\n\n  //  \n  if (r1 + r2 > minLength) {\n    r1 = r1 ? minLength / (1 + r2 / r1) : 0;\n    r2 = minLength - r1;\n  }\n\n  if (r3 + r4 > minLength) {\n    r3 = r3 ? minLength / (1 + r4 / r3) : 0;\n    r4 = minLength - r3;\n  }\n\n  return [r1 || 0, r2 || 0, r3 || 0, r4 || 0];\n}\n\n/**\n *  interval  path\n * @param cfg \n * @param points  4 \n * @param coordinate \n * @returns  path\n */\nexport function getBackgroundRectPath(cfg: ShapeInfo, points: Point[], coordinate: Coordinate): PathCommand[] {\n  let path = [];\n  if (coordinate.isRect) {\n    const p0 = coordinate.isTransposed\n      ? { x: coordinate.start.x, y: points[0].y }\n      : { x: points[0].x, y: coordinate.start.y };\n    const p1 = coordinate.isTransposed\n      ? { x: coordinate.end.x, y: points[2].y }\n      : { x: points[3].x, y: coordinate.end.y };\n\n    // corner radius of background shape works only in \n    const radius = get(cfg, ['background', 'style', 'radius']);\n    if (radius) {\n      const width = coordinate.isTransposed ? Math.abs(points[0].y - points[2].y) : points[2].x - points[1].x;\n      const height = coordinate.isTransposed ? coordinate.getWidth() : coordinate.getHeight();\n      const [r1, r2, r3, r4] = parseRadius(radius, Math.min(width, height));\n\n      path.push(['M', p0.x, p1.y + r1]);\n      r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p0.x + r1, p1.y]);\n      path.push(['L', p1.x - r2, p1.y]);\n      r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p1.x, p1.y + r2]);\n      path.push(['L', p1.x, p0.y - r3]);\n      r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p1.x - r3, p0.y]);\n      path.push(['L', p0.x + r4, p0.y]);\n      r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    } else {\n      path.push(['M', p0.x, p0.y]);\n      path.push(['L', p1.x, p0.y]);\n      path.push(['L', p1.x, p1.y]);\n      path.push(['L', p0.x, p1.y]);\n      path.push(['L', p0.x, p0.y]);\n    }\n\n    path.push(['z']);\n  }\n\n  if (coordinate.isPolar) {\n    const center = coordinate.getCenter();\n    const { startAngle, endAngle } = getAngle(cfg, coordinate);\n    if (coordinate.type !== 'theta' && !coordinate.isTransposed) {\n      //  path\n      path = getSectorPath(center.x, center.y, coordinate.getRadius(), startAngle, endAngle);\n    } else {\n      const pow = (v) => Math.pow(v, 2);\n      const r1 = Math.sqrt(pow(center.x - points[0].x) + pow(center.y - points[0].y));\n      const r2 = Math.sqrt(pow(center.x - points[2].x) + pow(center.y - points[2].y));\n      //  path coordinate \n      path = getSectorPath(center.x, center.y, r1, coordinate.startAngle, coordinate.endAngle, r2);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  path\n * @param points \n * @param lineCap 'round'\n * @param coor \n * @returns  path\n */\nexport function getIntervalRectPath(points: Point[], lineCap: CanvasLineCap, coor: Coordinate): PathCommand[] {\n  const width = coor.getWidth();\n  const height = coor.getHeight();\n  const isRect = coor.type === 'rect';\n  let path = [];\n  const r = (points[2].x - points[1].x) / 2;\n  const ry = coor.isTransposed ? (r * height) / width : (r * width) / height;\n  if (lineCap === 'round') {\n    if (isRect) {\n      path.push(['M', points[0].x, points[0].y + ry]);\n      path.push(['L', points[1].x, points[1].y - ry]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y - ry]);\n      path.push(['L', points[3].x, points[3].y + ry]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y + ry]);\n    } else {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['L', points[1].x, points[1].y]);\n      path.push(['A', r, r, 0, 0, 1, points[2].x, points[2].y]);\n      path.push(['L', points[3].x, points[3].y]);\n      path.push(['A', r, r, 0, 0, 1, points[0].x, points[0].y]);\n    }\n    path.push(['z']);\n  } else {\n    path = getRectPath(points);\n  }\n  return path;\n}\n\n/**\n * @ignore\n *  funnel  path\n * @param points \n * @param nextPoints \n * @param isPyramid \n * @returns  path\n */\nexport function getFunnelPath(points: Point[], nextPoints: Point[], isPyramid: boolean) {\n  const path = [];\n  if (!isNil(nextPoints)) {\n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', nextPoints[1].x, nextPoints[1].y],\n      ['L', nextPoints[0].x, nextPoints[0].y],\n      ['Z']\n    );\n  } else if (isPyramid) {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', (points[2].x + points[3].x) / 2, (points[2].y + points[3].y) / 2],\n      ['Z']\n    );\n  } else {\n    // \n    path.push(\n      ['M', points[0].x, points[0].y],\n      ['L', points[1].x, points[1].y],\n      ['L', points[2].x, points[2].y],\n      ['L', points[3].x, points[3].y],\n      ['Z']\n    );\n  }\n\n  return path;\n}\n\n/**\n * \n */\nfunction swap<T>(p0: T, p1: T) {\n  return [p1, p0];\n}\n\n/**\n *   \n * - \n */\nexport function getRectWithCornerRadius(points: Point[], coordinate: Coordinate, radius?: number | number[]) {\n  //  \n  let [p0, p1, p2, p3] = [...points];\n  let [r1, r2, r3, r4] = typeof radius === 'number' ? Array(4).fill(radius) : radius;\n\n  if (coordinate.isTransposed) {\n    [p1, p3] = swap(p1, p3);\n  }\n\n  /**\n   * \n   */\n  if (coordinate.isReflect('y')) {\n    [p0, p1] = swap(p0, p1);\n    [p2, p3] = swap(p2, p3);\n  }\n  if (coordinate.isReflect('x')) {\n    [p0, p3] = swap(p0, p3);\n    [p1, p2] = swap(p1, p2);\n  }\n\n  const path = [];\n\n\n  /**\n   *  p1  p2\n   *      \n   *  p0  p3\n   *\n   *  \n   *\n   *  p0  p3               p2  p1\n   *                           \n   *  p1  p2  --> ()  p3  p0\n   */\n  const abs = v => Math.abs(v);\n  [r1, r2, r3, r4] = parseRadius([r1, r2, r3, r4], Math.min(abs(p3.x - p0.x), abs(p1.y - p0.y))).map(d => abs(d));\n\n  if (coordinate.isTransposed) {\n    [r1, r2, r3, r4] = [r4, r1, r2, r3]\n  }\n\n  if (p0.y < p1.y /**  */) {\n    path.push(['M', p3.x, p3.y + r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y + r4]);\n    path.push(['L', p1.x, p1.y - r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0/**  */, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y - r2]);\n    path.push(['L', p3.x, p3.y + r3]);\n    path.push(['z']);\n  } else if (p3.x < p0.x) {\n    path.push(['M', p2.x + r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 0, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 0, p3.x + r3, p3.y]);\n    path.push(['L', p0.x - r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 0, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 0, p1.x - r1, p1.y]);\n    path.push(['L', p2.x + r2, p2.y]);\n    path.push(['z']);\n  } else {\n    path.push(['M', p1.x, p1.y + r1]);\n    r1 !== 0 && path.push(['A', r1, r1, 0, 0, 1, p1.x + r1, p1.y]);\n    path.push(['L', p2.x - r2, p2.y]);\n    r2 !== 0 && path.push(['A', r2, r2, 0, 0, 1, p2.x, p2.y + r2]);\n    path.push(['L', p3.x, p3.y - r3]);\n    r3 !== 0 && path.push(['A', r3, r3, 0, 0, 1, p3.x - r3, p3.y]);\n    path.push(['L', p0.x + r4, p0.y]);\n    r4 !== 0 && path.push(['A', r4, r4, 0, 0, 1, p0.x, p0.y - r4]);\n    path.push(['L', p1.x, p1.y + r1]);\n    path.push(['z']);\n  }\n\n  return path;\n}\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getIntervalRectPath, getRectPoints, getRectWithCornerRadius } from './util';\n\n/** Interval  shape  */\nconst IntervalShapeFactory = registerShapeFactory('interval', {\n  defaultShapeType: 'rect',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return getRectPoints(pointInfo);\n  },\n});\n\n/** Inerval  shape */\nregisterShape('interval', 'rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    let group = container;\n\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    let path;\n    if (style.radius && this.coordinate.isRect) {\n      path = getRectWithCornerRadius(this.parsePoints(cfg.points), this.coordinate, style.radius);\n    } else {\n      path = this.parsePath(getIntervalRectPath(cfg.points as Point[], style.lineCap, this.coordinate));\n    }\n\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default IntervalShapeFactory;\n","import { flatten, isString, valuesOfKey, isNil } from '@antv/util';\nimport { getXDimensionLength } from '../../util/coordinate';\n\n// \nfunction findMinDistance(arr, scale) {\n  const count = arr.length;\n  let sourceArr = arr;\n  if (isString(sourceArr[0])) {\n    //  values \n    sourceArr = arr.map((v: string) => {\n      return scale.translate(v);\n    });\n  }\n  let distance = sourceArr[1] - sourceArr[0];\n  for (let i = 2; i < count; i++) {\n    const tmp = sourceArr[i] - sourceArr[i - 1];\n    if (distance > tmp) {\n      distance = tmp;\n    }\n  }\n  return distance;\n}\n\nfunction getDodgeCount(dataArray, dodgeBy) {\n  if (dodgeBy) {\n    const mergeData = flatten(dataArray);\n    const values = valuesOfKey(mergeData, dodgeBy);\n    return values.length;\n  }\n\n  return dataArray.length;\n}\n\n/** @ignore */\nexport function getDefaultSize(geometry): number {\n  const theme = geometry.theme;\n  const coordinate = geometry.coordinate;\n  const xScale = geometry.getXScale();\n  const xValues = xScale.values;\n  const dataArray = geometry.beforeMappingData;\n  let count: number = xValues.length;\n  const xDimensionLength = getXDimensionLength(geometry.coordinate);\n  // \n  const { intervalPadding, dodgePadding } = geometry;\n  // theme\n  const maxColumnWidth = geometry.maxColumnWidth || theme.maxColumnWidth;\n  const minColumnWidth = geometry.minColumnWidth || theme.minColumnWidth;\n  const columnWidthRatio = geometry.columnWidthRatio || theme.columnWidthRatio;\n  const multiplePieWidthRatio = geometry.multiplePieWidthRatio || theme.multiplePieWidthRatio;\n  const roseWidthRatio = geometry.roseWidthRatio || theme.roseWidthRatio;\n\n  // count\n  if (xScale.isLinear && xValues.length > 1) {\n    // Linear  min, max  count\n    xValues.sort();\n    const interval = findMinDistance(xValues, xScale);\n    count = (xScale.max - xScale.min) / interval;\n    if (xValues.length > count) {\n      count = xValues.length;\n    }\n  }\n\n  const range = xScale.range;\n  let normalizedSize = 1 / count;\n  let wr = 1;\n  if (coordinate.isPolar) {\n    // \n    if (coordinate.isTransposed && count > 1) {\n      // \n      wr = multiplePieWidthRatio;\n    } else {\n      wr = roseWidthRatio;\n    }\n  } else {\n    // \n    if (xScale.isLinear) {\n      normalizedSize *= range[1] - range[0];\n    }\n    wr = columnWidthRatio;\n  }\n\n  // \n  if (!isNil(intervalPadding) && intervalPadding >= 0) {\n    // \n    const normalizedIntervalPadding = intervalPadding / xDimensionLength;\n    normalizedSize = (1 - (count - 1) * normalizedIntervalPadding) / count;\n  } else {\n    // \n    normalizedSize *= wr;\n  }\n  // \n  if (geometry.getAdjust('dodge')) {\n    const dodgeAdjust = geometry.getAdjust('dodge');\n    const dodgeBy = dodgeAdjust.dodgeBy;\n    const dodgeCount = getDodgeCount(dataArray, dodgeBy);\n    if (!isNil(dodgePadding) && dodgePadding >= 0) {\n      // \n      const normalizedDodgePadding = dodgePadding / xDimensionLength;\n      normalizedSize = (normalizedSize - normalizedDodgePadding * (dodgeCount - 1)) / dodgeCount;\n    } else if (!isNil(intervalPadding) && intervalPadding >= 0) {\n      // wr\n      normalizedSize *= wr;\n      normalizedSize = normalizedSize / dodgeCount;\n    } else {\n      // \n      normalizedSize = normalizedSize / dodgeCount;\n    }\n    normalizedSize = normalizedSize >= 0 ? normalizedSize : 0;\n  }\n\n  // \n  if (!isNil(maxColumnWidth) && maxColumnWidth >= 0) {\n    const normalizedMaxColumnWidth = maxColumnWidth / xDimensionLength;\n    if (normalizedSize > normalizedMaxColumnWidth) {\n      normalizedSize = normalizedMaxColumnWidth;\n    }\n  }\n\n  // \bminColumnWidth0\n  if (!isNil(minColumnWidth) && minColumnWidth >= 0) {\n    const normalizedMinColumnWidth = minColumnWidth / xDimensionLength;\n    if (normalizedSize < normalizedMinColumnWidth) {\n      normalizedSize = normalizedMinColumnWidth;\n    }\n  }\n\n  return normalizedSize;\n}\n","import { get } from '@antv/util';\nimport { Datum, MappingDatum, ShapeInfo, LooseObject } from '../interface';\nimport { ShapeAttrs } from '../dependents';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry, { GeometryCfg } from './base';\n/**  ShapeFactory */\nimport './shape/interval';\nimport { getDefaultSize } from './util/shape-size';\nimport { getMaxScale } from '../util/scale';\n\n/** Path  */\nexport interface IntervalCfg extends GeometryCfg {\n  /** shape  Interval Geometry  interval-rect shape  */\n  background?: { style?: ShapeAttrs };\n}\n\n/**\n * Interval \n * \n */\nexport default class Interval extends Geometry {\n  public readonly type: string = 'interval';\n  public readonly shapeType: string = 'interval';\n  /** shape  interval-rect shape  */\n  protected background?: { style?: ShapeAttrs };\n  protected generatePoints: boolean = true;\n\n  constructor(cfg: IntervalCfg) {\n    super(cfg);\n\n    const { background } = cfg;\n    this.background = background;\n  }\n\n  /**\n   *  Shape \n   * @param obj  ->  -> adjust \n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg = super.createShapePointsCfg(obj);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, obj)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n\n  /**\n   *  y  scale \n   *  Y  0  \n   */\n  protected adjustScale() {\n    super.adjustScale();\n    const yScale = this.getYScale();\n    // \n    if (this.coordinate.type === 'theta') {\n      yScale.change({\n        nice: false,\n        min: 0,\n        //  stack yScale  max this.updateStackRange()\n        max: getMaxScale(yScale),\n      });\n    } else {\n      //  0 \n      const scaleDefs = this.scaleDefs;\n      const { field, min, max, type } = yScale;\n      if (type !== 'time') {\n        // time \n        //  Y  0 \n        if (min > 0 && !get(scaleDefs, [field, 'min'])) {\n          yScale.change({\n            min: 0,\n          });\n        }\n        //  0 \n        if (max <= 0 && !get(scaleDefs, [field, 'max'])) {\n          yScale.change({\n            max: 0,\n          });\n        }\n      }\n    }\n  }\n\n  /**\n   * @override\n   */\n  protected getDrawCfg(mappingData: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingData);\n    shapeCfg.background = this.background;\n\n    return shapeCfg;\n  }\n}\n","import Path, { PathCfg } from './path';\n/**  Path  ShapeFactory */\nimport './shape/line';\n\n/**\n * Line \n * \n */\nexport default class Line extends Path {\n  public type: string = 'line';\n\n  constructor(cfg: PathCfg) {\n    super(cfg);\n\n    const { sortable = false } = cfg; //  X \n    this.sortable = sortable;\n  }\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { ShapeInfo } from '../../../interface';\nimport { MarkerSymbols } from '../../../util/marker';\nimport { getStyle } from '../util/get-style';\n\nexport const SHAPES = ['circle', 'square', 'bowtie', 'diamond', 'hexagon', 'triangle', 'triangle-down'];\nexport const HOLLOW_SHAPES = ['cross', 'tick', 'plus', 'hyphen', 'line'];\n\n/**\n * @ignore\n * Draws points\n * @param shape\n * @param cfg\n * @param container\n * @param shapeName\n * @param isStroke\n * @returns points\n */\nexport function drawPoints(\n  shape,\n  cfg: ShapeInfo,\n  container: IGroup,\n  shapeName: string,\n  isStroke: boolean\n): IShape | IGroup {\n  const style = getStyle(cfg, isStroke, !isStroke, 'r');\n  const points = shape.parsePoints(cfg.points);\n  let pointPosition = points[0];\n  if (cfg.isStack) {\n    pointPosition = points[1];\n  } else if (points.length > 1) {\n    const group = container.addGroup();\n    for (const point of points) {\n      group.addShape({\n        type: 'marker',\n        attrs: {\n          ...style,\n          symbol: MarkerSymbols[shapeName] || shapeName,\n          ...point,\n        },\n      });\n    }\n    return group;\n  }\n\n  return container.addShape({\n    type: 'marker',\n    attrs: {\n      ...style,\n      symbol: MarkerSymbols[shapeName] || shapeName,\n      ...pointPosition,\n    },\n  });\n}\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { splitPoints } from '../util/split-points';\nimport { drawPoints, SHAPES } from './util';\n\nconst PointShapeFactory = registerShapeFactory('point', {\n  defaultShapeType: 'hollow-circle',\n  getDefaultPoints(pointInfo: ShapePoint): Point[] {\n    return splitPoints(pointInfo);\n  },\n});\n\neach(SHAPES, (shapeName: string) => {\n  //  shape  hollow-shape\n  registerShape('point', `hollow-${shapeName}`, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n\nexport default PointShapeFactory;\n","import { MappingDatum, ShapeInfo } from '../interface';\nimport Geometry from './base';\n/**  Point  ShapeFactory */\nimport './shape/point';\n\n/**\n * Point \n * \n */\nexport default class Point extends Geometry {\n  public readonly type: string = 'point';\n  public readonly shapeType: string = 'point';\n  protected generatePoints: boolean = true;\n\n  /**\n   * \n   * @param mappingDatum\n   * @returns draw cfg\n   */\n  protected getDrawCfg(mappingDatum: MappingDatum): ShapeInfo {\n    const shapeCfg = super.getDrawCfg(mappingDatum);\n\n    return {\n      ...shapeCfg,\n      isStack: !!this.getAdjust('stack'), // \n    };\n  }\n}\n","import { each, isEmpty, isEqual, last } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getPath(points: any[]) {\n  let flag: any = points[0];\n  let i = 1;\n\n  const path = [['M', flag.x, flag.y]];\n\n  while (i < points.length) {\n    const c: any = points[i];\n    if (c.x !== points[i - 1].x || c.y !== points[i - 1].y) {\n      path.push(['L', c.x, c.y]);\n      if (c.x === flag.x && c.y === flag.y && i < points.length - 1) {\n        flag = points[i + 1];\n        path.push(['Z']);\n        path.push(['M', flag.x, flag.y]);\n        i++;\n      }\n    }\n    i++;\n  }\n\n  if (!isEqual(last(path), flag)) {\n    path.push(['L', flag.x, flag.y]);\n  }\n\n  path.push(['Z']);\n\n  return path;\n}\n\nconst PolygonShapeFactory = registerShapeFactory('polygon', {\n  defaultShapeType: 'polygon',\n  getDefaultPoints(pointInfo: ShapePoint) {\n    const points = [];\n    each(pointInfo.x as number[], (subX, index) => {\n      const subY = pointInfo.y[index];\n      points.push({\n        x: subX,\n        y: subY,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('polygon', 'polygon', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const path = this.parsePath(getPath(cfg.points));\n      return container.addShape('path', {\n        attrs: {\n          ...shapeAttrs,\n          path,\n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default PolygonShapeFactory;\n","import { isArray } from '@antv/util';\nimport { Datum } from '../interface';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/polygon';\n\n/**\n * Polygon \n * \n */\nexport default class Polygon extends Geometry {\n  public readonly type: string = 'polygon';\n  public readonly shapeType: string = 'polygon';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param obj\n   * @returns\n   */\n  protected createShapePointsCfg(obj: Datum) {\n    const cfg: any = super.createShapePointsCfg(obj);\n    let x = cfg.x;\n    let y = cfg.y;\n    let temp;\n    // x y \n    if (!(isArray(x) && isArray(y))) {\n      const xScale = this.getXScale();\n      const yScale = this.getYScale();\n      const xCount = xScale.values.length;\n      const yCount = yScale.values.length;\n      const xOffset = (0.5 * 1) / xCount;\n      const yOffset = (0.5 * 1) / yCount;\n\n      if (xScale.isCategory && yScale.isCategory) {\n        // x,y\n        x = [x - xOffset, x - xOffset, x + xOffset, x + xOffset];\n        y = [y - yOffset, y + yOffset, y + yOffset, y - yOffset];\n      } else if (isArray(x)) {\n        // x \n        temp = x;\n        x = [temp[0], temp[0], temp[1], temp[1]];\n        y = [y - yOffset / 2, y + yOffset / 2, y + yOffset / 2, y - yOffset / 2];\n      } else if (isArray(y)) {\n        // y \n        temp = y;\n        y = [temp[0], temp[1], temp[1], temp[0]];\n        x = [x - xOffset / 2, x - xOffset / 2, x + xOffset / 2, x + xOffset / 2];\n      }\n      cfg.x = x;\n      cfg.y = y;\n    }\n    return cfg;\n  }\n}\n","import { registerShapeFactory } from '../base';\n\nconst SchemaShapeFactory = registerShapeFactory('schema', {\n  defaultShapeType: '', // 'schema' is for some custom shapes, so will not specify defaultShapeType\n});\n\nexport default SchemaShapeFactory;\n","import { LooseObject } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport Geometry from './base';\n/**  ShapeFactory */\nimport './shape/schema';\nimport { getDefaultSize } from './util/shape-size';\n\n/**\n * Schema \n */\nexport default class Schema extends Geometry {\n  public readonly type: string = 'schema';\n  public readonly shapeType: string = 'schema';\n  protected generatePoints: boolean = true;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: LooseObject) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n\n    return cfg;\n  }\n}\n","import { each, max, map, isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg, ViolinShapePoint } from '../../../interface';\nimport { registerShape, registerShapeFactory } from '../base';\nimport { getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\nfunction normalizeSize(arr: number[]) {\n  if (!isArray(arr)) {\n    return [];\n  }\n  const maxValue = max(arr);\n  return map(arr, (num) => num / maxValue);\n}\n\nconst ViolinShapeFactory = registerShapeFactory('violin', {\n  defaultShapeType: 'violin',\n  getDefaultPoints(pointInfo: ViolinShapePoint) {\n    const radius = pointInfo.size / 2;\n    const points = [];\n    const sizeArr = normalizeSize(pointInfo._size);\n\n    each(pointInfo.y as number[], (y, index) => {\n      const offset = sizeArr[index] * radius;\n      const isMin = index === 0;\n      const isMax = index === (pointInfo.y as number[]).length - 1;\n      points.push({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) - offset,\n        y,\n      });\n      points.unshift({\n        isMin,\n        isMax,\n        x: (pointInfo.x as number) + offset,\n        y,\n      });\n    });\n    return points;\n  },\n});\n\nregisterShape('violin', 'violin', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const shapeAttrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...shapeAttrs,\n        path,\n      },\n      name: 'violin',\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n\nexport default ViolinShapeFactory;\n","import { get } from '@antv/util';\nimport { FIELD_ORIGIN } from '../constant';\nimport { Datum, ViolinShapePoint } from '../interface';\nimport { getXDimensionLength } from '../util/coordinate';\nimport { getDefaultSize } from './util/shape-size';\nimport Geometry from './base';\n/**  Path  ShapeFactory */\nimport './shape/violin';\n\n/**\n * Violin \n * \n */\nexport default class Violin extends Geometry<ViolinShapePoint> {\n  public readonly type: string = 'violin';\n  public readonly shapeType: string = 'violin';\n  protected generatePoints: boolean = true;\n  /** size  */\n  private _sizeField: string;\n\n  /**\n   *  Shape \n   * @param record\n   * @returns\n   */\n  protected createShapePointsCfg(record: Datum) {\n    const cfg = super.createShapePointsCfg(record);\n\n    //  shape  size\n    let size;\n    const sizeAttr = this.getAttribute('size');\n    if (sizeAttr) {\n      size = this.getAttributeValues(sizeAttr, record)[0];\n      // \n      const coordinate = this.coordinate;\n      const coordinateWidth = getXDimensionLength(coordinate);\n      size = size / coordinateWidth;\n    } else {\n      if (!this.defaultSize) {\n        this.defaultSize = getDefaultSize(this);\n      }\n      size = this.defaultSize;\n    }\n    cfg.size = size;\n    cfg._size = get(record[FIELD_ORIGIN], [this._sizeField]);\n    return cfg;\n  }\n\n  /**\n   * @override\n   */\n  protected initAttributes() {\n    const { attributeOption } = this;\n    const sizeField = attributeOption.size\n      ? attributeOption.size.fields[0]\n      : this._sizeField\n      ? this._sizeField\n      : 'size';\n    this._sizeField = sizeField;\n    // fixme \n    delete attributeOption.size;\n    super.initAttributes();\n  }\n}\n","import { each } from '@antv/util';\nimport { Point } from '../../../interface';\n\n/**\n * @ignore\n * Gets cpath\n * @param from\n * @param to\n * @returns\n */\nexport function getCPath(from: Point, to: Point) {\n  return ['C', (from.x * 1) / 2 + (to.x * 1) / 2, from.y, (from.x * 1) / 2 + (to.x * 1) / 2, to.y, to.x, to.y];\n}\n\n/**\n * @ignore\n * Gets qpath\n * @param to\n * @param center\n * @returns\n */\nexport function getQPath(to: Point, center: Point) {\n  const points = [];\n  points.push({\n    x: center.x,\n    y: center.y,\n  });\n  points.push(to);\n\n  const sub = ['Q'];\n  each(points, (point) => {\n    sub.push(point.x, point.y);\n  });\n\n  return sub;\n}\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getShapeAttrs(cfg, true, false, this);\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**\n * \n */\nregisterShape('area', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, false, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getConstraint, getShapeAttrs } from './util';\n\n/**  */\nregisterShape('area', 'smooth-line', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const coordinate = this.coordinate;\n    const attrs = getShapeAttrs(cfg, true, true, this, getConstraint(coordinate));\n    const shape = container.addShape({\n      type: 'path',\n      attrs,\n      name: 'area',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number = 5.5) => {\n        return [['M', x - r, y - 4], ['L', x + r, y - 4], ['L', x + r, y + 4], ['L', x - r, y + 4], ['Z']];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { getArcPath } from '../../../util/graphics';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath, getQPath } from './util';\n\nfunction getArcShapePath(from: Point, to: Point, center: Point) {\n  const sub = getQPath(to, center);\n  const path = [['M', from.x, from.y]];\n  path.push(sub);\n  return path;\n}\n\nfunction getArcShapeWeightPath(points: Point[], center: Point) {\n  const arc1 = getQPath(points[1], center);\n  const arc2 = getQPath(points[3], center);\n  const path = [['M', points[0].x, points[0].y]];\n  path.push(arc2);\n  path.push(['L', points[3].x, points[3].y]);\n  path.push(['L', points[2].x, points[2].y]);\n  path.push(arc1);\n  path.push(['L', points[1].x, points[1].y]);\n  path.push(['L', points[0].x, points[0].y]);\n  path.push(['Z']);\n  return path;\n}\n\n// \nregisterShape('edge', 'arc', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n\n    let points = cfg.points as Point[];\n    const type = points.length > 2 ? 'weight' : 'normal';\n    let path;\n    if (cfg.isInCircle) {\n      const center = { x: 0, y: 1 };\n      if (type === 'normal') {\n        path = getArcShapePath(points[0], points[1], center);\n      } else {\n        style.fill = style.stroke;\n        path = getArcShapeWeightPath(points, center);\n      }\n      path = this.parsePath(path);\n\n      return container.addShape('path', {\n        attrs: {\n          ...style,\n          path,\n        },\n      });\n    } else {\n      if (type === 'normal') {\n        points = this.parsePoints(points);\n        path = getArcPath(\n          (points[1].x + points[0].x) / 2,\n          points[0].y,\n          Math.abs(points[1].x - points[0].x) / 2,\n          Math.PI,\n          Math.PI * 2\n        );\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      } else {\n        const c1 = getCPath(points[1], points[3]);\n        const c2 = getCPath(points[2], points[0]);\n\n        path = [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          c1,\n          ['L', points[3].x, points[3].y],\n          ['L', points[2].x, points[2].y],\n          c2,\n          ['Z'],\n        ];\n        path = this.parsePath(path);\n        style.fill = style.stroke;\n\n        return container.addShape('path', {\n          attrs: {\n            ...style,\n            path,\n          },\n        });\n      }\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getCPath } from './util';\n\nfunction getSmoothPath(from: Point, to: Point) {\n  const sub = getCPath(from, to);\n  const path = [['M', from.x, from.y]];\n\n  path.push(sub);\n  return path;\n}\n\nregisterShape('edge', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getSmoothPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nconst CORNER_PERCENT = 1 / 3;\n\nfunction getVHVPath(from: Point, to: Point) {\n  const points = [];\n  points.push({\n    x: from.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push({\n    x: to.x,\n    y: from.y * (1 - CORNER_PERCENT) + to.y * CORNER_PERCENT,\n  });\n  points.push(to);\n\n  const path = [['M', from.x, from.y]];\n  each(points, (point) => {\n    path.push(['L', point.x, point.y]);\n  });\n\n  return path;\n}\n\nregisterShape('edge', 'vhv', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const points = cfg.points;\n    const path = this.parsePath(getVHVPath(points[0] as Point, points[1] as Point));\n    return container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: markerCfg.color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'funnel', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { BACKGROUND_SHAPE } from '../constant';\nimport { getBackgroundRectStyle, getStyle } from '../util/get-style';\nimport { getBackgroundRectPath, getRectPath } from './util';\n\n/**  */\nregisterShape('interval', 'hollow-rect', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    let group = container;\n    const backgroundCfg = cfg?.background;\n    if (backgroundCfg) {\n      group = container.addGroup();\n      const backgroundStyle = getBackgroundRectStyle(cfg);\n      const backgroundPath = getBackgroundRectPath(cfg, this.parsePoints(cfg.points) as Point[], this.coordinate);\n      group.addShape('path', {\n        attrs: {\n          ...backgroundStyle,\n          path: backgroundPath,\n        },\n        zIndex: -1,\n        name: BACKGROUND_SHAPE,\n      });\n    }\n\n    const path = this.parsePath(getRectPath(cfg.points as Point[]));\n    const shape = group.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return backgroundCfg ? group : shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color, isInPolar } = markerCfg;\n    if (isInPolar) {\n      return {\n        symbol: 'circle',\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    }\n\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        stroke: color,\n        fill: null,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getRectPath } from './util';\nimport { omit } from '../../../util/helper';\n\n//  Line \nfunction getLinePoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0 } = pointInfo;\n\n  if (isArray(y)) {\n    return y.map((yItem, idx) => {\n      return {\n        x: isArray(x) ? x[idx] : x,\n        y: yItem,\n      };\n    });\n  }\n\n  //  y0 \n  return [\n    { x: x as number, y: y0 },\n    { x: x as number, y },\n  ];\n}\n\nregisterShape('interval', 'line', {\n  getPoints(shapePoint: ShapePoint) {\n    return getLinePoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false, 'lineWidth');\n    const newStyle = omit({ ...style }, ['fill']);\n    const path = this.parsePath(getRectPath(cfg.points as Point[], false));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...newStyle,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x, y - r],\n          ['L', x, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\nimport { getFunnelPath, getRectPoints } from './util';\n\n/**  */\nregisterShape('interval', 'pyramid', {\n  getPoints(shapePoint: ShapePoint) {\n    shapePoint.size = shapePoint.size * 2; //  size \n    return getRectPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, false, true);\n    const path = this.parsePath(getFunnelPath(cfg.points as Point[], cfg.nextPoints as Point[], true));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\n//  tick shape  6 \nfunction getTickPoints(pointInfo: ShapePoint): Point[] {\n  const { x, y, y0, size } = pointInfo;\n  let yMin;\n  let yMax;\n  if (isArray(y)) {\n    [yMin, yMax] = y;\n  } else {\n    yMin = y0;\n    yMax = y;\n  }\n\n  const xMax = (x as number) + size / 2;\n  const xMin = (x as number) - size / 2;\n\n  // tick \n  // 4 - 1 - 5\n  //     |\n  // 2 - 0 - 3\n  return [\n    { x: x as number, y: yMin },\n    { x: x as number, y: yMax },\n    { x: xMin, y: yMin },\n    { x: xMax, y: yMin },\n    { x: xMin, y: yMax },\n    { x: xMax, y: yMax },\n  ];\n}\n\n//  tick  path\nfunction getTickPath(points: Point[]) {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n  ];\n}\n\n/** I  error bar chart */\nregisterShape('interval', 'tick', {\n  getPoints(shapePoint: ShapePoint) {\n    return getTickPoints(shapePoint);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getTickPath(cfg.points as Point[]));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n      },\n      name: 'interval',\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: (x: number, y: number, r: number) => {\n        return [\n          ['M', x - r / 2, y - r],\n          ['L', x + r / 2, y - r],\n          ['M', x, y - r],\n          ['L', x, y + r],\n          ['M', x - r / 2, y + r],\n          ['L', x + r / 2, y + r],\n        ];\n      },\n      style: {\n        r: 5,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getPathPoints } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\nimport { getLineMarker } from './util';\n\nconst interpolateCallback = (point: Point, nextPoint: Point, shapeType: string) => {\n  const x = point.x as number;\n  const y = point.y as number;\n  const nextX = nextPoint.x as number;\n  const nextY = nextPoint.y as number;\n  let result;\n\n  switch (shapeType) {\n    case 'hv':\n      result = [{ x: nextX, y }];\n      break;\n    case 'vh':\n      result = [{ x, y: nextY }];\n      break;\n    case 'hvh':\n      const middleX = (nextX + x) / 2;\n      result = [\n        { x: middleX, y },\n        { x: middleX, y: nextY },\n      ];\n      break;\n    case 'vhv':\n      const middleY = (y + nextY) / 2;\n      result = [\n        { x, y: middleY },\n        { x: nextX, y: middleY },\n      ];\n      break;\n    default:\n      break;\n  }\n\n  return result;\n};\n\nfunction getInterpolatePoints(points: Point[], shapeType: string) {\n  let result = [];\n  each(points, (point: Point, index) => {\n    const nextPoint = points[index + 1];\n    result.push(point);\n    if (nextPoint) {\n      const interpolatePoint = interpolateCallback(point, nextPoint, shapeType);\n      result = result.concat(interpolatePoint);\n    }\n  });\n  return result;\n}\n\n// pathnull\nfunction getInterpolatePath(points: Point[]) {\n  return points.map((point, index) => {\n    return index === 0 ? ['M', point.x, point.y] : ['L', point.x, point.y];\n  });\n}\n\n// \nfunction getInterpolateShapeAttrs(cfg: ShapeInfo, shapeType: string) {\n  const points = getPathPoints(cfg.points, cfg.connectNulls, cfg.showSinglePoint); //  connectNulls  points\n  let path = [];\n  each(points, (eachLinePoints) => {\n    const interpolatePoints = getInterpolatePoints(eachLinePoints, shapeType);\n    path = path.concat(getInterpolatePath(interpolatePoints));\n  });\n\n  return {\n    ...getStyle(cfg, true, false, 'lineWidth'),\n    path,\n  };\n}\n\n// step line\neach(['hv', 'vh', 'hvh', 'vhv'], (shapeType) => {\n  registerShape('line', shapeType, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      const attrs = getInterpolateShapeAttrs(cfg, shapeType);\n      const shape = container.addShape({\n        type: 'path',\n        attrs,\n        name: 'line',\n      });\n\n      return shape;\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      return getLineMarker(markerCfg, shapeType);\n    },\n  });\n});\n","import { isArray, isNil } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction parseValue(value: number[]) {\n  const array = !isArray(value) ? [value] : value;\n\n  const min = array[0]; // \n  const max = array[array.length - 1]; // \n  const min1 = array.length > 1 ? array[1] : min;\n  const max1 = array.length > 3 ? array[3] : max;\n  const median = array.length > 2 ? array[2] : min1;\n\n  return {\n    min, // \n    max, // \n    min1,\n    max1,\n    median,\n  };\n}\n\nfunction getBoxPoints(x: number | number[], y: number | number[], size: number): Point[] {\n  const halfSize = size / 2;\n  let pointsArray;\n  if (isArray(y)) {\n    // 2\n    const { min, max, median, min1, max1 } = parseValue(y);\n    const minX = (x as number) - halfSize;\n    const maxX = (x as number) + halfSize;\n    pointsArray = [\n      [minX, max],\n      [maxX, max],\n      [x as number, max],\n      [x as number, max1],\n      [minX, min1],\n      [minX, max1],\n      [maxX, max1],\n      [maxX, min1],\n      [x as number, min1],\n      [x as number, min],\n      [minX, min],\n      [maxX, min],\n      [minX, median],\n      [maxX, median],\n    ];\n  } else {\n    // \n    y = isNil(y) ? 0.5 : y;\n    const { min, max, median, min1, max1 } = parseValue(x as number[]);\n    const minY = y - halfSize;\n    const maxY = y + halfSize;\n    pointsArray = [\n      [min, minY],\n      [min, maxY],\n      [min, y],\n      [min1, y],\n      [min1, minY],\n      [min1, maxY],\n      [max1, maxY],\n      [max1, minY],\n      [max1, y],\n      [max, y],\n      [max, minY],\n      [max, maxY],\n      [median, minY],\n      [median, maxY],\n    ];\n  }\n\n  return pointsArray.map((arr) => {\n    return {\n      x: arr[0],\n      y: arr[1],\n    };\n  });\n}\n\nfunction getBoxPath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['M', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['L', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n    ['L', points[4].x, points[4].y], //  z\n    ['Z'],\n    ['M', points[8].x, points[8].y],\n    ['L', points[9].x, points[9].y],\n    ['M', points[10].x, points[10].y],\n    ['L', points[11].x, points[11].y],\n    ['M', points[12].x, points[12].y],\n    ['L', points[13].x, points[13].y],\n  ];\n}\n\n// box shape\nregisterShape('schema', 'box', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getBoxPoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, false);\n    const path = this.parsePath(getBoxPath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y - 6, y - 3, y, y + 3, y + 6];\n        const points = getBoxPoints(x, yValues, r);\n        return [\n          ['M', points[0].x + 1, points[0].y],\n          ['L', points[1].x - 1, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['M', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['L', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n          ['L', points[4].x, points[4].y],\n          ['Z'],\n          ['M', points[8].x, points[8].y],\n          ['L', points[9].x, points[9].y],\n          ['M', points[10].x + 1, points[10].y],\n          ['L', points[11].x - 1, points[11].y],\n          ['M', points[12].x, points[12].y],\n          ['L', points[13].x, points[13].y],\n        ];\n      },\n      style: {\n        r: 6,\n        lineWidth: 1,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { isArray } from '@antv/util';\nimport { IGroup, PathCommand } from '../../../dependents';\nimport { Point, ShapeInfo, ShapeMarkerCfg, ShapePoint } from '../../../interface';\n\nimport { padEnd } from '../../../util/helper';\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getCandleYValues(value: number | number[]) {\n  const array = !isArray(value) ? [value] : value;\n  // \n  const sorted = array.sort((a, b) => b - a);\n  return padEnd(sorted, 4, sorted[sorted.length - 1]);\n}\n\n// get candle shape's key points\nfunction getCandlePoints(x: number, y: number[], size: number): Point[] {\n  const yValues = getCandleYValues(y);\n  return [\n    { x, y: yValues[0] },\n    { x, y: yValues[1] },\n    { x: x - size / 2, y: yValues[2] },\n    { x: x - size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[1] },\n    { x: x + size / 2, y: yValues[2] },\n    { x, y: yValues[2] },\n    { x, y: yValues[3] },\n  ];\n}\n\nfunction getCandlePath(points): PathCommand[] {\n  return [\n    ['M', points[0].x, points[0].y],\n    ['L', points[1].x, points[1].y],\n    ['M', points[2].x, points[2].y],\n    ['L', points[3].x, points[3].y],\n    ['L', points[4].x, points[4].y],\n    ['L', points[5].x, points[5].y],\n    ['Z'],\n    ['M', points[6].x, points[6].y],\n    ['L', points[7].x, points[7].y],\n  ];\n}\n\n// k line shape\nregisterShape('schema', 'candle', {\n  getPoints(shapePoint: ShapePoint) {\n    const { x, y, size } = shapePoint;\n    return getCandlePoints(x as number, y as number[], size);\n  },\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const style = getStyle(cfg, true, true);\n    const path = this.parsePath(getCandlePath(cfg.points));\n    const shape = container.addShape('path', {\n      attrs: {\n        ...style,\n        path,\n        name: 'schema',\n      },\n    });\n\n    return shape;\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol(x: number, y: number, r: number) {\n        const yValues = [y + 7.5, y + 3, y - 3, y - 7.5];\n        const points = getCandlePoints(x, yValues, r);\n        return [\n          ['M', points[0].x, points[0].y],\n          ['L', points[1].x, points[1].y],\n          ['M', points[2].x, points[2].y],\n          ['L', points[3].x, points[3].y],\n          ['L', points[4].x, points[4].y],\n          ['L', points[5].x, points[5].y],\n          ['Z'],\n          ['M', points[6].x, points[6].y],\n          ['L', points[7].x, points[7].y],\n        ];\n      },\n      style: {\n        lineWidth: 1,\n        stroke: color,\n        fill: color,\n        r: 6,\n      },\n    };\n  },\n});\n","import { isEmpty, clamp } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nfunction getRectAttrs(points: any[], size: number) {\n  const width = Math.abs(points[0].x - points[2].x);\n  const height = Math.abs(points[0].y - points[2].y);\n\n  let len = Math.min(width, height);\n  if (size) {\n    len = clamp(size, 0, Math.min(width, height));\n  }\n  len = len / 2;\n  const centerX = (points[0].x + points[2].x) / 2;\n  const centerY = (points[0].y + points[2].y) / 2;\n\n  return {\n    x: centerX - len,\n    y: centerY - len,\n    width: len * 2,\n    height: len * 2,\n  };\n}\n\nregisterShape('polygon', 'square', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    if (!isEmpty(cfg.points)) {\n      const shapeAttrs = getStyle(cfg, true, true);\n      const points = this.parsePoints(cfg.points); // \n      return container.addShape('rect', {\n        attrs: {\n          ...shapeAttrs,\n          ...getRectAttrs(points, cfg.size), //  rect \n        },\n        name: 'polygon',\n      });\n    }\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'square',\n      style: {\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, HOLLOW_SHAPES } from './util';\n\n//  hollowShape\neach(HOLLOW_SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, true);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName],\n        style: {\n          r: 4.5,\n          stroke: color,\n          fill: null,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { registerShape } from '../base';\nimport { getStyle } from '../util/get-style';\n\nregisterShape('point', 'image', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const { r: size } = getStyle(cfg, false, false, 'r');\n    const points = this.parsePoints(cfg.points);\n    let pointPosition = points[0];\n    if (cfg.isStack) {\n      pointPosition = points[1];\n    } else if (points.length > 1) {\n      const group = container.addGroup();\n      for (const point of points) {\n        group.addShape('image', {\n          attrs: {\n            x: (point.x as number) - size / 2,\n            y: (point.y as number) - size,\n            width: size,\n            height: size,\n            img: cfg.shape[1],\n          },\n        });\n      }\n\n      return group;\n    }\n\n    return container.addShape('image', {\n      attrs: {\n        x: (pointPosition.x as number) - size / 2,\n        y: (pointPosition.y as number) - size,\n        width: size,\n        height: size,\n        img: cfg.shape[1],\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4.5,\n        fill: color,\n      },\n    };\n  },\n});\n","import { each } from '@antv/util';\nimport { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\n\nimport { MarkerSymbols } from '../../../util/marker';\nimport { registerShape } from '../base';\nimport { drawPoints, SHAPES } from './util';\n\n//  SHAPES \neach(SHAPES, (shapeName: string) => {\n  registerShape('point', shapeName, {\n    draw(cfg: ShapeInfo, container: IGroup) {\n      return drawPoints(this, cfg, container, shapeName, false);\n    },\n    getMarker(markerCfg: ShapeMarkerCfg) {\n      const { color } = markerCfg;\n      return {\n        symbol: MarkerSymbols[shapeName] || shapeName,\n        style: {\n          r: 4.5,\n          fill: color,\n        },\n      };\n    },\n  });\n});\n","import { IGroup } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, true);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        stroke: null,\n        r: 4,\n        fill: color,\n      },\n    };\n  },\n});\n","import { IGroup, Point } from '../../../dependents';\nimport { ShapeInfo, ShapeMarkerCfg } from '../../../interface';\nimport { registerShape } from '../base';\nimport { getSmoothViolinPath, getViolinPath } from '../util/get-path-points';\nimport { getStyle } from '../util/get-style';\n\n/**\n * \n */\nregisterShape('violin', 'hollow', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n\n/**\n * \n */\nregisterShape('violin', 'hollow-smooth', {\n  draw(cfg: ShapeInfo, container: IGroup) {\n    const attrs = getStyle(cfg, true, false);\n    const path = this.parsePath(getSmoothViolinPath(cfg.points));\n    return container.addShape('path', {\n      attrs: {\n        ...attrs,\n        path,\n      },\n    });\n  },\n  getMarker(markerCfg: ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        r: 4,\n        fill: null,\n        stroke: color,\n      },\n    };\n  },\n});\n","import { get, deepMix, isArray } from '@antv/util';\nimport { Writeable } from '../../util/types';\nimport { MappingDatum, Point } from '../../interface';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, LabelPointCfg, TextAlign } from './interface';\n\n/**\n *  label\n */\nexport default class IntervalLabel extends GeometryLabel {\n  /**\n   *  interval label  value \n   * @param labelCfg\n   */\n  private getLabelValueDir(mappingData: MappingDatum) {\n    // points  x/y  transpose \n    const dim = 'y';\n    const { points } = mappingData;\n\n    return points[0][dim] <= points[2][dim] ? 1 : -1;\n  }\n\n  /**\n   *  interval  label \n   * @param labelCfg\n   * @param index\n   * @param total\n   */\n  protected getLabelOffsetPoint(labelCfg: LabelCfg, index: number, total: number, position?: string) {\n    let point = super.getLabelOffsetPoint(labelCfg, index, total);\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const dim = transposed ? 'x' : 'y';\n    const dir = this.getLabelValueDir(labelCfg.mappingData);\n    point = { ...point, [dim]: point[dim] * dir };\n\n    if (coordinate.isReflect('x')) {\n      point = {\n        ...point,\n        x: point.x * -1,\n      };\n    }\n    if (coordinate.isReflect('y')) {\n      point = {\n        ...point,\n        y: point.y * -1,\n      };\n    }\n\n    return point;\n  }\n\n  /**\n   *  interval label \n   * @param labelCfg\n   */\n  protected getThemedLabelCfg(labelCfg: LabelCfg) {\n    const geometry = this.geometry;\n    const defaultLabelCfg = this.getDefaultLabelCfg();\n    const { theme } = geometry;\n\n    //  interval label position  middle offset  0\n    return deepMix({}, defaultLabelCfg, theme.labels, labelCfg.position === 'middle' ? { offset: 0 } : {}, labelCfg);\n  }\n\n  protected setLabelPosition(\n    labelPointCfg: Writeable<LabelPointCfg>,\n    mappingData: MappingDatum,\n    index: number,\n    position: string\n  ) {\n    const coordinate = this.getCoordinate();\n    const transposed = coordinate.isTransposed;\n    const shapePoints = mappingData.points as Point[];\n    const point0 = coordinate.convert(shapePoints[0]);\n    const point2 = coordinate.convert(shapePoints[2]);\n    const dir = this.getLabelValueDir(mappingData);\n\n    let top;\n    let right;\n    let bottom;\n    let left;\n\n    const shape = isArray(mappingData.shape) ? mappingData.shape[0] : mappingData.shape;\n    if (shape === 'funnel' || shape === 'pyramid') {\n      // \n      const nextPoints = get(mappingData, 'nextPoints');\n      const points = get(mappingData, 'points');\n      if (nextPoints) {\n        // \n        const p0 = coordinate.convert(points[0] as Point);\n        const p1 = coordinate.convert(points[1] as Point);\n        const nextP0 = coordinate.convert(nextPoints[0] as Point);\n        const nextP1 = coordinate.convert(nextPoints[1] as Point);\n\n        // TODO: \n        if (transposed) {\n          top = Math.min(nextP0.y, p0.y);\n          bottom = Math.max(nextP0.y, p0.y);\n          right = (p1.x + nextP1.x) / 2;\n          left = (p0.x + nextP0.x) / 2;\n        } else {\n          top = Math.min((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          bottom = Math.max((p1.y + nextP1.y) / 2, (p0.y + nextP0.y) / 2);\n          right = nextP1.x;\n          left = p0.x;\n        }\n      } else {\n        top = Math.min(point2.y, point0.y);\n        bottom = Math.max(point2.y, point0.y);\n        right = point2.x;\n        left = point0.x;\n      }\n    } else {\n      top = Math.min(point2.y, point0.y);\n      bottom = Math.max(point2.y, point0.y);\n      right = point2.x;\n      left = point0.x;\n    }\n\n    switch (position) {\n      case 'right':\n        labelPointCfg.x = right;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'left':\n        labelPointCfg.x = left;\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', dir > 0 ? 'left' : 'right');\n        break;\n      case 'bottom':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = bottom;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      case 'middle':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = (top + bottom) / 2;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', 'middle');\n        break;\n      case 'top':\n        if (transposed) {\n          labelPointCfg.x = (right + left) / 2;\n        }\n        labelPointCfg.y = top;\n        labelPointCfg.textAlign = get(labelPointCfg, 'textAlign', 'center');\n        labelPointCfg.textBaseline = get(labelPointCfg, 'textBaseline', dir > 0 ? 'bottom' : 'top');\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { each, get, isArray, map, isNumber, isString } from '@antv/util';\nimport { MappingDatum, Point } from '../../interface';\nimport { getDistanceToCenter } from '../../util/coordinate';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport GeometryLabel from './base';\nimport { LabelCfg, LabelItem, PolarLabelItem, LabelPointCfg, Writeable } from './interface';\n\nconst HALF_PI = Math.PI / 2;\n\n/**\n *  label\n */\nexport default class PolarLabel extends GeometryLabel {\n  /**\n   * @override\n   * @desc  label offset\n   * polar & theta coordinate supportstringtype, should transform to number\n   */\n  protected getLabelOffset(offset: number | string): number {\n    const coordinate = this.getCoordinate();\n    let actualOffset = 0;\n    if (isNumber(offset)) {\n      actualOffset = offset;\n    } else if (isString(offset) && offset.indexOf('%') !== -1) {\n      let r = coordinate.getRadius();\n      if (coordinate.innerRadius > 0) {\n        r = r * (1 - coordinate.innerRadius);\n      }\n      actualOffset = parseFloat(offset) * 0.01 * r;\n    }\n\n    return actualOffset;\n  }\n\n  /**\n   * @override\n   *  labelItems,  percent\n   * @param mapppingArray\n   */\n  public getLabelItems(mapppingArray: MappingDatum[]): PolarLabelItem[] {\n    const items = super.getLabelItems(mapppingArray);\n    const yScale = this.geometry.getYScale();\n\n    return map(items, (item) => {\n      if (item && yScale) {\n        const percent = yScale.scale(get(item.data, yScale.field));\n        return { ...item, percent };\n      }\n      return item;\n    });\n  }\n  /**\n   * @override\n   * \n   * @param point\n   */\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    let align;\n    if (point.labelEmit) {\n      align = point.angle <= Math.PI / 2 && point.angle >= -Math.PI / 2 ? 'left' : 'right';\n    } else if (!coordinate.isTransposed) {\n      align = 'center';\n    } else {\n      const center = coordinate.getCenter();\n      const offset = point.offset;\n      if (Math.abs(point.x - center.x) < 1) {\n        align = 'center';\n      } else if (point.angle > Math.PI || point.angle <= 0) {\n        align = offset > 0 ? 'left' : 'right';\n      } else {\n        align = offset > 0 ? 'right' : 'left';\n      }\n    }\n    return align;\n  }\n\n  /**\n   * @override\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   */\n  protected getLabelPoint(labelCfg: LabelCfg, mappingData: MappingDatum, index: number): LabelPointCfg {\n    let factor = 1;\n    let arcPoint;\n    const content = labelCfg.content[index];\n    if (this.isToMiddle(mappingData)) {\n      arcPoint = this.getMiddlePoint(mappingData.points as Point[]);\n    } else {\n      if (labelCfg.content.length === 1 && index === 0) {\n        index = 1;\n      } else if (index === 0) {\n        factor = -1;\n      }\n      arcPoint = this.getArcPoint(mappingData, index);\n    }\n\n    const offset = labelCfg.offset * factor;\n    const middleAngle = this.getPointAngle(arcPoint);\n    const isLabelEmit = labelCfg.labelEmit;\n    const labelPositionCfg: Writeable<LabelPointCfg> = this.getCirclePoint(middleAngle, offset, arcPoint, isLabelEmit);\n    if (labelPositionCfg.r === 0) {\n      // \n      labelPositionCfg.content = '';\n    } else {\n      labelPositionCfg.content = content;\n      labelPositionCfg.angle = middleAngle;\n      labelPositionCfg.color = mappingData.color;\n    }\n\n    labelPositionCfg.rotate = labelCfg.autoRotate\n      ? this.getLabelRotate(middleAngle, offset, isLabelEmit)\n      : labelCfg.rotate;\n    labelPositionCfg.start = {\n      x: arcPoint.x,\n      y: arcPoint.y,\n    };\n    return labelPositionCfg;\n  }\n\n  /**\n   * \n   */\n  protected getArcPoint(mappingData: MappingDatum, index: number = 0): Point {\n    if (!isArray(mappingData.x) && !isArray(mappingData.y)) {\n      return {\n        x: mappingData.x,\n        y: mappingData.y,\n      };\n    }\n\n    return {\n      x: isArray(mappingData.x) ? mappingData.x[index] : mappingData.x,\n      y: isArray(mappingData.y) ? mappingData.y[index] : mappingData.y,\n    };\n  }\n\n  /**\n   * \n   * @param point\n   */\n  protected getPointAngle(point: Point): number {\n    return getAngleByPoint(this.getCoordinate(), point);\n  }\n\n  /**\n   * \n   * @param angle\n   * @param offset\n   * @param point\n   * @param isLabelEmit\n   */\n  protected getCirclePoint(angle: number, offset: number, point: Point, isLabelEmit: boolean) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    let r = getDistanceToCenter(coordinate, point);\n    if (r === 0) {\n      return {\n        ...center,\n        r,\n      };\n    }\n\n    let labelAngle = angle;\n    if (coordinate.isTransposed && r > offset && !isLabelEmit) {\n      const appendAngle = Math.asin(offset / (2 * r));\n      labelAngle = angle + appendAngle * 2;\n    } else {\n      r = r + offset;\n    }\n\n    return {\n      x: center.x + r * Math.cos(labelAngle),\n      y: center.y + r * Math.sin(labelAngle),\n      r,\n    };\n  }\n\n  /**\n   *  label \n   * @param angle\n   * @param offset\n   * @param isLabelEmit\n   */\n  protected getLabelRotate(angle: number, offset: number, isLabelEmit: boolean) {\n    let rotate = angle + HALF_PI;\n    if (isLabelEmit) {\n      rotate -= HALF_PI;\n    }\n    if (rotate) {\n      if (rotate > HALF_PI) {\n        rotate = rotate - Math.PI;\n      } else if (rotate < -HALF_PI) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  // \n  private getMiddlePoint(points: Point[]) {\n    const coordinate = this.getCoordinate();\n    const count = points.length;\n    let middlePoint = {\n      x: 0,\n      y: 0,\n    };\n    each(points, (point: Point) => {\n      middlePoint.x += point.x;\n      middlePoint.y += point.y;\n    });\n    middlePoint.x /= count;\n    middlePoint.y /= count;\n\n    middlePoint = coordinate.convert(middlePoint);\n    return middlePoint;\n  }\n\n  // \n  private isToMiddle(mappingData: MappingDatum) {\n    return (mappingData.x as number[]).length > 2;\n  }\n}\n","import { deepMix, get, isArray } from '@antv/util';\nimport { getAngleByPoint } from '../../util/coordinate';\nimport { polarToCartesian } from '../../util/graphics';\nimport { LabelItem } from './interface';\nimport PolarLabel from './polar';\n\n/**\n *  label\n */\nexport default class PieLabel extends PolarLabel {\n  public defaultLayout = 'distribute';\n\n  protected getDefaultLabelCfg(offset?: number, position?: string) {\n    const cfg = super.getDefaultLabelCfg(offset, position);\n    return deepMix({}, cfg, get(this.geometry.theme, 'pieLabels', {}));\n  }\n\n  /** @override */\n  protected getLabelOffset(offset: string | number): number {\n    return super.getLabelOffset(offset) || 0;\n  }\n\n  protected getLabelRotate(angle: number, offset: number, isLabelLimit: boolean) {\n    let rotate;\n    if (offset < 0) {\n      rotate = angle;\n      if (rotate > Math.PI / 2) {\n        rotate = rotate - Math.PI;\n      }\n      if (rotate < -Math.PI / 2) {\n        rotate = rotate + Math.PI;\n      }\n    }\n    return rotate;\n  }\n\n  protected getLabelAlign(point: LabelItem) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n\n    let align;\n    if (point.angle <= Math.PI / 2 && point.x >= center.x) {\n      align = 'left';\n    } else {\n      align = 'right';\n    }\n    if (point.offset <= 0) {\n      if (align === 'right') {\n        align = 'left';\n      } else {\n        align = 'right';\n      }\n    }\n    return align;\n  }\n\n  protected getArcPoint(point) {\n    return point;\n  }\n\n  protected getPointAngle(point) {\n    const coordinate = this.getCoordinate();\n    const startPoint = {\n      x: isArray(point.x) ? point.x[0] : point.x,\n      y: point.y[0],\n    };\n    const endPoint = {\n      x: isArray(point.x) ? point.x[1] : point.x,\n      y: point.y[1],\n    };\n    let angle;\n    const startAngle = getAngleByPoint(coordinate, startPoint);\n    if (point.points && point.points[0].y === point.points[1].y) {\n      angle = startAngle;\n    } else {\n      let endAngle = getAngleByPoint(coordinate, endPoint);\n      if (startAngle >= endAngle) {\n        // 100% pie slice\n        endAngle = endAngle + Math.PI * 2;\n      }\n      angle = startAngle + (endAngle - startAngle) / 2;\n    }\n    return angle;\n  }\n\n  /** @override */\n  protected getCirclePoint(angle: number, offset: number) {\n    const coordinate = this.getCoordinate();\n    const center = coordinate.getCenter();\n    const r = coordinate.getRadius() + offset;\n    return {\n      ...polarToCartesian(center.x, center.y, r, angle),\n      angle,\n      r,\n    };\n  }\n}\n","import { PolarLabelItem } from '../../interface';\n\n/**\n * \n */\nexport function antiCollision(\n  items: PolarLabelItem[],\n  labelHeight: number,\n  plotRange: { minY: number; maxY: number; minX: number; maxX: number }\n) {\n  const labels = items.filter((item) => !item.invisible);\n\n  // sorted by y, mutable\n  labels.sort((a, b) => a.y - b.y);\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const startY = plotRange.minY;\n  const endY = plotRange.maxY;\n  let totalHeight = Math.abs(startY - endY);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      content: label.content,\n      size: labelHeight,\n      targets: [label.y - startY],\n      pos: null,\n    };\n  });\n\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      box.pos = Math.max(0, box.pos);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + labelHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += labelHeight;\n      i++;\n    });\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\nconst MAX_TIMES = 100;\n\n/** @ignore */\ninterface Bitmap {\n  [key: number]: {\n    [key: number]: boolean;\n  };\n}\n\n/** @ignore */\ninterface GreedyCfg {\n  readonly xGap?: number;\n  readonly yGap?: number;\n}\n\n/**\n * @ignore\n * Greedy \n */\nclass Greedy {\n  public readonly xGap: number;\n  /** optimizing for text overlapping detection: use a min text height as gap */\n  public readonly yGap: number;\n\n  private bitmap: Bitmap = {};\n\n  constructor(cfg: GreedyCfg = {}) {\n    const { xGap = 1, yGap = 8 } = cfg;\n    this.xGap = xGap;\n    this.yGap = yGap;\n  }\n\n  public hasGap(bbox: BBox): boolean {\n    let hasGap = true;\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n        continue;\n      }\n      if (i === minX || i === maxX) {\n        for (let j = minY; j <= maxY; j++) {\n          if (bitmap[i][j]) {\n            hasGap = false;\n            break;\n          }\n        }\n      } else {\n        if (bitmap[i][minY] || bitmap[i][maxY]) {\n          hasGap = false;\n          break;\n        }\n      }\n    }\n    return hasGap;\n  }\n\n  public fillGap(bbox: BBox): void {\n    const bitmap = this.bitmap;\n    const minX = Math.round(bbox.minX);\n    const maxX = Math.round(bbox.maxX);\n    const minY = Math.round(bbox.minY);\n    const maxY = Math.round(bbox.maxY);\n    // filling grid\n    for (let i = minX; i <= maxX; i += 1) {\n      if (!bitmap[i]) {\n        bitmap[i] = {};\n      }\n    }\n    for (let i = minX; i <= maxX; i += this.xGap) {\n      for (let j = minY; j <= maxY; j += this.yGap) {\n        bitmap[i][j] = true;\n      }\n      bitmap[i][maxY] = true;\n    }\n\n    // filling y edges\n    if (this.yGap !== 1) {\n      for (let i = minY; i <= maxY; i += 1) {\n        bitmap[minX][i] = true;\n        bitmap[maxX][i] = true;\n      }\n    }\n\n    // filling x edges\n    if (this.xGap !== 1) {\n      for (let i = minX; i <= maxX; i += 1) {\n        bitmap[i][minY] = true;\n        bitmap[i][maxY] = true;\n      }\n    }\n  }\n\n  public destroy(): void {\n    this.bitmap = {};\n  }\n}\n\nfunction spiralFill(label: IShape, greedy: Greedy, maxTimes: number = MAX_TIMES) {\n  const dt = -1;\n  const { x, y } = label.attr();\n  const bbox = label.getCanvasBBox();\n  const maxDelta = Math.sqrt(bbox.width * bbox.width + bbox.height * bbox.height);\n  let dxdy;\n  let t = -dt;\n  let dx = 0;\n  let dy = 0;\n  const f = (param: number) => {\n    const nt = param * 0.1;\n    return [nt * Math.cos(nt), nt * Math.sin(nt)];\n  };\n\n  if (greedy.hasGap(bbox)) {\n    greedy.fillGap(bbox);\n    return true;\n  }\n  let canFill = false;\n  let times = 0;\n  const accessedCache = {};\n  while (Math.min(Math.abs(dx), Math.abs(dy)) < maxDelta && times < maxTimes) {\n    dxdy = f((t += dt));\n    dx = ~~dxdy[0];\n    dy = ~~dxdy[1];\n    if ((!dx && !dy) || accessedCache[`${dx}-${dy}`]) {\n      continue;\n    }\n    label.attr({ x: x + dx, y: y + dy });\n    if (dx + dy < 0) {\n      label.attr('textAlign', 'right');\n    }\n    times++;\n    if (greedy.hasGap(label.getCanvasBBox())) {\n      greedy.fillGap(label.getCanvasBBox());\n      canFill = true;\n      accessedCache[`${dx}-${dy}`] = true;\n      break;\n    }\n  }\n  return canFill;\n}\n\n/*\n *  label\n *                5\n *        ------------------\n *        |    1   |   0   |\n *    8   4   7\n *        |    2   |   3   |\n *        \n *                 6\n */\nfunction adjustLabelPosition(label: IShape, x: number, y: number, index: number) {\n  const { width, height } = label.getCanvasBBox();\n  const attrs = {\n    x,\n    y,\n    textAlign: 'center',\n  };\n  switch (index) {\n    case 0:\n      attrs.y -= height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 1:\n      attrs.y -= height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 2:\n      attrs.y += height + 1;\n      attrs.x -= 1;\n      attrs.textAlign = 'right';\n      break;\n    case 3:\n      attrs.y += height + 1;\n      attrs.x += 1;\n      attrs.textAlign = 'left';\n      break;\n    case 5:\n      attrs.y -= height * 2 + 2;\n      break;\n    case 6:\n      attrs.y += height * 2 + 2;\n      break;\n    case 7:\n      attrs.x += width + 1;\n      attrs.textAlign = 'left';\n      break;\n    case 8:\n      attrs.x -= width + 1;\n      attrs.textAlign = 'right';\n      break;\n    default:\n      break;\n  }\n  label.attr(attrs);\n  return label.getCanvasBBox();\n}\n\n/**\n * @ignore\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function fixedOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    if (!spiralFill(labelShape, greedy)) {\n      label.remove(true);\n    }\n  });\n  greedy.destroy();\n}\n\n/**\n * @ignore\n * label  label   label  label **** label\n * @param labels  label \n */\nexport function overlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  const greedy = new Greedy();\n  each(labels, (label: IGroup) => {\n    const labelShape = label.find((shape) => shape.get('type') === 'text') as IShape;\n    const { x, y } = labelShape.attr();\n    let canFill = false;\n    for (let i = 0; i <= 8; i++) {\n      const bbox = adjustLabelPosition(labelShape, x, y, i);\n      if (greedy.hasGap(bbox)) {\n        greedy.fillGap(bbox);\n        canFill = true;\n        break;\n      }\n    }\n    if (!canFill) {\n      label.remove(true);\n    }\n  });\n\n  greedy.destroy();\n}\n","import { isNumber } from '@antv/util';\nimport { vec2 } from '@antv/matrix-util';\nimport { BBox, Point } from '../dependents';\n\nconst { dot } = vec2;\ntype Vec2 = [number, number];\n\ntype Box = Pick<BBox, 'x' | 'y' | 'width' | 'height'> & { rotation?: number };\n\n/**\n * \n */\ntype Projection = { min: number; max: number };\n\n/**\n * @private\n * 1. \n */\nfunction getAxes(points: Point[] /**  */): Vec2[] {\n  //   , \n  if (points.length > 4) {\n    return [];\n  }\n  // \n  const vector = (start: Point, end: Point): Vec2 => {\n    return [end.x - start.x, end.y - start.y];\n  };\n\n  //   2 : A -> B, B -> C\n  const AB = vector(points[0], points[1]);\n  const BC = vector(points[1], points[2]);\n\n  return [AB, BC];\n}\n\n/**\n * @private\n * \n * \n */\nfunction rotateAtPoint(point: Point, deg = 0, origin = { x: 0, y: 0 }): Point {\n  const { x, y } = point;\n  return {\n    x: (x - origin.x) * Math.cos(-deg) + (y - origin.y) * Math.sin(-deg) + origin.x,\n    y: (origin.x - x) * Math.sin(-deg) + (y - origin.y) * Math.cos(-deg) + origin.y,\n  };\n}\n\n/**\n * @private\n * \n *\n * @param {Object} box\n */\nfunction getRectPoints(box: Box): Point[] {\n  const points = [\n    { x: box.x, y: box.y },\n    { x: box.x + box.width, y: box.y },\n    { x: box.x + box.width, y: box.y + box.height },\n    { x: box.x, y: box.y + box.height },\n  ];\n\n  const rotation = box.rotation;\n  if (rotation) {\n    return [\n      rotateAtPoint(points[0], rotation, points[0]),\n      rotateAtPoint(points[1], rotation, points[0]),\n      rotateAtPoint(points[2], rotation, points[0]),\n      rotateAtPoint(points[3], rotation, points[0]),\n    ];\n  }\n\n  return points;\n}\n\n/**\n * @private\n * 2. \n *\n * \n * 1 x1 * x2 + y1 * y2\n */\nfunction getProjection(points: Point[] /**  */, axis: Vec2): Projection {\n  // \n  if (points.length > 4) {\n    return { min: 0, max: 0 };\n  }\n\n  const scalars = [];\n  points.forEach((point) => {\n    scalars.push(dot([point.x, point.y], axis));\n  });\n\n  return { min: Math.min(...scalars), max: Math.max(...scalars) };\n}\n\nfunction isProjectionOverlap(projection1: Projection, projection2: Projection): boolean {\n  return projection1.max > projection2.min && projection1.min < projection2.max;\n}\n\nfunction isValidNumber(d: number) {\n  return isNumber(d) && !Number.isNaN(d) && d !== Infinity && d !== -Infinity;\n}\n\nfunction isValidBox(box: Box) {\n  return Object.values(box).every(isValidNumber);\n}\n\n/**\n * \n */\nexport function isIntersectRect(box1: Box, box2: Box, margin: number = 0): boolean {\n  return !(\n    box2.x > box1.x + box1.width + margin ||\n    box2.x + box2.width < box1.x - margin ||\n    box2.y > box1.y + box1.height + margin ||\n    box2.y + box2.height < box1.y - margin\n  );\n}\n\n/**\n * detect whether two shape is intersected, useful when shape is been rotated\n * , \n *\n * - : \n */\nexport function isIntersect(box1: Box, box2: Box) {\n  //  box  box\n  if (!isValidBox(box1) || !isValidBox(box2)) return false;\n\n  // \n  if (!box1.rotation && !box2.rotation) {\n    return isIntersectRect(box1, box2);\n  }\n\n  //  4 \n  const rect1Points = getRectPoints(box1);\n  const rect2Points = getRectPoints(box2);\n\n  // \n  const axes = [...getAxes(rect1Points), ...getAxes(rect2Points)];\n\n  for (let i = 0; i < axes.length; i++) {\n    const axis = axes[i];\n    const projection1 = getProjection(rect1Points, axis);\n    const projection2 = getProjection(rect2Points, axis);\n\n    // \n    if (!isProjectionOverlap(projection1, projection2)) return false;\n  }\n\n  return true;\n}\n","import colorUtil from '@antv/color-util';\n\n// \nconst preset = {\n  '#5B8FF9': true,\n};\n\n// YIQ\n// http://24ways.org/2010/calculating-color-contrast\n// http://www.w3.org/TR/AERT#color-contrast\nexport const isContrastColorWhite = (color: string): boolean => {\n  const rgb = colorUtil.toRGB(color).toUpperCase();\n  if (preset[rgb]) {\n    return preset[rgb];\n  }\n\n  const [r, g, b] = colorUtil.rgb2arr(rgb);\n  const isDark = (r * 299 + g * 587 + b * 114) / 1000 < 128;\n\n  return isDark;\n};\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { IElement, IGroup, IShape } from '../../../../dependents';\nimport { BBox } from '../../../../util/bbox';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\nfunction shouldInShapeSingle(geometry: Geometry, label: IGroup, shape: IElement): boolean {\n  const coordinate = geometry.coordinate;\n  const textShape = findLabelTextShape(label);\n  const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n\n  return coordinate.isTransposed ? shapeBBox.height >= textBBox.height : shapeBBox.width >= textBBox.width;\n}\n\nfunction shouldInShape(geometry: Geometry, labels: IGroup[], shapes: IShape[] | IGroup[]): boolean {\n  const isStack = !!geometry.getAdjust('stack');\n\n  return (\n    isStack ||\n    labels.every((label: IGroup, index: number) => {\n      const shape = shapes[index];\n      return shouldInShapeSingle(geometry, label, shape);\n    })\n  );\n}\n\nfunction moveInShape(geometry: Geometry, label: IGroup, shape: IElement): void {\n  const coordinate = geometry.coordinate;\n  const shapeBBox = BBox.fromObject(shape.getBBox());\n  const textShape = findLabelTextShape(label);\n\n  if (coordinate.isTransposed) {\n    // \n    textShape.attr({\n      x: shapeBBox.minX + shapeBBox.width / 2,\n      textAlign: 'center',\n    });\n  } else {\n    // \n    textShape.attr({\n      y: shapeBBox.minY + shapeBBox.height / 2,\n      textBaseline: 'middle',\n    });\n  }\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalAdjustPosition(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const inShape = shouldInShape(geometry, labels, shapes);\n  if (inShape) {\n    shapes.forEach((shape: IShape | IGroup, index: number) => {\n      const label = labels[index];\n      moveInShape(geometry, label, shape);\n    });\n  }\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pointAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'point') {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { groupBy, keys, map } from '@antv/util';\nimport { IElement, IGroup, IShape, BBox } from '../../../../dependents';\nimport { isIntersect } from '../../../../util/collision-detect';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { findLabelTextShape } from '../../util';\n\n/**\n * point-adjust-position layout \n */\nexport interface PointAdjustPositionLayoutCfg {\n  offset?: number;\n}\n\n/**\n * ( xField ) Label ...\n * @param geometry\n * @param labels\n */\nfunction sortLabels(geometry: Geometry, labels: IGroup[]) {\n  const yField = geometry.getXYFields()[1];\n  const result: IGroup[] = [];\n  const sortedLabels = labels.sort((left, right) => left.get('data')[yField] - left.get('data')[yField]);\n\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.shift());\n  }\n  if (sortedLabels.length > 0) {\n    result.push(sortedLabels.pop());\n  }\n  result.push(...sortedLabels);\n\n  return result;\n}\n\nfunction hasSome(dones: IGroup[], current: IGroup, compare: (left: IGroup, right: IGroup) => boolean): boolean {\n  return dones.some((done) => compare(done, current));\n}\n\n/**\n * \n */\nfunction getOverlapArea(a: BBox, b: BBox, margin = 0) {\n  const xOverlap = Math.max(\n    0,\n    Math.min(a.x + a.width + margin, b.x + b.width + margin) - Math.max(a.x - margin, b.x - margin)\n  );\n  const yOverlap = Math.max(\n    0,\n    Math.min(a.y + a.height + margin, b.y + b.height + margin) - Math.max(a.y - margin, b.y - margin)\n  );\n\n  return xOverlap * yOverlap;\n}\n\n/**\n *  Label \n * @param dones\n * @param current\n */\nfunction checkShapeOverlap(dones: IGroup[], current: IGroup): boolean {\n  return hasSome(dones, current, (left, right) => {\n    const leftText = findLabelTextShape(left);\n    const rightText = findLabelTextShape(right);\n\n    return getOverlapArea(leftText.getCanvasBBox(), rightText.getCanvasBBox(), 2) > 0;\n  });\n}\n/**\n *  point geometry \n * @param items\n * @param labels\n * @param shapes\n * @param region\n * @param cfg\n */\nexport function pathAdjustPosition(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg: PointAdjustPositionLayoutCfg\n): void {\n  if (shapes.length === 0) {\n    return;\n  }\n\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || ['path', 'line', 'area'].indexOf(geometry.type) < 0) {\n    return;\n  }\n  const [xField, yField] = geometry.getXYFields();\n  const groupedLabels = groupBy(labels, (label) => label.get('data')[xField]);\n  const dones: IGroup[] = [];\n  const offset = (cfg && cfg.offset) || items[0]?.offset || 12;\n\n  map(keys(groupedLabels).reverse(), (xValue) => {\n    const sortedCollections = sortLabels(geometry, groupedLabels[xValue]);\n    while (sortedCollections.length) {\n      const current = sortedCollections.shift();\n      const textShape = findLabelTextShape(current);\n      if (\n        hasSome(\n          dones,\n          current,\n          (left, right) =>\n            left.get('data')[xField] === right.get('data')[xField] &&\n            left.get('data')[yField] === right.get('data')[yField]\n        )\n      ) {\n        // \n        textShape.set('visible', false);\n        continue;\n      }\n      const upFail = checkShapeOverlap(dones, current);\n      let downFail: boolean = false;\n      if (upFail) {\n        textShape.attr('y', textShape.attr('y') + 2 * offset);\n        downFail = checkShapeOverlap(dones, current);\n      }\n      if (downFail) {\n        textShape.set('visible', false);\n        continue;\n      }\n      dones.push(current);\n    }\n  });\n}\n","import { isString, memoize, values, toString } from '@antv/util';\nimport * as CSS from 'csstype';\nimport { getCanvasContext } from './context';\n\ntype FontFace = CSS.Properties;\n\ntype Font = Pick<FontFace, 'fontFamily' | 'fontWeight' | 'fontStyle' | 'fontVariant'> & {\n  fontSize?: number;\n};\n\n/**\n * \n */\nexport const measureTextWidth = memoize(\n  (text: any, font: Font = {}): number => {\n    const { fontSize, fontFamily, fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    ctx!.font = [fontStyle, fontVariant, fontWeight, `${fontSize}px`, fontFamily].join(' ');\n    return ctx!.measureText(isString(text) ? text : '').width;\n  },\n  (text: any, font: Font = {}) => [text, ...values(font)].join('')\n);\n\n/**\n *  ... \n *  measureText measureText \n * 1.  STEP  maxWidth \n * 2. \n * @param text ,  string,number\n * @param maxWidth\n * @param font\n */\nexport const getEllipsisText = (text: any, maxWidth: number, font?: Font) => {\n  const STEP = 16; //  16\n  const DOT_WIDTH = measureTextWidth('...', font);\n\n  let leftText;\n\n  if (!isString(text)) {\n    leftText = toString(text);\n  } else {\n    leftText = text;\n  }\n\n  let leftWidth = maxWidth;\n\n  const r = []; // \n  let currentText;\n  let currentWidth;\n\n  if (measureTextWidth(text, font) <= maxWidth) {\n    return text;\n  }\n\n  //  step \n  while (true) {\n    // \n    currentText = leftText.substr(0, STEP);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      if (currentWidth > leftWidth) {\n        break;\n      }\n    }\n\n    r.push(currentText);\n\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(STEP);\n\n    // \n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  //  STEP 1 \n  while (true) {\n    // \n    currentText = leftText.substr(0, 1);\n\n    // \n    currentWidth = measureTextWidth(currentText, font);\n\n    // \n    if (currentWidth + DOT_WIDTH > leftWidth) {\n      break;\n    }\n\n    r.push(currentText);\n    // \n    leftWidth -= currentWidth;\n    leftText = leftText.substr(1);\n\n    if (!leftText) {\n      return r.join('');\n    }\n  }\n\n  return `${r.join('')}...`;\n};\n","import { ext } from '@antv/matrix-util';\nimport { Coordinate, IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param vector \n * @param direct \n */\nexport function transformShape(shape: IShape | IGroup, vector: [number, number], direct: string): number[] {\n  let scaledMatrix;\n\n  const [x, y] = vector;\n  shape.applyToMatrix([x, y, 1]);\n  if (direct === 'x') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 1],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 1],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'y') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 1, 100],\n      ['t', x, y],\n    ]);\n  } else if (direct === 'xy') {\n    shape.setMatrix(\n      ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ])\n    );\n    scaledMatrix = ext.transform(shape.getMatrix(), [\n      ['t', -x, -y],\n      ['s', 100, 100],\n      ['t', x, y],\n    ]);\n  }\n  return scaledMatrix;\n}\n\n/**\n * \n * @param element \n * @param animateCfg \n * @param coordinate \n * @param yMinPoint y \n * @param type \n */\nexport function doScaleAnimate(\n  element: IGroup | IShape,\n  animateCfg: GAnimateCfg,\n  coordinate: Coordinate,\n  yMinPoint: Point,\n  type: string\n) {\n  const { start, end } = coordinate;\n  const width = coordinate.getWidth();\n  const height = coordinate.getHeight();\n  let x: number;\n  let y: number;\n\n  if (type === 'y') {\n    x = start.x + width / 2;\n    y = yMinPoint.y < start.y ? yMinPoint.y : start.y;\n  } else if (type === 'x') {\n    x = yMinPoint.x > start.x ? yMinPoint.x : start.x;\n    y = start.y + height / 2;\n  } else if (type === 'xy') {\n    if (coordinate.isPolar) {\n      x = coordinate.getCenter().x;\n      y = coordinate.getCenter().y;\n    } else {\n      x = (start.x + end.x) / 2;\n      y = (start.y + end.y) / 2;\n    }\n  }\n\n  const endMatrix = transformShape(element, [x, y], type);\n  element.animate(\n    {\n      matrix: endMatrix,\n    },\n    animateCfg\n  );\n}\n","import { getArcParams } from '@antv/g-canvas';\nimport { isNumberEqual, isEqual } from '@antv/util';\n\nimport { IShape, PathCommand } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { getArcPath, getSectorPath } from '../../util/graphics';\n\nfunction getAngle(startPoint: number[], arcPath: PathCommand) {\n  let { startAngle, endAngle } = getArcParams(startPoint, arcPath);\n\n  if (!isNumberEqual(startAngle, -Math.PI * 0.5) && startAngle < -Math.PI * 0.5) {\n    startAngle += Math.PI * 2;\n  }\n  if (!isNumberEqual(endAngle, -Math.PI * 0.5) && endAngle < -Math.PI * 0.5) {\n    endAngle += Math.PI * 2;\n  }\n\n  if (arcPath[5] === 0) {\n    //  startAngle  endAngle  G2 \n    [startAngle, endAngle] = [endAngle, startAngle];\n  }\n\n  if (isNumberEqual(startAngle, Math.PI * 1.5)) {\n    startAngle = Math.PI * -0.5;\n  }\n\n  if (isNumberEqual(endAngle, Math.PI * -0.5)) {\n    endAngle = Math.PI * 1.5;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n  };\n}\n\nfunction getArcStartPoint(path: PathCommand) {\n  let startPoint;\n  if (path[0] === 'M' || path[0] === 'L') {\n    startPoint = [path[1], path[2]];\n  } else if (path[0] === 'a' || path[0] === 'A' || path[0] === 'C') {\n    startPoint = [path[path.length - 2], path[path.length - 1]];\n  }\n\n  return startPoint;\n}\n\n/**\n * path \n * 1.  path M, L, A, L, Z\n * 2.  path M, M, A, A, M, Z\n * 3.  path M, A, L, A, L, Z\n * 4.  path M, A, A, M, A, A, M, Z\n * 5. radial-line,  path,  M, A, A, Z\n * 6. radial-line,  path M, A, A, A, A, Z\n * @param path theta  path \n */\nfunction getArcInfo(path: PathCommand[]) {\n  let startAngle;\n  let endAngle;\n\n  const arcPaths = path.filter((command) => {\n    return command[0] === 'A' || command[0] === 'a';\n  });\n\n  if (arcPaths.length === 0) {\n    return {\n      startAngle: 0,\n      endAngle: 0,\n      radius: 0,\n      innerRadius: 0,\n    };\n  }\n\n  const firstArcPathCommand = arcPaths[0];\n  const lastArcPathCommand = arcPaths.length > 1 ? arcPaths[1] : arcPaths[0];\n  const firstIndex = path.indexOf(firstArcPathCommand);\n  const lastIndex = path.indexOf(lastArcPathCommand);\n  const firstStartPoint = getArcStartPoint(path[firstIndex - 1]);\n  const lastStartPoint = getArcStartPoint(path[lastIndex - 1]);\n\n  const { startAngle: firstStartAngle, endAngle: firstEndAngle } = getAngle(firstStartPoint, firstArcPathCommand);\n  const { startAngle: lastStartAngle, endAngle: lastEndAngle } = getAngle(lastStartPoint, lastArcPathCommand);\n\n  if (isNumberEqual(firstStartAngle, lastStartAngle) && isNumberEqual(firstEndAngle, lastEndAngle)) {\n    startAngle = firstStartAngle;\n    endAngle = firstEndAngle;\n  } else {\n    startAngle = Math.min(firstStartAngle, lastStartAngle);\n    endAngle = Math.max(firstEndAngle, lastEndAngle);\n  }\n\n  let radius = firstArcPathCommand[1];\n  let innerRadius = arcPaths[arcPaths.length - 1][1];\n  if (radius < innerRadius) {\n    [radius, innerRadius] = [innerRadius, radius];\n  } else if (radius === innerRadius) {\n    innerRadius = 0;\n  }\n\n  return {\n    startAngle,\n    endAngle,\n    radius,\n    innerRadius,\n  };\n}\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function sectorPathUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs, coordinate } = cfg;\n  const path = (toAttrs as { path: PathCommand[] }).path || [];\n  const pathCommands = path.map((command) => command[0]);\n\n  if (path.length < 1) return;\n\n  const { startAngle: curStartAngle, endAngle: curEndAngle, radius, innerRadius } = getArcInfo(path);\n  const { startAngle: preStartAngle, endAngle: preEndAngle } = getArcInfo(shape.attr('path'));\n\n  const center = coordinate.getCenter();\n  const diffStartAngle = curStartAngle - preStartAngle;\n  const diffEndAngle = curEndAngle - preEndAngle;\n  //  diff  attrs\n  if (diffStartAngle === 0 && diffEndAngle === 0) {\n    shape.attr('path', path);\n    return;\n  }\n\n  shape.animate(\n    (ratio) => {\n      const onFrameStartAngle = preStartAngle + ratio * diffStartAngle;\n      const onFrameEndAngle = preEndAngle + ratio * diffEndAngle;\n      return {\n        ...toAttrs,\n        path:\n          // hack,  /examples/bar/basic/demo/radial-line.ts \n          isEqual(pathCommands, ['M', 'A', 'A', 'Z'])\n            ? getArcPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle)\n            : getSectorPath(center.x, center.y, radius, onFrameStartAngle, onFrameEndAngle, innerRadius),\n      };\n    },\n    {\n      ...animateCfg,\n      callback: () => {\n        //  path  setState() \n        shape.attr('path', path);\n      },\n    }\n  );\n}\n","import { ext } from '@antv/matrix-util';\nimport { each } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nfunction doShapeZoom(shape: IShape | IGroup, animateCfg: GAnimateCfg, type: 'zoomIn' | 'zoomOut') {\n  if (shape.isGroup()) {\n    each((shape as IGroup).getChildren(), (child) => {\n      doShapeZoom(child, animateCfg, type);\n    });\n  } else {\n    const bbox = shape.getBBox();\n    const x = (bbox.minX + bbox.maxX) / 2;\n    const y = (bbox.minY + bbox.maxY) / 2;\n    shape.applyToMatrix([x, y, 1]);\n\n    if (type === 'zoomIn') {\n      // \n      const matrix = ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 0.01, 0.01],\n        ['t', x, y],\n      ]);\n      shape.setMatrix(matrix);\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 100, 100],\n            ['t', x, y],\n          ]),\n        },\n        animateCfg\n      );\n    } else {\n      shape.animate(\n        {\n          matrix: ext.transform(shape.getMatrix(), [\n            ['t', -x, -y],\n            ['s', 0.01, 0.01],\n            ['t', x, y],\n          ]),\n        },\n        {\n          ...animateCfg,\n          callback: () => {\n            shape.remove(true);\n          },\n        }\n      );\n    }\n  }\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomIn');\n}\n\n/**\n * @ignore\n *  shape \n * shape \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function zoomOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  doShapeZoom(shape, animateCfg, 'zoomOut');\n}\n","import { DIRECTION } from '../constant';\nimport { Point } from '../dependents';\nimport { FacetTitle } from '../interface';\n\n/**\n * @ignore\n *  facet title \n */\nexport function getFactTitleConfig(direction: DIRECTION): FacetTitle {\n  if ([DIRECTION.TOP, DIRECTION.BOTTOM].includes(direction)) {\n    return {\n      offsetX: 0,\n      offsetY: direction === DIRECTION.TOP ? -8 : 8,\n      style: {\n        textAlign: 'center',\n        textBaseline: direction === DIRECTION.TOP ? 'bottom' : 'top',\n      },\n    };\n  }\n\n  if ([DIRECTION.LEFT, DIRECTION.RIGHT].includes(direction)) {\n    return {\n      offsetX: direction === DIRECTION.LEFT ? -8 : 8,\n      offsetY: 0,\n      style: {\n        textAlign: direction === DIRECTION.LEFT ? 'right' : 'left',\n        textBaseline: 'middle',\n        rotate: Math.PI / 2, // \n      },\n    };\n  }\n\n  return {};\n}\n\n/**\n * @ignore\n *   \n * @param center\n * @param r\n * @param angle\n */\nexport function getAnglePoint(center: Point, r: number, angle: number): Point {\n  return {\n    x: center.x + r * Math.cos(angle),\n    y: center.y + r * Math.sin(angle),\n  };\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { AxisCfg, CircleCfg, CircleData, Datum } from '../interface';\n\nimport View from '../chart/view';\nimport { DIRECTION } from '../constant';\nimport { getAnglePoint, getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Circle extends Facet<CircleCfg, CircleData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'circle',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   *  region\n   * @param count\n   * @param index\n   */\n  protected getRegion(count: number, index: number) {\n    const r = 1 / 2; // \n    // \n    const center = { x: 0.5, y: 0.5 };\n    // \n    const avgAngle = (Math.PI * 2) / count;\n\n    // \n    const angle = (-1 * Math.PI) / 2 + avgAngle * index;\n    // TODO \n    const facetR = r / (1 + 1 / Math.sin(avgAngle / 2));\n    // \n    const middle = getAnglePoint(center, r - facetR, angle);\n    const startAngle = (Math.PI * 5) / 4; // \n    const endAngle = (Math.PI * 1) / 4; // \n\n    return {\n      start: getAnglePoint(middle, facetR, startAngle),\n      end: getAnglePoint(middle, facetR, endAngle),\n    };\n  }\n\n  protected afterEachView(view: View, facet: CircleData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: CircleData) {}\n\n  protected generateFacets(data: Datum[]): CircleData[] {\n    const { fields, type } = this.cfg;\n    const [field] = fields;\n    if (!field) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const values = this.getFieldValues(data, field);\n    const count = values.length;\n\n    const rst = [];\n    values.forEach((value: any, index: number) => {\n      const conditions = [{ field, value, values }];\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: CircleData = {\n        type,\n        data: facetData,\n        region: this.getRegion(count, index),\n\n        columnValue: value,\n        columnField: field,\n        columnIndex: index,\n        columnValuesLength: count,\n\n        rowValue: null,\n        rowField: null,\n        rowIndex: 0,\n        rowValuesLength: 1,\n      };\n      rst.push(facet);\n    });\n    return rst;\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: CircleData): object {\n    // \n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: CircleData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, ListCfg, ListData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class List extends Facet<ListCfg, ListData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'list',\n      cols: null, // \n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: ListData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: ListData) {}\n\n  protected generateFacets(data: Datum[]): ListData[] {\n    const { fields } = this.cfg;\n    let { cols } = this.cfg;\n\n    const [columnField] = fields;\n    if (!columnField) {\n      throw new Error('No `fields` specified!');\n    }\n\n    const colValues = this.getFieldValues(data, columnField);\n\n    const count = colValues.length;\n    cols = cols || count; // \n\n    // \n    const rows = this.getPageCount(count, cols);\n    const rst = [];\n\n    colValues.forEach((val, index) => {\n      //  index \n      const { row, col } = this.getRowCol(index, cols);\n\n      const conditions = [{ field: columnField, value: val, values: colValues }];\n\n      const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n      const facet: ListData = {\n        type: this.cfg.type,\n        data: facetData,\n        region: this.getRegion(rows, cols, col, row),\n\n        columnValue: val,\n        rowValue: val,\n        columnField,\n        rowField: null,\n        columnIndex: col,\n        rowIndex: row,\n        columnValuesLength: cols,\n        rowValuesLength: rows,\n\n        total: count,\n      };\n\n      rst.push(facet);\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: ListData): object {\n    //  view \n    if (\n      facet.rowIndex !== facet.rowValuesLength - 1 &&\n      facet.columnValuesLength * facet.rowIndex + facet.columnIndex + 1 + facet.columnValuesLength <= facet.total\n    ) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: ListData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: ListData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  /**\n   * \n   * @param total\n   * @param pageSize\n   */\n  private getPageCount(total: number, pageSize: number): number {\n    return Math.floor((total + pageSize - 1) / pageSize);\n  }\n\n  /**\n   * \n   * @param index\n   * @param pageSize\n   */\n  private getRowCol(index: number, pageSize: number) {\n    const row = Math.floor(index / pageSize);\n    const col = index % pageSize;\n\n    return { row, col };\n  }\n}\n","import { deepMix, each, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MatrixCfg, MatrixData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Matrix extends Facet<MatrixCfg, MatrixData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'matrix',\n      showTitle: false,\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected afterEachView(view: View, facet: MatrixData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: MatrixData) {}\n\n  protected generateFacets(data: Datum[]): MatrixData[] {\n    const { fields, type } = this.cfg;\n\n    // \n    const rowValuesLength = fields.length;\n    const columnValuesLength = rowValuesLength;\n\n    const rst = [];\n    for (let i = 0; i < columnValuesLength; i++) {\n      const columnField = fields[i];\n      for (let j = 0; j < rowValuesLength; j++) {\n        const rowField = fields[j];\n\n        const facet: MatrixData = {\n          type,\n          data,\n          region: this.getRegion(rowValuesLength, columnValuesLength, i, j),\n\n          columnValue: columnField,\n          rowValue: rowField,\n          columnField,\n          rowField,\n          columnIndex: i,\n          rowIndex: j,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      }\n    }\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MatrixData): object {\n    // \n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   * facet title\n   */\n  private renderTitle() {\n    each(this.facets, (facet: MatrixData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, rowValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, MirrorCfg, MirrorData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Mirror extends Facet<MirrorCfg, MirrorData> {\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'mirror',\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n      transpose: false,\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  protected beforeEachView(view: View, facet: MirrorData) {\n    // \n    if (this.cfg.transpose) {\n      if (facet.columnIndex % 2 === 0) {\n        view.coordinate().transpose().reflect('x');\n      } else {\n        view.coordinate().transpose();\n      }\n    } else {\n      if (facet.rowIndex % 2 !== 0) {\n        view.coordinate().reflect('y');\n      }\n    }\n  }\n\n  protected afterEachView(view: View, facet: MirrorData) {\n    this.processAxis(view, facet);\n  }\n\n  protected generateFacets(data: Datum[]): MirrorData[] {\n    const [f] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    let columnField;\n    let rowField;\n\n    if (this.cfg.transpose) {\n      columnField = f;\n      columnValues = this.getFieldValues(data, columnField).slice(0, 2); // \n      columnValuesLength = columnValues.length;\n    } else {\n      rowField = f;\n      rowValues = this.getFieldValues(data, rowField).slice(0, 2); // \n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: MirrorData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // \n    //  view \n    if (facet.columnIndex === 1 || facet.rowIndex === 1) {\n      return {\n        ...option,\n        label: null,\n        title: null,\n      };\n    }\n\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: MirrorData): object {\n    // do nothing\n    return option;\n  }\n\n  private renderTitle() {\n    each(this.facets, (facet: MirrorData, facetIndex: number) => {\n      const { columnValue, rowValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      if (this.cfg.transpose) {\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      } else {\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.title\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n}\n","import { deepMix, each, filter, get } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { AxisCfg, Datum, RectCfg, RectData } from '../interface';\n\nimport View from '../chart/view';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * \n */\nexport default class Rect extends Facet<RectCfg, RectData> {\n  protected afterEachView(view: View, facet: RectData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: RectData) {\n    // do nothing\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'rect',\n      columnTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n      rowTitle: {\n        ...super.getDefaultTitleCfg(),\n      },\n    });\n  }\n\n  public render() {\n    super.render();\n\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  /**\n   * \n   * @param data\n   */\n  protected generateFacets(data: Datum[]): RectData[] {\n    const [columnField, rowField] = this.cfg.fields;\n\n    const rst = [];\n    let columnValuesLength = 1;\n    let rowValuesLength = 1;\n\n    let columnValues: string[] = [''];\n    let rowValues: string[] = [''];\n\n    if (columnField) {\n      columnValues = this.getFieldValues(data, columnField);\n      columnValuesLength = columnValues.length;\n    }\n    if (rowField) {\n      rowValues = this.getFieldValues(data, rowField);\n      rowValuesLength = rowValues.length;\n    }\n\n    // \n    columnValues.forEach((xVal, xIndex) => {\n      rowValues.forEach((yVal, yIndex) => {\n        const conditions = [\n          { field: columnField, value: xVal, values: columnValues },\n          { field: rowField, value: yVal, values: rowValues },\n        ];\n        const facetData = filter(data, this.getFacetDataFilter(conditions));\n\n        const facet: RectData = {\n          type: this.cfg.type,\n          data: facetData,\n          region: this.getRegion(rowValuesLength, columnValuesLength, xIndex, yIndex),\n\n          columnValue: xVal,\n          rowValue: yVal,\n          columnField,\n          rowField,\n          columnIndex: xIndex,\n          rowIndex: yIndex,\n          columnValuesLength,\n          rowValuesLength,\n        };\n        rst.push(facet);\n      });\n    });\n\n    return rst;\n  }\n\n  private renderTitle(): void {\n    each(this.facets, (facet: RectData, facetIndex: number) => {\n      const { columnIndex, rowIndex, columnValuesLength, columnValue, rowValue, view } = facet;\n\n      // top\n      if (rowIndex === 0) {\n        const formatter = get(this.cfg.columnTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['50%', '0%'] as [string, string],\n            content: formatter ? formatter(columnValue) : columnValue,\n          },\n          getFactTitleConfig(DIRECTION.TOP),\n          this.cfg.columnTitle\n        );\n\n        view.annotation().text(config);\n      }\n      // right\n      if (columnIndex === columnValuesLength - 1) {\n        const formatter = get(this.cfg.rowTitle, 'formatter');\n        const config = deepMix(\n          {\n            position: ['100%', '50%'] as [string, string],\n            content: formatter ? formatter(rowValue) : rowValue,\n          },\n          getFactTitleConfig(DIRECTION.RIGHT),\n          this.cfg.rowTitle\n        );\n\n        view.annotation().text(config);\n      }\n    });\n  }\n\n  /**\n   *  x title \n   * @param x\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: RectData): object {\n    // \n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.columnIndex !== Math.floor((facet.columnValuesLength - 1) / 2)) {\n      // \n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n\n  /**\n   *  y title \n   * @param y\n   * @param axes\n   * @param option\n   * @param facet\n   */\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: RectData): object {\n    if (facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    } else if (facet.rowIndex !== Math.floor((facet.rowValuesLength - 1) / 2)) {\n      return {\n        ...option,\n        title: null,\n      };\n    }\n    return option;\n  }\n}\n","/**\n * Create By Bruce Too\n * On 2020-02-10\n */\nimport { assign, deepMix, each, get } from '@antv/util';\nimport View from '../chart/view';\nimport { DIRECTION, VIEW_LIFE_CIRCLE } from '../constant';\nimport { AxisCfg, Condition, Datum, TreeCfg, TreeData } from '../interface';\nimport { getFactTitleConfig } from '../util/facet';\nimport { Facet } from './facet';\n\n/**\n * @ignore\n * Tree Facet\n */\nexport default class Tree extends Facet<TreeCfg, TreeData> {\n  protected afterEachView(view: View, facet: TreeData) {\n    this.processAxis(view, facet);\n  }\n\n  protected beforeEachView(view: View, facet: TreeData) {}\n\n  public init() {\n    super.init();\n    this.view.on(VIEW_LIFE_CIRCLE.AFTER_RENDER, this.afterChartRender);\n  }\n\n  protected getDefaultCfg() {\n    return deepMix({}, super.getDefaultCfg(), {\n      type: 'tree',\n      line: {\n        style: {\n          lineWidth: 1,\n          stroke: '#ddd',\n        },\n        smooth: false,\n      },\n      showTitle: true,\n      title: super.getDefaultTitleCfg(),\n    });\n  }\n\n  protected generateFacets(data: Datum[]): TreeData[] {\n    const fields = this.cfg.fields;\n    if (!fields.length) {\n      throw new Error('Please specify for the fields for rootFacet!');\n    }\n    const rst = [];\n    const rootFacet: TreeData = {\n      type: this.cfg.type,\n      data,\n      region: null,\n      rowValuesLength: this.getRows(),\n      columnValuesLength: 1,\n      rowIndex: 0,\n      columnIndex: 0,\n      rowField: '',\n      columnField: '',\n      rowValue: '',\n      columnValue: '',\n    };\n    rst.push(rootFacet);\n    rootFacet.children = this.getChildFacets(data, 1, rst);\n    this.setRegion(rst);\n    return rst;\n  }\n\n  private setRegion(facets: TreeData[]) {\n    this.forceColIndex(facets);\n    facets.forEach((facet) => {\n      // @ts-ignore \n      facet.region = this.getRegion(facet.rowValuesLength, facet.columnValuesLength, facet.columnIndex, facet.rowIndex);\n    });\n  }\n\n  protected getRegion(rows: number, cols: number, xIndex: number, yIndex: number) {\n    const xWidth = 1 / cols; // x\n    const yWidth = 1 / rows; // y\n\n    const start = {\n      x: xWidth * xIndex,\n      y: yWidth * yIndex,\n    };\n\n    const end = {\n      x: start.x + xWidth,\n      y: start.y + (yWidth * 2) / 3, // 1/3\n    };\n    return {\n      start,\n      end,\n    };\n  }\n\n  private forceColIndex(facets: TreeData[]) {\n    const leafs: TreeData[] = [];\n    let index = 0;\n    facets.forEach((facet) => {\n      if (this.isLeaf(facet)) {\n        leafs.push(facet);\n        // @ts-ignore \n        facet.columnIndex = index;\n        index++;\n      }\n    });\n\n    leafs.forEach((facet) => {\n      // @ts-ignore\n      facet.columnValuesLength = leafs.length;\n    });\n    const maxLevel = this.cfg.fields.length;\n    for (let i = maxLevel - 1; i >= 0; i--) {\n      const levelFacets = this.getFacetsByLevel(facets, i);\n      // var yIndex = maxLevel - i;\n      for (const facet of levelFacets) {\n        if (!this.isLeaf(facet)) {\n          facet.originColIndex = facet.columnIndex;\n          // @ts-ignore\n          facet.columnIndex = this.getRegionIndex(facet.children);\n          // @ts-ignore\n          facet.columnValuesLength = leafs.length;\n        }\n      }\n    }\n  }\n\n  // get facet use level\n  private getFacetsByLevel(facets: TreeData[], level: number) {\n    const rst: TreeData[] = [];\n    facets.forEach((facet) => {\n      if (facet.rowIndex === level) {\n        rst.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  // if the facet has children , make it's column index in the middle of it's children\n  private getRegionIndex(children: TreeData[]) {\n    const first = children[0];\n    const last = children[children.length - 1];\n    return (last.columnIndex - first.columnIndex) / 2 + first.columnIndex;\n  }\n\n  // is  a leaf without children\n  private isLeaf(facet: TreeData) {\n    return !facet.children || !facet.children.length;\n  }\n\n  private getRows() {\n    return this.cfg.fields.length + 1;\n  }\n\n  // get child\n  private getChildFacets(data: Datum[], level: number, arr: TreeData[]) {\n    // [ 'grade', 'class' ]\n    const fields = this.cfg.fields;\n    const length = fields.length;\n    if (length < level) {\n      return;\n    }\n    const rst = [];\n    // get fist level except root node\n    const field = fields[level - 1];\n    // get field value\n    const values = this.getFieldValues(data, field);\n    values.forEach((value, index) => {\n      const conditions = [{ field, value, values } as Condition];\n      const subData = data.filter(this.getFacetDataFilter(conditions));\n      if (subData.length) {\n        const facet: TreeData = {\n          type: this.cfg.type,\n          data: subData,\n          region: null,\n          columnValue: value,\n          rowValue: '',\n          columnField: field,\n          rowField: '',\n          columnIndex: index,\n          rowValuesLength: this.getRows(),\n          columnValuesLength: 1,\n          rowIndex: level,\n          children: this.getChildFacets(subData, level + 1, arr),\n        };\n        rst.push(facet);\n        arr.push(facet);\n      }\n    });\n    return rst;\n  }\n\n  public render() {\n    super.render();\n    if (this.cfg.showTitle) {\n      this.renderTitle();\n    }\n  }\n\n  private afterChartRender = () => {\n    if (this.facets && this.cfg.line) {\n      this.container.clear();\n      this.drawLines(this.facets);\n    }\n  };\n\n  private renderTitle() {\n    each(this.facets, (facet: TreeData) => {\n      const { columnValue, view } = facet;\n      const formatter = get(this.cfg.title, 'formatter');\n\n      const config = deepMix(\n        {\n          position: ['50%', '0%'] as [string, string],\n          content: formatter ? formatter(columnValue) : columnValue,\n        },\n        getFactTitleConfig(DIRECTION.TOP),\n        this.cfg.title\n      );\n\n      view.annotation().text(config);\n    });\n  }\n\n  private drawLines(facets: TreeData[]) {\n    facets.forEach((facet) => {\n      if (!this.isLeaf(facet)) {\n        const children = facet.children;\n        this.addFacetLines(facet, children);\n      }\n    });\n  }\n\n  // add lines with it's children\n  private addFacetLines(facet: TreeData, children: TreeData[]) {\n    const view = facet.view;\n    const region = view.coordinateBBox;\n    // top, right, bottom, left\n    const start = {\n      x: region.x + region.width / 2,\n      y: region.y + region.height,\n    };\n\n    children.forEach((subFacet) => {\n      const subRegion = subFacet.view.coordinateBBox;\n      const end = {\n        x: subRegion.bl.x + (subRegion.tr.x - subRegion.bl.x) / 2,\n        y: subRegion.tr.y,\n      };\n\n      const middle1 = {\n        x: start.x,\n        y: start.y + (end.y - start.y) / 2,\n      };\n      const middle2 = {\n        x: end.x,\n        y: middle1.y,\n      };\n      this.drawLine([start, middle1, middle2, end]);\n    });\n  }\n\n  private getPath(points) {\n    const path = [];\n    const smooth = this.cfg.line.smooth;\n    if (smooth) {\n      path.push(['M', points[0].x, points[0].y]);\n      path.push(['C', points[1].x, points[1].y, points[2].x, points[2].y, points[3].x, points[3].y]);\n    } else {\n      points.forEach((point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n    }\n\n    return path;\n  }\n\n  // draw line width points\n  private drawLine(points) {\n    const path = this.getPath(points);\n    const line = this.cfg.line.style;\n    this.container.addShape('path', {\n      attrs: assign(\n        {\n          // @ts-ignore\n          path,\n        },\n        line\n      ),\n    });\n  }\n\n  protected getXAxisOption(x: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.rowIndex !== facet.rowValuesLength - 1) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n\n  protected getYAxisOption(y: string, axes: any, option: AxisCfg, facet: TreeData): object {\n    if (facet.originColIndex !== 0 && facet.columnIndex !== 0) {\n      return {\n        ...option,\n        title: null,\n        label: null,\n      };\n    }\n    return option;\n  }\n}\n","import { reduce, isNumber } from '@antv/util';\n\n/**\n * \n * @param array\n */\nexport function getMedian(array: number[]) {\n  const arr = [...array];\n  // \n  arr.sort((a: number, b: number) => {\n    return a - b;\n  });\n\n  const len = arr.length;\n\n  // median\n  // 0\n  if (len === 0) {\n    return 0;\n  }\n\n  // \n  if (len % 2 === 1) {\n    return arr[(len - 1) / 2];\n  }\n\n  // \n  return (arr[len / 2] + arr[len / 2 - 1]) / 2;\n}\n\n/**\n * \n * @param array\n */\nexport function getMean(array: number[]) {\n  const sum = reduce(\n    array,\n    (r: number, num: number) => {\n      return (r += isNaN(num) || !isNumber(num) ? 0 : num);\n    },\n    0\n  );\n\n  return array.length === 0 ? 0 : sum / array.length;\n}\n","import { getMedian, getMean } from './stat';\nimport { Scale } from '../dependents';\n\n/**\n * parse the value position\n * @param val\n * @param scale\n */\nexport function getNormalizedValue(val: number | string, scale: Scale) {\n  if (!scale) {\n    return null;\n  }\n  let scaled: number;\n\n  switch (val) {\n    case 'start':\n      return 0;\n    case 'center':\n      return 0.5;\n    case 'end':\n      return 1;\n    case 'median': {\n      scaled = scale.isCategory ? getMedian(scale.values.map((_, idx: number) => idx)) : getMedian(scale.values);\n      break;\n    }\n    case 'mean': {\n      scaled = scale.isCategory ? (scale.values.length - 1) / 2 : getMean(scale.values);\n      break;\n    }\n    case 'min':\n      scaled = scale.isCategory ? 0 : scale[val];\n      break;\n    case 'max':\n      scaled = scale.isCategory ? scale.values.length - 1 : scale[val];\n      break;\n    default:\n      scaled = val as number;\n      break;\n  }\n\n  return scale.scale(scaled);\n}\n","import {\n  contains,\n  deepMix,\n  each,\n  get,\n  isArray,\n  isFunction,\n  isNil,\n  isString,\n  keys,\n  upperFirst,\n  find,\n  includes,\n} from '@antv/util';\nimport { Annotation as AnnotationComponent, IElement, IGroup } from '../../dependents';\nimport {\n  AnnotationBaseOption as BaseOption,\n  AnnotationPosition as Position,\n  ArcOption,\n  ComponentOption,\n  ShapeAnnotationOption,\n  Data,\n  DataMarkerOption,\n  DataRegionOption,\n  Datum,\n  HtmlAnnotationOption,\n  ImageOption,\n  LineOption,\n  Point,\n  RegionFilterOption,\n  RegionOption,\n  RegionPositionBaseOption,\n  TextOption,\n} from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\nimport { COMPONENT_TYPE, DIRECTION, GEOMETRY_LIFE_CIRCLE, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\n\nimport Geometry from '../../geometry/base';\nimport Element from '../../geometry/element';\nimport { getAngleByPoint, getDistanceToCenter } from '../../util/coordinate';\nimport { omit } from '../../util/helper';\nimport { getNormalizedValue } from '../../util/annotation';\nimport View from '../view';\nimport { Controller } from './base';\nimport { Scale } from '@antv/attr';\n\n/**  */\nconst ANNOTATIONS_AFTER_RENDER = ['regionFilter', 'shape'];\n\n/**\n * Annotation controller, :\n * 1.  Annotation: linetextarc ...\n * 2. : initlayoutrendercleardestroy\n */\nexport default class Annotation extends Controller<BaseOption[]> {\n  private foregroundContainer: IGroup;\n  private backgroundContainer: IGroup;\n\n  /*  cache object :  */\n  private cache = new Map<BaseOption, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    this.foregroundContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.backgroundContainer = this.view.getLayer(LAYER.BG).addGroup();\n\n    this.option = [];\n  }\n\n  public get name(): string {\n    return 'annotation';\n  }\n\n  public init() { }\n\n  /**\n   *  annotation  render  layout \n   */\n  public layout() {\n    this.update();\n  }\n\n  //  Annotation  layout() \n  public render() { }\n\n  /**\n   * \n   */\n  public update() {\n    // 1.   Geometry \n    this.onAfterRender(() => {\n      const updated = new Map<BaseOption, ComponentOption>();\n      //  regionFilter/shape \n      each(this.option, (option: BaseOption) => {\n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          const co = this.updateOrCreate(option);\n          // \n          if (co) {\n            updated.set(this.getCacheKey(option), co);\n          }\n        }\n      });\n\n      //  cache\n      // \n      this.cache = this.syncCache(updated);\n    });\n\n    // 2.  regionFilter\n    const updateCache = new Map<BaseOption, ComponentOption>();\n    each(this.option, (option: BaseOption) => {\n      if (!includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        const co = this.updateOrCreate(option);\n        // \n        if (co) {\n          updateCache.set(this.getCacheKey(option), co);\n        }\n      }\n    });\n    this.cache = this.syncCache(updateCache);\n  }\n\n  /**\n   * \n   * @param includeOption  option \n   */\n  public clear(includeOption = false) {\n    super.clear();\n\n    this.clearComponents();\n    this.foregroundContainer.clear();\n    this.backgroundContainer.clear();\n\n    // clear all option\n    if (includeOption) {\n      this.option = [];\n    }\n  }\n\n  public destroy() {\n    this.clear(true);\n\n    this.foregroundContainer.remove(true);\n    this.backgroundContainer.remove(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   * \n   */\n  private clearComponents() {\n    this.getComponents().forEach((co) => {\n      co.component.destroy();\n    });\n\n    this.cache.clear();\n  }\n\n  /**\n   * region filter \n   * @param doWhat\n   */\n  private onAfterRender(doWhat: () => void) {\n    if (this.view.getOptions().animate) {\n      this.view.geometries.forEach((g: Geometry) => {\n        //  geometry \n        if (g.animateOption) {\n          g.once(GEOMETRY_LIFE_CIRCLE.AFTER_DRAW_ANIMATE, () => {\n            doWhat();\n          });\n        }\n      });\n    } else {\n      this.view.getRootView().once(VIEW_LIFE_CIRCLE.AFTER_RENDER, () => {\n        doWhat();\n      });\n    }\n  }\n\n  private createAnnotation(option: BaseOption) {\n    const { type } = option;\n\n    const Ctor = AnnotationComponent[upperFirst(type)];\n    if (Ctor) {\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n      // \n      if (!cfg) {\n        return null;\n      }\n      const annotation = new Ctor(cfg);\n\n      return {\n        component: annotation,\n        layer: this.isTop(cfg) ? LAYER.FORE : LAYER.BG,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.ANNOTATION,\n        extra: option,\n      };\n    }\n  }\n\n  // APIs for creating annotation component\n  public annotation(option: any) {\n    this.option.push(option);\n  }\n\n  /**\n   *  Arc\n   * @param option\n   * @returns AnnotationController\n   */\n  public arc(option: ArcOption) {\n    this.annotation({\n      type: 'arc',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  image\n   * @param option\n   * @returns AnnotationController\n   */\n  public image(option: ImageOption) {\n    this.annotation({\n      type: 'image',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Line\n   * @param option\n   * @returns AnnotationController\n   */\n  public line(option: LineOption) {\n    this.annotation({\n      type: 'line',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Region\n   * @param option\n   * @returns AnnotationController\n   */\n  public region(option: RegionOption) {\n    this.annotation({\n      type: 'region',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  Text\n   * @param option\n   * @returns AnnotationController\n   */\n  public text(option: TextOption) {\n    this.annotation({\n      type: 'text',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataMarker\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataMarker(option: DataMarkerOption) {\n    this.annotation({\n      type: 'dataMarker',\n      ...option,\n    });\n\n    return this;\n  }\n\n  /**\n   *  DataRegion\n   * @param option\n   * @returns AnnotationController\n   */\n  public dataRegion(option: DataRegionOption) {\n    this.annotation({\n      type: 'dataRegion',\n      ...option,\n    });\n  }\n\n  /**\n   *  RegionFilter\n   * @param option\n   * @returns AnnotationController\n   */\n  public regionFilter(option: RegionFilterOption) {\n    this.annotation({\n      type: 'regionFilter',\n      ...option,\n    });\n  }\n\n  /**\n   *  ShapeAnnotation\n   * @param option\n   */\n  public shape(option: ShapeAnnotationOption) {\n    this.annotation({\n      type: 'shape',\n      ...option,\n    });\n  }\n\n  /**\n   *  HtmlAnnotation\n   * @param option\n   */\n  public html(option: HtmlAnnotationOption) {\n    this.annotation({\n      type: 'html',\n      ...option,\n    });\n  }\n  // end API\n\n  /**\n   * parse the point position to [x, y]\n   * @param p Position\n   * @returns { x, y }\n   */\n  private parsePosition(\n    p:\n      | [string | number, string | number]\n      | Datum\n      | ((xScale: Scale, yScale: Scale) => [string | number, string | number] | number | Datum)\n  ): Point {\n    const xScale = this.view.getXScale();\n    //  object\n    const yScales = this.view.getScalesByDim('y');\n\n    const position: Position = isFunction(p) ? p.call(null, xScale, yScales) : p;\n\n    let x = 0;\n    let y = 0;\n\n    //  [24, 24] \n    if (isArray(position)) {\n      const [xPos, yPos] = position;\n      //  ['50%', '50%'] \n      // fix:  'xxx5%xxx'  https://github.com/antvis/f2/issues/590\n      // @ts-ignore\n      if (isString(xPos) && xPos.indexOf('%') !== -1 && !isNaN(xPos.slice(0, -1))) {\n        return this.parsePercentPosition(position as [string, string]);\n      }\n\n      x = getNormalizedValue(xPos, xScale);\n      y = getNormalizedValue(yPos, Object.values(yScales)[0]);\n    } else if (!isNil(position)) {\n      //  object \n      for (const key of keys(position)) {\n        const value = position[key];\n        if (key === xScale.field) {\n          x = getNormalizedValue(value, xScale);\n        }\n        if (yScales[key]) {\n          y = getNormalizedValue(value, yScales[key]);\n        }\n      }\n    }\n\n    if (isNaN(x) || isNaN(y)) {\n      return null;\n    }\n\n    return this.view.getCoordinate().convert({ x, y });\n  }\n\n  /**\n   * parse all the points between start and end\n   * @param start\n   * @param end\n   * @return Point[]\n   */\n  private getRegionPoints(start: Position | Data, end: Position | Data): Point[] {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getScalesByDim('y');\n    const yScale = Object.values(yScales)[0];\n    const xField = xScale.field;\n    const viewData = this.view.getData();\n    const startXValue = isArray(start) ? start[0] : start[xField];\n    const endXValue = isArray(end) ? end[0] : end[xField];\n    const arr = [];\n\n    let startIndex;\n    each(viewData, (item, idx) => {\n      if (item[xField] === startXValue) {\n        startIndex = idx;\n      }\n      if (idx >= startIndex) {\n        const point = this.parsePosition([item[xField], item[yScale.field]]);\n        if (point) {\n          arr.push(point);\n        }\n      }\n      if (item[xField] === endXValue) {\n        return false;\n      }\n    });\n\n    return arr;\n  }\n\n  /**\n   * parse percent position\n   * @param position\n   */\n  private parsePercentPosition(position: [string, string]): Point {\n    const xPercent = parseFloat(position[0]) / 100;\n    const yPercent = parseFloat(position[1]) / 100;\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n    const x = coordinate.getWidth() * xPercent + topLeft.x;\n    const y = coordinate.getHeight() * yPercent + topLeft.y;\n    return { x, y };\n  }\n\n  /**\n   * get coordinate bbox\n   */\n  private getCoordinateBBox() {\n    const coordinate = this.view.getCoordinate();\n    const { start, end } = coordinate;\n\n    const width = coordinate.getWidth();\n    const height = coordinate.getHeight();\n    const topLeft = {\n      x: Math.min(start.x, end.x),\n      y: Math.min(start.y, end.y),\n    };\n\n    return {\n      x: topLeft.x,\n      y: topLeft.y,\n      minX: topLeft.x,\n      minY: topLeft.y,\n      maxX: topLeft.x + width,\n      maxY: topLeft.y + height,\n      width,\n      height,\n    };\n  }\n\n  /**\n   * get annotation component config by different type\n   * @param type\n   * @param option \n   * @param theme\n   */\n  private getAnnotationCfg(type: string, option: any, theme: object): object | null {\n    const coordinate = this.view.getCoordinate();\n    const canvas = this.view.getCanvas();\n    let o = {};\n\n    if (isNil(option)) {\n      return null;\n    }\n    const { start, end, position } = option;;\n    const sp = this.parsePosition(start);\n    const ep = this.parsePosition(end);\n    const textPoint = this.parsePosition(position);\n    if (['arc', 'image', 'line', 'region', 'regionFilter'].includes(type) && (!sp || !ep)) {\n      return null;\n    } else if (['text', 'dataMarker', 'html'].includes(type) && !textPoint) {\n      return null;\n    }\n\n    if (type === 'arc') {\n      const { start, end, ...rest } = option as ArcOption;\n      const startAngle = getAngleByPoint(coordinate, sp);\n      let endAngle = getAngleByPoint(coordinate, ep);\n      if (startAngle > endAngle) {\n        endAngle = Math.PI * 2 + endAngle;\n      }\n\n      o = {\n        ...rest,\n        center: coordinate.getCenter(),\n        radius: getDistanceToCenter(coordinate, sp),\n        startAngle,\n        endAngle,\n      };\n    } else if (type === 'image') {\n      const { start, end, ...rest } = option as ImageOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        src: option.src,\n      };\n    } else if (type === 'line') {\n      const { start, end, ...rest } = option as LineOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n        text: get(option, 'text', null),\n      };\n    } else if (type === 'region') {\n      const { start, end, ...rest } = option as RegionPositionBaseOption;\n      o = {\n        ...rest,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'text') {\n      const filteredData = this.view.getData();\n      const { position, content, ...rest } = option as TextOption;\n      let textContent = content;\n      if (isFunction(content)) {\n        textContent = content(filteredData);\n      }\n      o = {\n        ...textPoint,\n        ...rest,\n        content: textContent,\n      };\n    } else if (type === 'dataMarker') {\n      const { position, point, line, text, autoAdjust, direction, ...rest } = option as DataMarkerOption;\n      o = {\n        ...rest,\n        ...textPoint,\n        coordinateBBox: this.getCoordinateBBox(),\n        point,\n        line,\n        text,\n        autoAdjust,\n        direction,\n      };\n    } else if (type === 'dataRegion') {\n      const { start, end, region, text, lineLength, ...rest } = option as DataRegionOption;\n      o = {\n        ...rest,\n        points: this.getRegionPoints(start, end),\n        region,\n        text,\n        lineLength,\n      };\n    } else if (type === 'regionFilter') {\n      const { start, end, apply, color, ...rest } = option as RegionFilterOption;\n      const geometries: Geometry[] = this.view.geometries;\n      const shapes = [];\n      const addShapes = (item?: IElement) => {\n        if (!item) {\n          return;\n        }\n        if (item.isGroup()) {\n          (item as IGroup).getChildren().forEach((child) => addShapes(child));\n        } else {\n          shapes.push(item);\n        }\n      };\n      each(geometries, (geom: Geometry) => {\n        if (apply) {\n          if (contains(apply, geom.type)) {\n            each(geom.elements, (elem: Element) => {\n              addShapes(elem.shape);\n            });\n          }\n        } else {\n          each(geom.elements, (elem: Element) => {\n            addShapes(elem.shape);\n          });\n        }\n      });\n      o = {\n        ...rest,\n        color,\n        shapes,\n        start: sp,\n        end: ep,\n      };\n    } else if (type === 'shape') {\n      const { render, ...restOptions } = option as ShapeAnnotationOption;\n      const wrappedRender = (container: IGroup) => {\n        if (isFunction(option.render)) {\n          return render(container, this.view, { parsePosition: this.parsePosition.bind(this) });\n        }\n      };\n      o = {\n        ...restOptions,\n        render: wrappedRender,\n      };\n    } else if (type === 'html') {\n      const { html, position, ...restOptions } = option as HtmlAnnotationOption;\n      const wrappedHtml = (container: HTMLElement) => {\n        if (isFunction(html)) {\n          return html(container, this.view);\n        }\n        return html;\n      };\n      o = {\n        ...restOptions,\n        ...textPoint,\n        // html  parent\n        parent: canvas.get('el').parentNode,\n        html: wrappedHtml,\n      };\n    }\n    // \n    const cfg = deepMix({}, theme, {\n      ...o,\n      top: option.top,\n      style: option.style,\n      offsetX: option.offsetX,\n      offsetY: option.offsetY,\n    });\n    if (type !== 'html') {\n      // html  G container\n      cfg.container = this.getComponentContainer(cfg);\n    }\n    cfg.animate = this.view.getOptions().animate && cfg.animate && get(option, 'animate', cfg.animate); //  view \n    cfg.animateOption = deepMix({}, DEFAULT_ANIMATE_CFG, cfg.animateOption, option.animateOption);\n\n    return cfg;\n  }\n\n  /**\n   * is annotation render on top\n   * @param option\n   * @return whethe on top\n   */\n  private isTop(option: any): boolean {\n    return get(option, 'top', true);\n  }\n\n  /**\n   * get the container by option.top\n   * default is on top\n   * @param option\n   * @returns the container\n   */\n  private getComponentContainer(option: any) {\n    return this.isTop(option) ? this.foregroundContainer : this.backgroundContainer;\n  }\n\n  private getAnnotationTheme(type: string) {\n    return get(this.view.getTheme(), ['components', 'annotation', type], {});\n  }\n\n  /**\n   *  annotation\n   * @param option\n   */\n  private updateOrCreate(option: BaseOption) {\n    // \n    let co = this.cache.get(this.getCacheKey(option));\n\n    // \n    if (co) {\n      const { type } = option;\n      const theme = this.getAnnotationTheme(type);\n      const cfg = this.getAnnotationCfg(type, option, theme);\n\n      // \n      if (cfg) {\n        omit(cfg, ['container']);\n      }\n      co.component.update({ ...(cfg || {}), visible: !!cfg });\n      //  regionFilter/shape render\n      if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n        co.component.render();\n      }\n    } else {\n      // \n      co = this.createAnnotation(option);\n      if (co) {\n        co.component.init();\n        // NoteregionFilter/shape regionFilter/shape  Geometry  Shape view render \n        //  render \n        if (includes(ANNOTATIONS_AFTER_RENDER, option.type)) {\n          co.component.render();\n        }\n      }\n    }\n    return co;\n  }\n\n  /**\n   * \n   * @param updated \n   */\n  private syncCache(updated: Map<BaseOption, ComponentOption>) {\n    const newCache = new Map(this.cache); // clone \n\n    //  update  cache\n    updated.forEach((co: ComponentOption, key: BaseOption) => {\n      newCache.set(key, co);\n    });\n\n    //  options \n    newCache.forEach((co: ComponentOption, key: BaseOption) => {\n      // option \n      if (\n        !find(this.option, (option: BaseOption) => {\n          return key === this.getCacheKey(option);\n        })\n      ) {\n        co.component.destroy();\n        newCache.delete(key);\n      }\n    });\n\n    return newCache;\n  }\n\n  /**\n   *  key\n   * @param option\n   */\n  private getCacheKey(option: BaseOption) {\n    //  id id string option  key\n    return option;\n    //  id \n    // const id = get(option, 'id');\n    // return id ? id : option;\n  }\n}\n","import { deepMix, get, map } from '@antv/util';\nimport { DIRECTION } from '../constant';\nimport { Coordinate, Scale, Tick } from '../dependents';\n\n/**\n * @ignore\n * get the grid theme by type, will mix the common cfg of axis\n * @param theme\n * @param direction\n * @returns theme object\n */\nexport function getGridThemeCfg(theme: object, direction: DIRECTION | 'common'): object {\n  const axisTheme = deepMix(\n    {},\n    get(theme, ['components', 'axis', 'common']),\n    get(theme, ['components', 'axis', direction])\n  );\n  return get(axisTheme, ['grid'], {});\n}\n\n/**\n * @ignore\n * get axis grid items\n * @param coordinate\n * @param scale\n * @param dim\n * @return items\n */\nexport function getLineGridItems(coordinate: Coordinate, scale: Scale, dim: string, alignTick?: boolean) {\n  const items = [];\n  const ticks = scale.getTicks();\n  if (coordinate.isPolar) {\n    //  ticks\n    ticks.push({\n      value: 1,\n      text: '',\n      tickValue: '',\n    });\n  }\n  ticks.reduce((preTick: Tick, currentTick: Tick, currentIndex) => {\n    const currentValue = currentTick.value;\n    if (alignTick) {\n      items.push({\n        points: [\n          coordinate.convert(dim === 'y' ? { x: 0, y: currentValue } : { x: currentValue, y: 0 }),\n          coordinate.convert(dim === 'y' ? { x: 1, y: currentValue } : { x: currentValue, y: 1 }),\n        ],\n      });\n    } else {\n      if (currentIndex) {\n        const preValue = preTick.value;\n        const middleValue = (preValue + currentValue) / 2;\n        items.push({\n          points: [\n            coordinate.convert(dim === 'y' ? { x: 0, y: middleValue } : { x: middleValue, y: 0 }),\n            coordinate.convert(dim === 'y' ? { x: 1, y: middleValue } : { x: middleValue, y: 1 }),\n          ],\n        });\n      }\n    }\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * get\n * @param coordinate\n * @param xScale\n * @param yScale\n * @param dim\n * @returns items\n */\nexport function getCircleGridItems(\n  coordinate: Coordinate,\n  xScale: Scale,\n  yScale: Scale,\n  alignTick: boolean,\n  dim: string\n) {\n  const count = xScale.values.length;\n  const items = [];\n  const ticks = yScale.getTicks();\n\n  ticks.reduce((preTick: Tick, currentTick: Tick) => {\n    const preValue = preTick ? preTick.value : currentTick.value; // \n    const currentValue = currentTick.value;\n    const middleValue = (preValue + currentValue) / 2;\n    if (dim === 'x') {\n      //  x \n      items.push({\n        points: [\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 0,\n          }),\n          coordinate.convert({\n            x: alignTick ? currentValue : middleValue,\n            y: 1,\n          }),\n        ],\n      });\n    } else {\n      items.push({\n        points: map(Array(count + 1), (__: any, idx: number) => {\n          return coordinate.convert({\n            x: idx / count,\n            y: alignTick ? currentValue : middleValue,\n          });\n        }),\n      });\n    }\n\n    return currentTick;\n  }, ticks[0]);\n  return items;\n}\n\n/**\n * @ignore\n * show grid or not\n * @param axisTheme\n * @param axisOption\n */\nexport function showGrid(axisTheme: any, axisOption: any): boolean {\n  const userGrid = get(axisOption, 'grid');\n  if (userGrid === null) {\n    return false;\n  }\n\n  const themeGrid = get(axisTheme, 'grid');\n\n  return !(userGrid === undefined && themeGrid === null);\n}\n","import { deepMix, each, get, isUndefined } from '@antv/util';\nimport { DIRECTION, COMPONENT_TYPE, LAYER } from '../../constant';\nimport { CircleAxis, CircleGrid, IGroup, LineAxis, LineGrid, Scale } from '../../dependents';\nimport { AxisCfg, AxisOption, ComponentOption } from '../../interface';\n\nimport { DEFAULT_ANIMATE_CFG } from '../../animate/';\n\nimport {\n  getAxisDirection,\n  getAxisFactorByRegion,\n  getAxisRegion,\n  getAxisThemeCfg,\n  getAxisTitleOptions,\n  getAxisTitleText,\n  getCircleAxisCenterRadius,\n  isVertical,\n} from '../../util/axis';\nimport { getAxisOption } from '../../util/axis';\nimport { getCircleGridItems, getGridThemeCfg, getLineGridItems, showGrid } from '../../util/grid';\nimport { omit } from '../../util/helper';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype Option = Record<string, AxisOption> | boolean;\n\ntype Cache = Map<string, ComponentOption>;\n\n// update \nconst OMIT_CFG = ['container'];\n\n// \nconst AXIS_DEFAULT_ANIMATE_CFG = {\n  ...DEFAULT_ANIMATE_CFG,\n  appear: null,\n};\n\n/**\n * @ignore\n * G2 Axis controller, will:\n *  - create component\n *    - axis\n *    - grid\n *  - life circle\n */\nexport default class Axis extends Controller<Option> {\n  /** the draw group of axis */\n  private axisContainer: IGroup;\n  private axisForeContainer: IGroup;\n  private gridContainer: IGroup;\n  private gridForeContainer: IGroup;\n\n  /**  object  */\n  private cache: Cache = new Map<string, ComponentOption>();\n\n  constructor(view: View) {\n    super(view);\n\n    //  gridContainer grid  axis \n    this.gridContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.gridForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n    this.axisContainer = this.view.getLayer(LAYER.BG).addGroup();\n    this.axisForeContainer = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'axis';\n  }\n\n  public init() {}\n\n  public render() {\n    this.update();\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    const coordinate = this.view.getCoordinate();\n\n    each(this.getComponents(), (co: ComponentOption) => {\n      const { component, direction, type, extra } = co;\n      const { dim, scale, alignTick } = extra;\n\n      let updated;\n\n      if (type === COMPONENT_TYPE.AXIS) {\n        if (coordinate.isPolar) {\n          if (dim === 'x') {\n            updated = coordinate.isTransposed\n              ? getAxisRegion(coordinate, direction)\n              : getCircleAxisCenterRadius(coordinate);\n          } else if (dim === 'y') {\n            updated = coordinate.isTransposed\n              ? getCircleAxisCenterRadius(coordinate)\n              : getAxisRegion(coordinate, direction);\n          }\n        } else {\n          updated = getAxisRegion(coordinate, direction);\n        }\n      } else if (type === COMPONENT_TYPE.GRID) {\n        if (coordinate.isPolar) {\n          let items;\n          if (coordinate.isTransposed) {\n            items =\n              dim === 'x'\n                ? getCircleGridItems(coordinate, this.view.getYScales()[0], scale, alignTick, dim)\n                : getLineGridItems(coordinate, scale, dim, alignTick);\n          } else {\n            items =\n              dim === 'x'\n                ? getLineGridItems(coordinate, scale, dim, alignTick)\n                : getCircleGridItems(coordinate, this.view.getXScale(), scale, alignTick, dim);\n          }\n          updated = {\n            items,\n            // coordinate center \n            center: this.view.getCoordinate().getCenter(),\n          };\n        } else {\n          updated = { items: getLineGridItems(coordinate, scale, dim, alignTick) };\n        }\n      }\n      component.update(updated);\n    });\n  }\n\n  /**\n   *  axis \n   */\n  public update() {\n    this.option = this.view.getOptions().axes;\n\n    const updatedCache = new Map<string, ComponentOption>();\n\n    this.updateXAxes(updatedCache);\n    this.updateYAxes(updatedCache);\n\n    // \n    // \n    const newCache = new Map<string, ComponentOption>();\n\n    this.cache.forEach((co: ComponentOption, key: string) => {\n      if (updatedCache.has(key)) {\n        newCache.set(key, co);\n      } else {\n        // \n        co.component.destroy();\n      }\n    });\n\n    // \n    this.cache = newCache;\n  }\n\n  public clear() {\n    super.clear();\n\n    this.cache.clear();\n    this.gridContainer.clear();\n    this.gridForeContainer.clear();\n    this.axisContainer.clear();\n    this.axisForeContainer.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.gridContainer.remove(true);\n    this.gridForeContainer.remove(true);\n    this.axisContainer.remove(true);\n    this.axisForeContainer.remove(true);\n  }\n\n  /**\n   * @override\n   */\n  public getComponents(): ComponentOption[] {\n    const co = [];\n\n    this.cache.forEach((value: ComponentOption) => {\n      co.push(value);\n    });\n\n    return co;\n  }\n\n  /**\n   *  x axis\n   * @param updatedCache\n   */\n  private updateXAxes(updatedCache: Cache) {\n    // x axis\n    const scale = this.view.getXScale();\n\n    if (!scale || scale.isIdentity) {\n      return;\n    }\n\n    const xAxisOption = getAxisOption(this.option, scale.field);\n    if (xAxisOption === false) {\n      return;\n    }\n\n    const direction = getAxisDirection(xAxisOption, DIRECTION.BOTTOM);\n    const layer = LAYER.BG;\n    const dim = 'x';\n\n    const coordinate = this.view.getCoordinate();\n\n    const axisId = this.getId('axis', scale.field);\n    const gridId = this.getId('grid', scale.field);\n\n    if (coordinate.isRect) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = this.getLineAxisCfg(scale, xAxisOption, direction);\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        axis = this.createLineAxis(scale, xAxisOption, layer, direction, dim);\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = this.getLineGridCfg(scale, xAxisOption, direction, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        grid = this.createLineGrid(scale, xAxisOption, layer, direction, dim);\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else if (coordinate.isPolar) {\n      // 1. do axis update\n      let axis = this.cache.get(axisId);\n      // \n      if (axis) {\n        const cfg = coordinate.isTransposed\n          ? this.getLineAxisCfg(scale, xAxisOption, DIRECTION.RADIUS)\n          : this.getCircleAxisCfg(scale, xAxisOption, direction);\n\n        omit(cfg, OMIT_CFG);\n        axis.component.update(cfg);\n        updatedCache.set(axisId, axis);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            // \n            return;\n          } else {\n            //  chart.axis(true)/chart.axis('x', true)\n            //  x \n            axis = this.createLineAxis(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          axis = this.createCircleAxis(scale, xAxisOption, layer, direction, dim);\n        }\n        this.cache.set(axisId, axis);\n        updatedCache.set(axisId, axis);\n      }\n\n      // 2. do grid update\n      let grid = this.cache.get(gridId);\n      // \n      if (grid) {\n        const cfg = coordinate.isTransposed\n          ? this.getCircleGridCfg(scale, xAxisOption, DIRECTION.RADIUS, dim)\n          : this.getLineGridCfg(scale, xAxisOption, DIRECTION.CIRCLE, dim);\n        omit(cfg, OMIT_CFG);\n        grid.component.update(cfg);\n        updatedCache.set(gridId, grid);\n      } else {\n        // \n        if (coordinate.isTransposed) {\n          if (isUndefined(xAxisOption)) {\n            return;\n          } else {\n            grid = this.createCircleGrid(scale, xAxisOption, layer, DIRECTION.RADIUS, dim);\n          }\n        } else {\n          // grid x \n          grid = this.createLineGrid(scale, xAxisOption, layer, DIRECTION.CIRCLE, dim);\n        }\n\n        if (grid) {\n          this.cache.set(gridId, grid);\n          updatedCache.set(gridId, grid);\n        }\n      }\n    } else {\n      // helix and other, do not draw axis\n    }\n  }\n\n  private updateYAxes(updatedCache: Cache) {\n    // y axes\n    const yScales = this.view.getYScales();\n\n    each(yScales, (scale: Scale, idx: number) => {\n      // @ts-ignore\n      if (!scale || scale.isIdentity) {\n        return;\n      }\n      const { field } = scale;\n      const yAxisOption = getAxisOption(this.option, field);\n\n      if (yAxisOption !== false) {\n        const layer = LAYER.BG;\n        const dim = 'y';\n        const axisId = this.getId('axis', field);\n        const gridId = this.getId('grid', field);\n\n        const coordinate = this.view.getCoordinate();\n\n        if (coordinate.isRect) {\n          const direction = getAxisDirection(yAxisOption, idx === 0 ? DIRECTION.LEFT : DIRECTION.RIGHT);\n\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = this.getLineAxisCfg(scale, yAxisOption, direction);\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            axis = this.createLineAxis(scale, yAxisOption, layer, direction, dim);\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = this.getLineGridCfg(scale, yAxisOption, direction, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            grid = this.createLineGrid(scale, yAxisOption, layer, direction, dim);\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else if (coordinate.isPolar) {\n          // 1. do axis update\n          let axis = this.cache.get(axisId);\n          // \n          if (axis) {\n            const cfg = coordinate.isTransposed\n              ? this.getCircleAxisCfg(scale, yAxisOption, DIRECTION.CIRCLE)\n              : this.getLineAxisCfg(scale, yAxisOption, DIRECTION.RADIUS);\n\n            // @ts-ignore\n            omit(cfg, OMIT_CFG);\n            axis.component.update(cfg);\n            updatedCache.set(axisId, axis);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                axis = this.createCircleAxis(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              axis = this.createLineAxis(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            this.cache.set(axisId, axis);\n            updatedCache.set(axisId, axis);\n          }\n\n          // 2. do grid update\n          let grid = this.cache.get(gridId);\n          // \n          if (grid) {\n            const cfg = coordinate.isTransposed\n              ? this.getLineGridCfg(scale, yAxisOption, DIRECTION.CIRCLE, dim)\n              : this.getCircleGridCfg(scale, yAxisOption, DIRECTION.RADIUS, dim);\n            omit(cfg, OMIT_CFG);\n            grid.component.update(cfg);\n            updatedCache.set(gridId, grid);\n          } else {\n            // \n            if (coordinate.isTransposed) {\n              if (isUndefined(yAxisOption)) {\n                return;\n              } else {\n                grid = this.createLineGrid(scale, yAxisOption, layer, DIRECTION.CIRCLE, dim);\n              }\n            } else {\n              grid = this.createCircleGrid(scale, yAxisOption, layer, DIRECTION.RADIUS, dim);\n            }\n\n            if (grid) {\n              this.cache.set(gridId, grid);\n              updatedCache.set(gridId, grid);\n            }\n          }\n        } else {\n          // helix and other, do not draw axis\n        }\n      }\n    });\n  }\n\n  /**\n   *  line axis\n   * @param scale\n   * @param option\n   * @param layer\n   * @param direction\n   * @param dim\n   */\n  private createLineAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    // axis\n    const axis = {\n      component: new LineAxis(this.getLineAxisCfg(scale, option, direction)),\n      layer,\n      direction: direction === DIRECTION.RADIUS ? DIRECTION.NONE : direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createLineGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getLineGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new LineGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n      grid.component.init();\n\n      return grid;\n    }\n  }\n\n  private createCircleAxis(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const axis = {\n      component: new CircleAxis(this.getCircleAxisCfg(scale, option, direction)),\n      layer,\n      direction,\n      type: COMPONENT_TYPE.AXIS,\n      extra: { dim, scale },\n    };\n    axis.component.set('field', scale.field);\n\n    axis.component.init();\n\n    return axis;\n  }\n\n  private createCircleGrid(\n    scale: Scale,\n    option: AxisCfg,\n    layer: LAYER,\n    direction: DIRECTION,\n    dim: string\n  ): ComponentOption {\n    const cfg = this.getCircleGridCfg(scale, option, direction, dim);\n    if (cfg) {\n      const grid = {\n        component: new CircleGrid(cfg),\n        layer,\n        direction: DIRECTION.NONE,\n        type: COMPONENT_TYPE.GRID,\n        extra: {\n          dim,\n          scale,\n          alignTick: get(cfg, 'alignTick', true),\n        },\n      };\n\n      grid.component.init();\n      return grid;\n    }\n  }\n\n  /**\n   * generate line axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return line axis cfg\n   */\n  private getLineAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n    const region = getAxisRegion(coordinate, direction);\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n\n    const cfg = deepMix(\n      {\n        container,\n        ...region,\n        ticks: scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value })),\n        verticalFactor: coordinate.isPolar\n          ? getAxisFactorByRegion(region, coordinate.getCenter()) * -1\n          : getAxisFactorByRegion(region, coordinate.getCenter()),\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animateOption = animateOption;\n    cfg.animate = animate;\n\n    //  verticalLimitLength\n    const isAxisVertical = isVertical(region);\n    // TODO: 1 / 3 \n    const verticalLimitLength = get(cfg, 'verticalLimitLength', isAxisVertical ? 1 / 3 : 1 / 2);\n    if (verticalLimitLength <= 1) {\n      // \n      const canvasWidth = this.view.getCanvas().get('width');\n      const canvasHeight = this.view.getCanvas().get('height');\n      cfg.verticalLimitLength = verticalLimitLength * (isAxisVertical ? canvasWidth : canvasHeight);\n    }\n\n    return cfg;\n  }\n\n  /**\n   * generate line grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @param dim\n   * @return line grid cfg\n   */\n  private getLineGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), direction);\n    // the cfg order should be ensure\n    // grid  axis \n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    gridCfg.items = getLineGridItems(this.view.getCoordinate(), scale, dim, get(gridCfg, 'alignTick', true));\n\n    return gridCfg;\n  }\n\n  /**\n   * generate circle axis cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle axis cfg\n   */\n  private getCircleAxisCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION) {\n    const container = get(axisOption, ['top']) ? this.axisForeContainer : this.axisContainer;\n    const coordinate = this.view.getCoordinate();\n\n    const ticks = scale.getTicks().map((tick) => ({ id: `${tick.tickValue}`, name: tick.text, value: tick.value }));\n    if (!scale.isCategory && Math.abs(coordinate.endAngle - coordinate.startAngle) === Math.PI * 2) {\n      // x  cat \n      ticks.pop();\n    }\n\n    const titleText = getAxisTitleText(scale, axisOption);\n    const axisThemeCfg = getAxisThemeCfg(this.view.getTheme(), DIRECTION.CIRCLE);\n    // the cfg order should be ensure\n    const optionWithTitle = get(axisOption, ['title'])\n      ? deepMix(\n          { title: { style: { text: titleText } } },\n          { title: getAxisTitleOptions(this.view.getTheme(), direction, axisOption.title) },\n          axisOption\n        )\n      : axisOption;\n    const cfg = deepMix(\n      {\n        container,\n        ...getCircleAxisCenterRadius(this.view.getCoordinate()),\n        ticks,\n        verticalFactor: 1,\n        theme: axisThemeCfg,\n      },\n      axisThemeCfg,\n      optionWithTitle\n    );\n    const { animate, animateOption } = this.getAnimateCfg(cfg);\n    cfg.animate = animate;\n    cfg.animateOption = animateOption;\n\n    return cfg;\n  }\n\n  /**\n   * generate circle grid cfg\n   * @param scale\n   * @param axisOption\n   * @param direction\n   * @return circle grid cfg\n   */\n  private getCircleGridCfg(scale: Scale, axisOption: AxisCfg, direction: DIRECTION, dim: string) {\n    if (!showGrid(getAxisThemeCfg(this.view.getTheme(), direction), axisOption)) {\n      return undefined;\n    }\n\n    // the cfg order should be ensure\n    // grid  axis \n    const gridThemeCfg = getGridThemeCfg(this.view.getTheme(), DIRECTION.RADIUS);\n    const gridCfg = deepMix(\n      {\n        container: get(axisOption, ['top']) ? this.gridForeContainer : this.gridContainer,\n        center: this.view.getCoordinate().getCenter(),\n      },\n      gridThemeCfg,\n      get(axisOption, 'grid'),\n      this.getAnimateCfg(axisOption)\n    );\n    const alignTick = get(gridCfg, 'alignTick', true);\n    const verticalScale = dim === 'x' ? this.view.getYScales()[0] : this.view.getXScale();\n    gridCfg.items = getCircleGridItems(this.view.getCoordinate(), verticalScale, scale, alignTick, dim);\n    // the cfg order should be ensure\n    // grid  axis \n    return gridCfg;\n  }\n\n  private getId(name: string, key: string): string {\n    const coordinate = this.view.getCoordinate();\n    //  key\n    return `${name}-${key}-${coordinate.type}`;\n  }\n\n  private getAnimateCfg(cfg) {\n    return {\n      animate: this.view.getOptions().animate && get(cfg, 'animate'), //  view \n      animateOption:\n        cfg && cfg.animateOption ? deepMix({}, AXIS_DEFAULT_ANIMATE_CFG, cfg.animateOption) : AXIS_DEFAULT_ANIMATE_CFG,\n    };\n  }\n}\n","import { DIRECTION } from '../constant';\nimport { Coordinate } from '../dependents';\nimport { Position } from '../interface';\nimport { BBox } from './bbox';\n\n/**\n * @ignore\n *  bbox \n * @param parentBBox\n * @param bbox\n * @param direction\n */\nexport function directionToPosition(parentBBox: BBox, bbox: BBox, direction: DIRECTION): Position {\n  if (direction === DIRECTION.TOP) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.minY];\n  }\n  if (direction === DIRECTION.BOTTOM) {\n    return [parentBBox.minX + parentBBox.width / 2 - bbox.width / 2, parentBBox.maxY - bbox.height];\n  }\n  if (direction === DIRECTION.LEFT) {\n    return [parentBBox.minX, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n  if (direction === DIRECTION.RIGHT) {\n    return [parentBBox.maxX - bbox.width, parentBBox.minY + parentBBox.height / 2 - bbox.height / 2];\n  }\n\n  if (direction === DIRECTION.TOP_LEFT || direction === DIRECTION.LEFT_TOP) {\n    return [parentBBox.tl.x, parentBBox.tl.y];\n  }\n  if (direction === DIRECTION.TOP_RIGHT || direction === DIRECTION.RIGHT_TOP) {\n    return [parentBBox.tr.x - bbox.width, parentBBox.tr.y];\n  }\n  if (direction === DIRECTION.BOTTOM_LEFT || direction === DIRECTION.LEFT_BOTTOM) {\n    return [parentBBox.bl.x, parentBBox.bl.y - bbox.height];\n  }\n  if (direction === DIRECTION.BOTTOM_RIGHT || direction === DIRECTION.RIGHT_BOTTOM) {\n    return [parentBBox.br.x - bbox.width, parentBBox.br.y - bbox.height];\n  }\n\n  return [0, 0];\n}\n\n/**\n * get direction after coordinate transpose\n * @param direction\n * @param coordinate\n * @returns direction after transpose or not\n */\nfunction getTransposedDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  if (coordinate.isTransposed) {\n    switch (direction) {\n      case DIRECTION.BOTTOM:\n        return DIRECTION.LEFT;\n      case DIRECTION.LEFT:\n        return DIRECTION.BOTTOM;\n      case DIRECTION.RIGHT:\n        return DIRECTION.TOP;\n      case DIRECTION.TOP:\n        return DIRECTION.RIGHT;\n    }\n  }\n  return direction;\n}\n\nfunction reflectX(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.LEFT) {\n    return DIRECTION.RIGHT;\n  }\n\n  if (direct === DIRECTION.RIGHT) {\n    return DIRECTION.LEFT;\n  }\n\n  return direct;\n}\n\nfunction reflectY(direct: DIRECTION): DIRECTION {\n  if (direct === DIRECTION.TOP) {\n    return DIRECTION.BOTTOM;\n  }\n  if (direct === DIRECTION.BOTTOM) {\n    return DIRECTION.TOP;\n  }\n\n  return direct;\n}\n\n/**\n * get direction after coordinate.scale\n * @param direction\n * @param coordinate\n */\nfunction getScaleDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  const x = coordinate.matrix[0];\n  const y = coordinate.matrix[4];\n\n  let d = direction;\n  if (x < 0) {\n    d = reflectX(d);\n  }\n  if (y < 0) {\n    d = reflectY(d);\n  }\n  return d;\n}\n\n/**\n *\n * @param direction\n * @param coordinate\n */\nfunction getReflectDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n\n  if (coordinate.isReflect('x')) {\n    d = reflectX(d);\n  }\n  if (coordinate.isReflect('y')) {\n    d = reflectY(d);\n  }\n\n  return d;\n}\n\n/**\n * @ignore\n * get direction after coordinate translate\n * @param direction\n * @param coordinate\n */\nexport function getTranslateDirection(direction: DIRECTION, coordinate: Coordinate): DIRECTION {\n  let d = direction;\n  d = getTransposedDirection(d, coordinate);\n  d = getScaleDirection(d, coordinate);\n  d = getReflectDirection(d, coordinate);\n\n  return d;\n}\n","import { deepMix, each, find, get, head, isBoolean, last } from '@antv/util';\nimport { COMPONENT_MAX_VIEW_PERCENTAGE, COMPONENT_TYPE, DIRECTION, LAYER } from '../../constant';\nimport { Attribute, CategoryLegend, ContinuousLegend, GroupComponent, IGroup, Scale, Tick } from '../../dependents';\nimport { ComponentOption, LegendCfg, LegendOption, LooseObject, AllLegendsOptions, Padding } from '../../interface';\nimport { DEFAULT_ANIMATE_CFG } from '../../animate';\nimport Geometry from '../../geometry/base';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { omit } from '../../util/helper';\nimport { getCustomLegendItems, getLegendItems, getLegendLayout, getLegendThemeCfg } from '../../util/legend';\nimport { getName } from '../../util/scale';\nimport View from '../view';\nimport { Controller } from './base';\n\ntype DoEach = (geometry: Geometry, attr: Attribute, scale: Scale) => void;\n\n/**\n *  legend \n * @param legends\n * @param field\n * @returns the option of one legend field\n */\nfunction getLegendOption(legends: AllLegendsOptions, field: string) {\n  if (isBoolean(legends)) {\n    return legends === false ? false : {};\n  }\n\n  return get(legends, [field], legends);\n}\n\nfunction getDirection(legendOption: any): DIRECTION {\n  return get(legendOption, 'position', DIRECTION.BOTTOM);\n}\n\n/**\n * @ignore\n * legend Controller\n */\nexport default class Legend extends Controller<AllLegendsOptions> {\n  /** the draw group of axis */\n  private container: IGroup;\n  /**  legend  bbox */\n  private layoutBBox: BBox;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n  }\n\n  public get name(): string {\n    return 'legend';\n  }\n\n  public init() {}\n\n  /**\n   * render the legend component by legend options\n   */\n  public render() {\n    //  update \n    this.update();\n  }\n\n  /**\n   * layout legend\n   *  legend  direction  x, y\n   */\n  public layout() {\n    this.layoutBBox = this.view.viewBBox;\n\n    each(this.components, (co: ComponentOption) => {\n      const { component, direction } = co;\n      const layout = getLegendLayout(direction);\n      const maxWidthRatio = component.get('maxWidthRatio');\n      const maxHeightRatio = component.get('maxHeightRatio');\n\n      const maxSize = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n\n      const maxWidth = component.get('maxWidth');\n      const maxHeight = component.get('maxHeight');\n\n      //  maxSize layoutBBox x y\n      component.update({\n        maxWidth: Math.min(maxSize.maxWidth, maxWidth || 0),\n        maxHeight: Math.min(maxSize.maxHeight, maxHeight || 0),\n      });\n\n      const padding = component.get('padding') as Padding;\n\n      const bboxObject = component.getLayoutBBox(); //  widthheight \n      const bbox = new BBox(bboxObject.x, bboxObject.y, bboxObject.width, bboxObject.height).expand(padding);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, direction);\n      const [x2, y2] = directionToPosition(this.layoutBBox, bbox, direction);\n\n      let x = 0;\n      let y = 0;\n\n      //  legend x y  coordinateBBox \n      if (direction.startsWith('top') || direction.startsWith('bottom')) {\n        x = x1;\n        y = y2;\n      } else {\n        x = x2;\n        y = y1;\n      }\n\n      // \n      component.setLocation({ x: x + padding[3], y: y + padding[0] });\n\n      this.layoutBBox = this.layoutBBox.cut(bbox, direction);\n    });\n  }\n\n  /**\n   * legend \n   */\n  public update() {\n    this.option = this.view.getOptions().legends;\n\n    //  legend\n    const updated: Record<string, true> = {};\n\n    const eachLegend = (geometry: Geometry, attr: Attribute, scale: Scale) => {\n      const id = this.getId(scale.field);\n\n      const existCo = this.getComponentById(id);\n\n      //  update\n      if (existCo) {\n        let cfg;\n        const legendOption = getLegendOption(this.option, scale.field);\n\n        // if the legend option is not false, means legend should be created.\n        if (legendOption !== false) {\n          if (get(legendOption, 'custom')) {\n            cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n          } else {\n            if (scale.isLinear) {\n              // linear field, create continuous legend\n              cfg = this.getContinuousCfg(geometry, attr, scale, legendOption);\n            } else if (scale.isCategory) {\n              // category field, create category legend\n              cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n            }\n          }\n        }\n\n        //  cfg  updated \n        if (cfg) {\n          // omit  container \n          omit(cfg, ['container']);\n\n          existCo.direction = getDirection(legendOption);\n\n          existCo.component.update(cfg);\n\n          // \n          updated[id] = true;\n        }\n      } else {\n        //  create\n        const legend = this.createFieldLegend(geometry, attr, scale);\n\n        if (legend) {\n          (legend.component as GroupComponent).init();\n          this.components.push(legend);\n\n          // \n          updated[id] = true;\n        }\n      }\n    };\n\n    // \n    if (get(this.option, 'custom')) {\n      const id = 'global-custom';\n      const existCo = this.getComponentById(id);\n      if (existCo) {\n        const customCfg = this.getCategoryCfg(undefined, undefined, undefined, this.option, true);\n        omit(customCfg, ['container']);\n        existCo.component.update(customCfg);\n\n        updated[id] = true;\n      } else {\n        const component = this.createCustomLegend(undefined, undefined, undefined, this.option as LegendCfg);\n        if (component) {\n          component.init();\n\n          const layer = LAYER.FORE;\n          const direction = getDirection(this.option);\n\n          this.components.push({\n            id,\n            component,\n            layer,\n            direction,\n            type: COMPONENT_TYPE.LEGEND,\n            extra: undefined,\n          });\n\n          // \n          updated[id] = true;\n        }\n      }\n    } else {\n      // \n      this.loopLegends(eachLegend);\n    }\n\n    // \n    // \n    const components = [];\n    each(this.getComponents(), (co: ComponentOption) => {\n      if (updated[co.id]) {\n        components.push(co);\n      } else {\n        co.component.destroy();\n      }\n    });\n\n    //  components\n    this.components = components;\n  }\n\n  public clear() {\n    super.clear();\n    this.container.clear();\n  }\n\n  public destroy() {\n    super.destroy();\n\n    this.container.remove(true);\n  }\n\n  /**\n   *  Geometry\n   */\n  private getGeometries(view: View): Geometry[] {\n    let geometries = view.geometries;\n\n    each(view.views, (v: View) => {\n      geometries = geometries.concat(this.getGeometries(v));\n    });\n\n    return geometries;\n  }\n\n  /**\n   *  Geometry legend \n   * @param doEach  loop \n   */\n  private loopLegends(doEach: DoEach) {\n    const isRootView = this.view.getRootView() === this.view;\n    //  view legend\n    if (!isRootView) {\n      return;\n    }\n\n    //  view  Geometry legend\n    const geometries = this.getGeometries(this.view);\n\n    const looped: Record<string, true> = {}; //  legend\n\n    each(geometries, (geometry: Geometry) => {\n      const attributes = geometry.getGroupAttributes();\n\n      each(attributes, (attr: Attribute) => {\n        const scale = attr.getScale(attr.type);\n        //  size(2) shape('circle')  legend\n        if (!scale || scale.type === 'identity' || looped[scale.field]) {\n          return;\n        }\n\n        doEach(geometry, attr, scale);\n\n        looped[scale.field] = true;\n      });\n    });\n  }\n\n  /**\n   *  legend\n   * @param geometry\n   * @param attr\n   * @param scale\n   */\n  private createFieldLegend(geometry: Geometry, attr: Attribute, scale: Scale): ComponentOption {\n    let component;\n\n    const legendOption = getLegendOption(this.option, scale.field);\n    const layer = LAYER.FORE;\n    const direction = getDirection(legendOption);\n\n    // if the legend option is not false, means legend should be created.\n    if (legendOption !== false) {\n      if (get(legendOption, 'custom')) {\n        component = this.createCustomLegend(geometry, attr, scale, legendOption);\n      } else {\n        if (scale.isLinear) {\n          // linear field, create continuous legend\n          component = this.createContinuousLegend(geometry, attr, scale, legendOption);\n        } else if (scale.isCategory) {\n          // category field, create category legend\n          component = this.createCategoryLegend(geometry, attr, scale, legendOption);\n        }\n      }\n    }\n\n    if (component) {\n      component.set('field', scale.field);\n\n      return {\n        id: this.getId(scale.field),\n        component,\n        layer,\n        direction,\n        type: COMPONENT_TYPE.LEGEND,\n        extra: { scale },\n      };\n    }\n  }\n\n  /**\n   *  category \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCustomLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: LegendCfg) {\n    //  \n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption, true);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createContinuousLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getContinuousCfg(geometry, attr, scale, omit(legendOption, ['value']));\n    return new ContinuousLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private createCategoryLegend(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const cfg = this.getCategoryCfg(geometry, attr, scale, legendOption);\n    return new CategoryLegend(cfg);\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param legendOption\n   */\n  private getContinuousCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any) {\n    const ticks = scale.getTicks();\n\n    const containMin = find(ticks, (tick: Tick) => tick.value === 0);\n    const containMax = find(ticks, (tick: Tick) => tick.value === 1);\n    const items = ticks.map((tick: Tick) => {\n      const { value, tickValue } = tick;\n      const attrValue = attr.mapping(scale.invert(value)).join('');\n\n      return {\n        value: tickValue,\n        attrValue,\n        color: attrValue,\n        scaleValue: value,\n      };\n    });\n\n    if (!containMin) {\n      items.push({\n        value: scale.min,\n        attrValue: attr.mapping(scale.invert(0)).join(''),\n        color: attr.mapping(scale.invert(0)).join(''),\n        scaleValue: 0,\n      });\n    }\n    if (!containMax) {\n      items.push({\n        value: scale.max,\n        attrValue: attr.mapping(scale.invert(1)).join(''),\n        color: attr.mapping(scale.invert(1)).join(''),\n        scaleValue: 1,\n      });\n    }\n\n    // \n    items.sort((a: any, b: any) => a.value - b.value);\n\n    //  attr \n    // size color \n    const attrLegendCfg: LooseObject = {\n      min: head(items).value,\n      max: last(items).value,\n      colors: [],\n      rail: {\n        type: attr.type,\n      },\n      track: {},\n    };\n\n    if (attr.type === 'size') {\n      attrLegendCfg.track = {\n        style: {\n          // size  color color \n          // @ts-ignore\n          fill: attr.type === 'size' ? this.view.getTheme().defaultColor : undefined,\n        },\n      };\n    }\n\n    if (attr.type === 'color') {\n      attrLegendCfg.colors = items.map((item) => item.attrValue);\n    }\n\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = getDirection(legendOption);\n\n    const layout = getLegendLayout(direction);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: getName(scale),\n        },\n        title\n      );\n    }\n\n    // \n    attrLegendCfg.container = container;\n    attrLegendCfg.layout = layout;\n    attrLegendCfg.title = title;\n    attrLegendCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    // @ts-ignore\n    return this.mergeLegendCfg(attrLegendCfg, legendOption, 'continuous');\n  }\n\n  /**\n   * \n   * @param geometry\n   * @param attr\n   * @param scale\n   * @param custom\n   * @param legendOption\n   */\n  private getCategoryCfg(geometry: Geometry, attr: Attribute, scale: Scale, legendOption: any, custom?: boolean) {\n    const container = this.container;\n    // if position is not set, use top as default\n    const direction = get(legendOption, 'position', DIRECTION.BOTTOM);\n\n    const legendTheme = getLegendThemeCfg(this.view.getTheme(), direction);\n\n    // the default marker style\n    const themeMarker = get(legendTheme, ['marker']);\n    const userMarker = get(legendOption, 'marker');\n    const layout = getLegendLayout(direction);\n    const themePageNavigator = get(legendTheme, ['pageNavigator']);\n    const userPageNavigator = get(legendOption, 'pageNavigator');\n\n    const items = custom\n      ? getCustomLegendItems(themeMarker, userMarker, legendOption.items)\n      : getLegendItems(this.view, geometry, attr, themeMarker, userMarker);\n\n    let title = get(legendOption, 'title');\n    if (title) {\n      title = deepMix(\n        {\n          text: scale ? getName(scale) : '',\n        },\n        title\n      );\n    }\n    const maxWidthRatio = get(legendOption, 'maxWidthRatio');\n    const maxHeightRatio = get(legendOption, 'maxHeightRatio');\n\n    const baseCfg: LooseObject = this.getCategoryLegendSizeCfg(layout, maxWidthRatio, maxHeightRatio);\n    baseCfg.container = container;\n    baseCfg.layout = layout;\n    baseCfg.items = items;\n    baseCfg.title = title;\n    baseCfg.animateOption = DEFAULT_ANIMATE_CFG;\n    baseCfg.pageNavigator = deepMix({}, themePageNavigator, userPageNavigator);\n\n    const categoryCfg = this.mergeLegendCfg(baseCfg, legendOption, direction);\n    if (categoryCfg.reversed) {\n      // \n      categoryCfg.items.reverse();\n    }\n\n    const maxItemWidth = get(categoryCfg, 'maxItemWidth');\n    if (maxItemWidth && maxItemWidth <= 1) {\n      // \n      categoryCfg.maxItemWidth = this.view.viewBBox.width * maxItemWidth;\n    }\n\n    return categoryCfg;\n  }\n\n  /**\n   * get legend config, use option > suggestion > theme\n   * @param baseCfg\n   * @param legendOption\n   * @param direction\n   */\n  private mergeLegendCfg(baseCfg: object, legendOption: LegendOption, direction: DIRECTION) {\n    const position = direction.split('-')[0];\n    const themeObject = getLegendThemeCfg(this.view.getTheme(), position);\n\n    return deepMix({}, themeObject, baseCfg, legendOption);\n  }\n\n  /**\n   *  id\n   * @param key\n   */\n  private getId(key: string): string {\n    return `${this.name}-${key}`;\n  }\n\n  /**\n   *  id \n   * @param id\n   */\n  private getComponentById(id: string): ComponentOption {\n    return find(this.components, (co) => co.id === id);\n  }\n\n  private getCategoryLegendSizeCfg(\n    layout: 'horizontal' | 'vertical',\n    maxWidthRatio = COMPONENT_MAX_VIEW_PERCENTAGE,\n    maxHeightRatio = COMPONENT_MAX_VIEW_PERCENTAGE\n  ) {\n    const { width: vw, height: vh } = this.view.viewBBox;\n    //  legend  viewBBox \n    // const { width: cw, height: ch } = this.view.coordinateBBox;\n    return layout === 'vertical'\n      ? {\n          maxWidth: vw * maxWidthRatio,\n          maxHeight: vh,\n        }\n      : {\n          maxWidth: vw,\n          maxHeight: vh * maxHeightRatio,\n        };\n  }\n}\n","import { deepMix, get, isObject, size, clamp, isNil, noop, throttle, isEmpty, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { IGroup, Slider as SliderComponent } from '../../dependents';\nimport { ComponentOption, Datum, Padding } from '../../interface';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { isBetween } from '../../util/helper';\nimport { Writeable } from '../../util/types';\nimport View from '../view';\nimport { Controller } from './base';\nimport { SliderOption, SliderCfg } from '../../interface';\n\n/**\n * @ignore\n * slider Controller\n */\nexport default class Slider extends Controller<SliderOption> {\n  private slider: ComponentOption;\n  private container: IGroup;\n\n  private width: number;\n  private start: number;\n  private end: number;\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n\n    this.width = 0;\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'slider';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  /**\n   * \n   */\n  public init() {}\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().slider;\n    const { start, end } = this.getSliderCfg();\n    if (isNil(this.start)) {\n      this.start = start;\n      this.end = end;\n    }\n\n    const { data: viewData } = this.view.getOptions();\n    if (this.option && !isEmpty(viewData)) {\n      if (this.slider) {\n        // exist, update\n        this.slider = this.updateSlider();\n      } else {\n        // not exist, create\n        this.slider = this.createSlider();\n        // \n        this.slider.component.on('sliderchange', this.onChangeFn);\n      }\n    } else {\n      if (this.slider) {\n        // exist, destroy\n        this.slider.component.destroy();\n        this.slider = undefined;\n      } else {\n        // do nothing\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.width) {\n      this.measureSlider();\n      setTimeout(() => {\n        //  view \n        if (!this.view.destroyed) {\n          this.changeViewData(this.start, this.end);\n        }\n      }, 0);\n    }\n    if (this.slider) {\n      const width = this.view.coordinateBBox.width;\n      //  layout bbox\n      const padding: Padding = this.slider.component.get('padding') as Padding;\n      const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n      const bboxObject = this.slider.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n\n      const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n      const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n\n      //  bottom\n      this.slider.component.update({\n        ...this.getSliderCfg(),\n        x: x2 + paddingLeft,\n        y: y1 + paddingTop,\n        width: this.width,\n        start: this.start,\n        end: this.end,\n        minText,\n        maxText,\n      });\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, DIRECTION.BOTTOM);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  /**\n   *  slider \n   */\n  private createSlider(): ComponentOption {\n    const cfg: any = this.getSliderCfg();\n    //  slider \n    const component = new SliderComponent({\n      container: this.container,\n      ...cfg,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: DIRECTION.BOTTOM,\n      type: COMPONENT_TYPE.SLIDER,\n    };\n  }\n\n  /**\n   * \n   */\n  private updateSlider() {\n    let cfg = this.getSliderCfg();\n    if (this.width) {\n      const { minText, maxText } = this.getMinMaxText(this.start, this.end);\n      cfg = { ...cfg, width: this.width, start: this.start, end: this.end, minText, maxText };\n    }\n\n    this.slider.component.update(cfg);\n\n    return this.slider;\n  }\n\n  /**\n   * \n   */\n  private measureSlider() {\n    const { width } = this.getSliderCfg();\n\n    this.width = width;\n  }\n\n  /**\n   * \n   */\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  /**\n   *  slider \n   */\n  private getSliderCfg() {\n    let cfg: Writeable<SliderCfg> & { x: number; y: number; width: number; minText: string; maxText: string } = {\n      height: 16,\n      start: 0,\n      end: 1,\n      minText: '',\n      maxText: '',\n      x: 0,\n      y: 0,\n      width: this.view.coordinateBBox.width,\n    };\n    if (isObject(this.option)) {\n      // \n      const trendCfg = {\n        data: this.getData(),\n        ...get(this.option, 'trendCfg', {}),\n      };\n\n      // \n      cfg = deepMix({}, cfg, this.getThemeOptions(), this.option);\n\n      // trendCfg \n      cfg = { ...cfg, trendCfg };\n    }\n\n    cfg.start = clamp(Math.min(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n    cfg.end = clamp(Math.max(isNil(cfg.start) ? 0 : cfg.start, isNil(cfg.end) ? 1 : cfg.end), 0, 1);\n\n    return cfg;\n  }\n\n  /**\n   *  view \n   */\n  private getData(): number[] {\n    const data = this.view.getOptions().data;\n    const [yScale] = this.view.getYScales();\n    const groupScales = this.view.getGroupScales();\n    if (groupScales.length) {\n      const { field, ticks } = groupScales[0];\n      return data.reduce((pre, cur) => {\n        if (cur[field] === ticks[0]) {\n          pre.push(cur[yScale.field] as number);\n        }\n        return pre;\n      }, []) as number[];\n    }\n\n    return data.map((datum) => datum[yScale.field] || 0);\n  }\n\n  /**\n   *  slider \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'slider', 'common'], {});\n  }\n\n  /**\n   * \n   * @param v\n   */\n  private onValueChange = (v: any) => {\n    const [min, max] = v;\n\n    this.start = min;\n    this.end = max;\n\n    this.changeViewData(min, max);\n  };\n\n  /**\n   *  start/end  minText/maxText\n   * @param min\n   * @param max\n   */\n  private getMinMaxText(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const isHorizontal = true;\n    let values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    if (xScale.isLinear) {\n      values = values.sort();\n    }\n\n    const xValues = isHorizontal ? values : values.reverse();\n    const dataSize = size(data);\n\n    if (!xScale || !dataSize) {\n      return {}; // fix: \n    }\n\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    let minText = get(xValues, [minIndex]);\n    let maxText = get(xValues, [maxIndex]);\n\n    const formatter = this.getSliderCfg().formatter as SliderCfg['formatter'];\n    if (formatter) {\n      minText = formatter(minText, data[minIndex], minIndex);\n      maxText = formatter(maxText, data[maxIndex], maxIndex);\n    }\n\n    return {\n      minText,\n      maxText,\n    };\n  }\n\n  /**\n   *  view \n   * @param min\n   * @param max\n   */\n  private changeViewData(min: number, max: number) {\n    const data = this.view.getOptions().data;\n    const xScale = this.view.getXScale();\n    const dataSize = size(data);\n    if (!xScale || !dataSize) {\n      return;\n    }\n    const isHorizontal = true;\n    const values = valuesOfKey(data, xScale.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    const xTickCount = size(xValues);\n\n    const minIndex = Math.floor(min * (xTickCount - 1));\n    const maxIndex = Math.floor(max * (xTickCount - 1));\n\n    //  x \n    this.view.filter(xScale.field, (value: any, datum: Datum) => {\n      const idx: number = xValues.indexOf(value);\n      return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    this.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public getComponents() {\n    return this.slider ? [this.slider] : [];\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.slider) {\n      this.slider.component.destroy();\n      this.slider = undefined;\n    }\n    this.width = 0;\n    this.start = undefined;\n    this.end = undefined;\n  }\n}\n","import { Controller } from './base';\nimport { IGroup, Scrollbar as ScrollbarComponent, Scale } from '../../dependents';\nimport { ScrollbarOption, ComponentOption, ScrollbarCfg, Data, ScaleOption, Padding } from '../../interface';\nimport View from '../view';\nimport { BBox } from '../../util/bbox';\nimport { directionToPosition } from '../../util/direction';\nimport { COMPONENT_TYPE, DIRECTION, LAYER, VIEW_LIFE_CIRCLE } from '../../constant';\nimport { isObject, clamp, size, throttle, noop, get, valuesOfKey, deepMix } from '@antv/util';\nimport { isBetween } from '../../util/helper';\n\nconst DEFAULT_PADDING: number = 0;\nconst DEFAULT_SIZE: number = 8;\nconst DEFAULT_CATEGORY_SIZE: number = 32;\nconst MIN_THUMB_LENGTH: number = 20;\n\nexport default class Scrollbar extends Controller<ScrollbarOption> {\n  private scrollbar: ComponentOption;\n  private container: IGroup;\n\n  private trackLen: number;\n  private thumbLen: number;\n  private cnt: number;\n  private step: number;\n  private ratio: number;\n  private data: Data;\n  private xScaleCfg: {\n    field: string;\n    values: string[];\n  };\n  private yScalesCfg: Scale[];\n\n  private onChangeFn: (evt: {}) => void = noop;\n\n  constructor(view: View) {\n    super(view);\n    this.container = this.view.getLayer(LAYER.FORE).addGroup();\n    this.onChangeFn = throttle(this.onValueChange, 20, {\n      leading: true,\n    }) as (evt: {}) => void;\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.on(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  get name(): string {\n    return 'scrollbar';\n  }\n\n  public destroy() {\n    super.destroy();\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, this.resetMeasure);\n    this.view.off(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_SIZE, this.resetMeasure);\n  }\n\n  public init() { }\n\n  /**\n   * \n   */\n  public render() {\n    this.option = this.view.getOptions().scrollbar;\n\n    if (this.option) {\n      if (this.scrollbar) {\n        // exist, update\n        this.scrollbar = this.updateScrollbar();\n      } else {\n        // not exist, create\n        this.scrollbar = this.createScrollbar();\n        this.scrollbar.component.on('scrollchange', this.onChangeFn);\n      }\n    } else {\n      if (this.scrollbar) {\n        // exist, destroy\n        this.scrollbar.component.destroy();\n        this.scrollbar = undefined;\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public layout() {\n    if (this.option && !this.trackLen) {\n      this.measureScrollbar();\n      setTimeout(() => {\n        if (!this.view.destroyed) {\n          this.changeViewData(this.getScrollRange(), true);\n        }\n      });\n    }\n    if (this.scrollbar) {\n      const width = this.view.coordinateBBox.width;\n      const padding: Padding = this.scrollbar.component.get('padding') as Padding;\n      const bboxObject = this.scrollbar.component.getLayoutBBox();\n      const bbox = new BBox(bboxObject.x, bboxObject.y, Math.min(bboxObject.width, width), bboxObject.height).expand(\n        padding\n      );\n      const cfg = this.getScrollbarComponentCfg();\n\n      let x: number;\n      let y: number;\n\n      if (cfg.isHorizontal) {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.BOTTOM);\n        const [x2, y2] = directionToPosition(this.view.coordinateBBox, bbox, DIRECTION.BOTTOM);\n        x = x2;\n        y = y1;\n      } else {\n        const [x1, y1] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        const [x2, y2] = directionToPosition(this.view.viewBBox, bbox, DIRECTION.RIGHT);\n        x = x2;\n        y = y1;\n      }\n\n      x += padding[3];\n      y += padding[0];\n\n      //  bottom\n      if (this.trackLen) {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n          trackLen: this.trackLen,\n          thumbLen: this.thumbLen,\n          thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n        });\n      } else {\n        this.scrollbar.component.update({\n          ...cfg,\n          x,\n          y,\n        });\n      }\n\n      this.view.viewBBox = this.view.viewBBox.cut(bbox, cfg.isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT);\n    }\n  }\n\n  /**\n   * \n   */\n  public update() {\n    //  render \n    this.render();\n  }\n\n  public getComponents() {\n    return this.scrollbar ? [this.scrollbar] : [];\n  }\n\n  public clear() {\n    if (this.scrollbar) {\n      this.scrollbar.component.destroy();\n      this.scrollbar = undefined;\n    }\n    this.trackLen = 0;\n    this.thumbLen = 0;\n    this.ratio = 0;\n    this.cnt = 0;\n    this.step = 0;\n    this.data = undefined;\n    this.xScaleCfg = undefined;\n    this.yScalesCfg = [];\n  }\n\n  /**   */\n  public setValue(ratio: number) {\n    this.onValueChange({ ratio });\n  }\n\n  /**   */\n  public getValue() {\n    return this.ratio;\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getThemeOptions() {\n    const theme = this.view.getTheme();\n    return get(theme, ['components', 'scrollbar', 'common'], {});\n  }\n\n  /**\n   *  scrollbar \n   */\n  private getScrollbarTheme(style?: ScrollbarCfg['style']) {\n    const theme = get(this.view.getTheme(), ['components', 'scrollbar']);\n    const { thumbHighlightColor, ...restStyles } = style || {};\n    return {\n      default: deepMix({}, get(theme, ['default', 'style'], {}), restStyles),\n      hover: deepMix({}, get(theme, ['hover', 'style'], {}), { thumbColor: thumbHighlightColor }),\n    };\n  }\n\n  private resetMeasure = () => {\n    this.clear();\n  };\n\n  private onValueChange = ({ ratio }: { ratio: number }) => {\n    const { animate } = this.getValidScrollbarCfg();\n    this.ratio = clamp(ratio, 0, 1);\n    const originalAnimate = this.view.getOptions().animate;\n    if (!animate) {\n      this.view.animate(false);\n    }\n    this.changeViewData(this.getScrollRange(), true);\n    this.view.animate(originalAnimate);\n  };\n\n  private measureScrollbar(): void {\n    const xScale = this.view.getXScale();\n    const yScales = this.view.getYScales().slice();\n    this.data = this.getScrollbarData();\n    this.step = this.getStep();\n    this.cnt = this.getCnt();\n    const { trackLen, thumbLen } = this.getScrollbarComponentCfg();\n    this.trackLen = trackLen;\n    this.thumbLen = thumbLen;\n    this.xScaleCfg = {\n      field: xScale.field,\n      values: xScale.values || [],\n    };\n    this.yScalesCfg = yScales;\n  }\n\n  private getScrollRange(): [number, number] {\n    const startIdx: number = Math.floor((this.cnt - this.step) * clamp(this.ratio, 0, 1));\n    const endIdx: number = Math.min(startIdx + this.step - 1, this.cnt - 1);\n    return [startIdx, endIdx];\n  }\n\n  private changeViewData([startIdx, endIdx]: [number, number], render?: boolean): void {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const values = valuesOfKey(this.data, this.xScaleCfg.field);\n\n    //  xScale \n    const xScaleValues = this.view.getXScale().isLinear ? values.sort((a, b) => Number(a) - Number(b)) : values;\n\n    const xValues = isHorizontal ? xScaleValues : xScaleValues.reverse();\n    this.yScalesCfg.forEach((cfg) => {\n      this.view.scale(cfg.field, {\n        formatter: cfg.formatter,\n        type: cfg.type as ScaleOption['type'],\n        min: cfg.min,\n        max: cfg.max,\n        tickMethod: cfg.tickMethod\n      });\n    });\n    this.view.filter(this.xScaleCfg.field, (val) => {\n      const idx = xValues.indexOf(val);\n      return idx > -1 ? isBetween(idx, startIdx, endIdx) : true;\n    });\n    this.view.render(true);\n  }\n\n  private createScrollbar(): ComponentOption {\n    const { type } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const component = new ScrollbarComponent({\n      container: this.container,\n      ...this.getScrollbarComponentCfg(),\n      x: 0,\n      y: 0,\n    });\n\n    component.init();\n\n    return {\n      component,\n      layer: LAYER.FORE,\n      direction: isHorizontal ? DIRECTION.BOTTOM : DIRECTION.RIGHT,\n      type: COMPONENT_TYPE.SCROLLBAR,\n    };\n  }\n\n  private updateScrollbar(): ComponentOption {\n    const config = this.getScrollbarComponentCfg();\n    const realConfig = this.trackLen\n      ? {\n        ...config,\n        trackLen: this.trackLen,\n        thumbLen: this.thumbLen,\n        thumbOffset: (this.trackLen - this.thumbLen) * this.ratio,\n      }\n      : { ...config };\n    this.scrollbar.component.update(realConfig);\n\n    return this.scrollbar;\n  }\n\n  private getStep() {\n    if (this.step) {\n      return this.step;\n    }\n    const { coordinateBBox } = this.view;\n    const { type, categorySize } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n\n    return Math.floor((isHorizontal ? coordinateBBox.width : coordinateBBox.height) / categorySize);\n  }\n\n  private getCnt() {\n    if (this.cnt) {\n      return this.cnt;\n    }\n    const xScale = this.view.getXScale();\n    const data = this.getScrollbarData();\n    const values = valuesOfKey(data, xScale.field);\n    return size(values);\n  }\n\n  private getScrollbarComponentCfg() {\n    const { coordinateBBox, viewBBox } = this.view;\n    const { type, padding, width, height, style } = this.getValidScrollbarCfg();\n    const isHorizontal = type !== 'vertical';\n    const [paddingTop, paddingRight, paddingBottom, paddingLeft] = padding;\n    const position = isHorizontal\n      ? {\n        x: coordinateBBox.minX + paddingLeft,\n        y: viewBBox.maxY - height - paddingBottom,\n      }\n      : {\n        x: viewBBox.maxX - width - paddingRight,\n        y: coordinateBBox.minY + paddingTop,\n      };\n    const step = this.getStep();\n    const cnt = this.getCnt();\n    const trackLen = isHorizontal\n      ? coordinateBBox.width - paddingLeft - paddingRight\n      : coordinateBBox.height - paddingTop - paddingBottom;\n    const thumbLen = Math.max(trackLen * clamp(step / cnt, 0, 1), MIN_THUMB_LENGTH);\n\n    return {\n      ...this.getThemeOptions(),\n      x: position.x,\n      y: position.y,\n      size: isHorizontal ? height : width,\n      isHorizontal,\n      trackLen,\n      thumbLen,\n      thumbOffset: 0,\n      theme: this.getScrollbarTheme(style),\n    };\n  }\n\n  /**\n   * \n   */\n  private getValidScrollbarCfg(): Required<ScrollbarCfg> {\n    let cfg: Required<ScrollbarCfg> = {\n      type: 'horizontal',\n      categorySize: DEFAULT_CATEGORY_SIZE,\n      width: DEFAULT_SIZE,\n      height: DEFAULT_SIZE,\n      padding: [0, 0, 0, 0],\n      animate: true,\n      style: {},\n    };\n    if (isObject(this.option)) {\n      cfg = { ...cfg, ...this.option };\n    }\n    if (!isObject(this.option) || !this.option.padding) {\n      cfg.padding =\n        cfg.type === 'horizontal' ? [DEFAULT_PADDING, 0, DEFAULT_PADDING, 0] : [0, DEFAULT_PADDING, 0, DEFAULT_PADDING];\n    }\n\n    return cfg;\n  }\n\n  /**\n   * \n   */\n  private getScrollbarData(): Data {\n    const coordinate = this.view.getCoordinate();\n    const cfg = this.getValidScrollbarCfg();\n    let data = this.view.getOptions().data || [];\n    //  y \n    if (coordinate.isReflect('y') && cfg.type === 'vertical') {\n      data = [...data].reverse();\n    }\n\n    return data;\n  }\n}\n","import { each, head, isEqual, last, get, flatten, isArray, uniq, isNil } from '@antv/util';\nimport { View } from 'src/chart';\nimport { findItemsFromViewRecurisive } from '../../util/tooltip';\nimport { IShape, Point, ShapeAttrs } from '../../dependents';\nimport Element from '../../geometry/element';\nimport { LooseObject, TooltipCfg } from '../../interface';\nimport { getAngle, getSectorPath } from '../../util/graphics';\nimport Action from './base';\n\nconst DEFAULT_REGION_PATH_STYLE = {\n  fill: '#CCD6EC',\n  opacity: 0.3,\n};\n\nexport function getItemsOfView(view: View, point: Point, tooltipCfg: TooltipCfg) {\n  let items = findItemsFromViewRecurisive(view, point, tooltipCfg);\n  if (items.length) {\n    // \n    items = flatten(items);\n    for (const itemArr of items) {\n      for (const item of itemArr) {\n        const { x, y } = item.mappingData;\n        item.x = isArray(x) ? x[x.length - 1] : x;\n        item.y = isArray(y) ? y[y.length - 1] : y;\n      }\n    }\n\n    const { shared } = tooltipCfg;\n    // shared: false  shape  view  Geometry shape\n    if (shared === false && items.length > 1) {\n      let snapItem = items[0];\n      let min = Math.abs(point.y - snapItem[0].y);\n      for (const aItem of items) {\n        const yDistance = Math.abs(point.y - aItem[0].y);\n        if (yDistance <= min) {\n          snapItem = aItem;\n          min = yDistance;\n        }\n      }\n      items = [snapItem];\n    }\n\n    return uniq(flatten(items));\n  }\n\n  return [];\n}\n\n/**\n *  Action.  interval  schema geometry\n * @ignore\n */\nclass ActiveRegion extends Action {\n  private items: any[];\n  private regionPath: IShape;\n  /**\n   * \n   * @param {ShapeAttrs} style region-path \n   * @param {number} appendRatio .  x  linear : 0.25, x  linear :  0\n   * @param {number} appendWidth  .  > appendRatio\n   */\n  public show(args?: { style: ShapeAttrs; appendRatio?: number; appendWidth?: number }) {\n    const view = this.context.view;\n    const ev = this.context.event;\n\n    const tooltipCfg = view.getController('tooltip').getTooltipCfg();\n    const tooltipItems = getItemsOfView(\n      view,\n      {\n        x: ev.x,\n        y: ev.y,\n      },\n      tooltipCfg\n    );\n\n    if (isEqual(tooltipItems, this.items)) {\n      // \n      return;\n    }\n    this.items = tooltipItems;\n    if (tooltipItems.length) {\n      const xField = view.getXScale().field;\n      const xValue = tooltipItems[0].data[xField];\n      //  x  elements\n      let elements: Element[] = [];\n      const geometries = view.geometries;\n      each(geometries, (geometry) => {\n        if (geometry.type === 'interval' || geometry.type === 'schema') {\n          const result = geometry.getElementsBy((ele) => {\n            const eleData = ele.getData();\n            return eleData[xField] === xValue;\n          });\n\n          elements = elements.concat(result);\n        }\n      });\n\n      //  bbox \n      if (elements.length) {\n        const coordinate = view.getCoordinate();\n\n        let firstBBox = elements[0].shape.getCanvasBBox();\n        let lastBBox = elements[0].shape.getCanvasBBox();\n        const groupBBox: LooseObject = firstBBox;\n\n        each(elements, (ele: Element) => {\n          const bbox = ele.shape.getCanvasBBox();\n          if (coordinate.isTransposed) {\n            if (bbox.minY < firstBBox.minY) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxY > lastBBox.maxY) {\n              lastBBox = bbox;\n            }\n          } else {\n            if (bbox.minX < firstBBox.minX) {\n              firstBBox = bbox;\n            }\n            if (bbox.maxX > lastBBox.maxX) {\n              lastBBox = bbox;\n            }\n          }\n\n          groupBBox.x = Math.min(bbox.minX, groupBBox.minX);\n          groupBBox.y = Math.min(bbox.minY, groupBBox.minY);\n          groupBBox.width = Math.max(bbox.maxX, groupBBox.maxX) - groupBBox.x;\n          groupBBox.height = Math.max(bbox.maxY, groupBBox.maxY) - groupBBox.y;\n        });\n\n        const { backgroundGroup, coordinateBBox } = view;\n        let path;\n        if (coordinate.isRect) {\n          const xScale = view.getXScale();\n\n          let { appendRatio, appendWidth } = args || {};\n          if (isNil(appendWidth)) {\n            appendRatio = isNil(appendRatio) ? (xScale.isLinear ? 0 : 0.25) : appendRatio; //  x \n            appendWidth = coordinate.isTransposed ? appendRatio * lastBBox.height : appendRatio * firstBBox.width;\n          }\n\n          let minX: number;\n          let minY: number;\n          let width: number;\n          let height: number;\n          if (coordinate.isTransposed) {\n            minX = coordinateBBox.minX;\n            minY = Math.min(lastBBox.minY, firstBBox.minY) - appendWidth;\n            width = coordinateBBox.width;\n            height = groupBBox.height + appendWidth * 2;\n          } else {\n            minX = Math.min(firstBBox.minX, lastBBox.minX) - appendWidth;\n            //    minY\n            minY = coordinateBBox.minY;\n            width = groupBBox.width + appendWidth * 2;\n            height = coordinateBBox.height;\n          }\n\n          path = [\n            ['M', minX, minY],\n            ['L', minX + width, minY],\n            ['L', minX + width, minY + height],\n            ['L', minX, minY + height],\n            ['Z'],\n          ];\n        } else {\n          const firstElement = head(elements);\n          const lastElement = last(elements);\n          const { startAngle } = getAngle(firstElement.getModel(), coordinate);\n          const { endAngle } = getAngle(lastElement.getModel(), coordinate);\n          const center = coordinate.getCenter();\n          const radius = coordinate.getRadius();\n          const innterRadius = coordinate.innerRadius * radius;\n          path = getSectorPath(center.x, center.y, radius, startAngle, endAngle, innterRadius);\n        }\n\n        if (this.regionPath) {\n          this.regionPath.attr('path', path);\n          this.regionPath.show();\n        } else {\n          const style = get(args, 'style', DEFAULT_REGION_PATH_STYLE);\n          this.regionPath = backgroundGroup.addShape({\n            type: 'path',\n            name: 'active-region',\n            capture: false,\n            attrs: {\n              ...style,\n              path,\n            },\n          });\n        }\n      }\n    }\n  }\n  /**\n   * \n   */\n  public hide() {\n    if (this.regionPath) {\n      this.regionPath.hide();\n    }\n    // this.regionPath = null;\n    this.items = null;\n  }\n  /**\n   * \n   */\n  public destroy() {\n    this.hide();\n    if (this.regionPath) {\n      this.regionPath.remove(true);\n    }\n    super.destroy();\n  }\n}\n\nexport default ActiveRegion;\n","import { isEqual, get } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport Tooltip from '../../../../chart/controller/tooltip';\n\n/**\n * Tooltip  Action\n * @ignore\n */\nclass TooltipAction extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const view = context.view;\n    const isTooltipLocked = view.isTooltipLocked();\n    if (isTooltipLocked) {\n      //  tooltip\n      return;\n    }\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    //  showDelay  16ms tooltip  enterable\n    const showDelay = get(context.view.getOptions(), 'tooltip.showDelay', 16);\n    if (timeStamp - lastTimeStamp > showDelay) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(view, curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    const view = this.context.view;\n\n    const tooltip = view.getController('tooltip');\n    const { clientX, clientY } = this.context.event;\n\n    //  enterable +  tooltip \n    if (tooltip.isCursorEntered({ x: clientX, y: clientY })) {\n      return;\n    }\n\n    //  tooltip \n    if (view.isTooltipLocked()) {\n      return;\n    }\n    this.hideTooltip(view);\n    this.location = null;\n  }\n\n  protected showTooltip(view: View, point: Point) {\n    // \n    view.showTooltip(point);\n  }\n\n  protected hideTooltip(view) {\n    view.hideTooltip();\n  }\n}\n\nexport default TooltipAction;\n","import { each } from '@antv/util';\nimport { View } from '../../../../chart';\nimport { Point } from '../../../../interface';\nimport { getSiblingPoint, getSilbings } from '../../util';\nimport TooltipAction from './geometry';\n\n/**\n *  view  view  tooltip \n * @ignore\n */\nclass SiblingTooltip extends TooltipAction {\n  /**\n   *  tooltip \n   * @param view\n   * @param point\n   */\n  protected showTooltip(view: View, point: Point) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const siblingPoint = getSiblingPoint(view, sibling, point);\n      sibling.showTooltip(siblingPoint);\n    });\n  }\n  /**\n   *  tooltip\n   * @param view\n   */\n  protected hideTooltip(view) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n}\n\nexport default SiblingTooltip;\n","import { isEqual, get, deepMix } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { Point } from '../../../../interface';\nimport Action from '../../base';\nimport { HtmlTooltip } from '../../../../dependents';\n\n/**\n *  Tooltip Action\n * @ignore\n */\nexport default class EllipsisText extends Action {\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public show() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    if (timeStamp - lastTimeStamp > 16) {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n      this.timeStamp = timeStamp;\n      this.location = curLoc;\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hide() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      const tipContent = target.get('tip');\n      //  tooltip\n      this.tooltip.update({\n        title: tipContent,\n        ...curLoc,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const view = this.context.view;\n    const canvas = view.canvas;\n\n    const region = {\n      start: { x: 0, y: 0 },\n      end: { x: canvas.get('width'), y: canvas.get('height') },\n    };\n\n    const theme = view.getTheme();\n    const tooltipStyles = get(theme, ['components', 'tooltip', 'domStyles'], {}); //  tooltip \n    const tooltip = new HtmlTooltip({\n      parent: canvas.get('el').parentNode,\n      region,\n      visible: false,\n      crosshairs: null,\n      domStyles: {\n        ...deepMix({}, tooltipStyles, {\n          // tooltip tip  50%\n          [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: { 'max-width': '50%' },\n          [TOOLTIP_CSS_CONST.TITLE_CLASS]: { 'word-break': 'break-all' },\n        }),\n      },\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport Action from '../base';\nimport { getElementsByState } from '../util';\n\n/**\n *  Action \n * @abstract\n * @class\n * @ignore\n */\nabstract class StateBase extends Action {\n  /**\n   * \n   */\n  protected stateName: string = '';\n\n  /**\n   * \n   * @param enable \n   */\n  protected abstract setStateEnable(enable: boolean);\n\n  /**\n   * \n   * @param element  Element \n   */\n  protected hasState(element: Element): boolean {\n    return element.hasState(this.stateName);\n  }\n  /**\n   * \n   * @param enable \n   */\n  protected setElementState(element: Element, enable: boolean) {\n    // \n    element.setState(this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   *  Element \n   */\n  public clear() {\n    const view = this.context.view;\n    this.clearViewState(view);\n  }\n\n  protected clearViewState(view) {\n    const elements = getElementsByState(view, this.stateName);\n    each(elements, (el: Element) => {\n      this.setElementState(el, false);\n    });\n  }\n}\n\nexport default StateBase;\n","import { each, isNil, get } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport {\n  getCurrentElement,\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isElementChange,\n  isList,\n} from '../util';\nimport StateBase from './state-base';\n\nfunction getItem(shape) {\n  return get(shape.get('delegateObject'), 'item');\n}\n\n/**\n *  Action  Element \n * @class\n * @ignore\n */\nclass ElementState extends StateBase {\n  protected ignoreListItemStates = ['unchecked'];\n\n  // \n  private isItemIgnore(item: ListItem, list) {\n    const states = this.ignoreListItemStates;\n    const filtered = states.filter((state) => {\n      return list.hasState(item, state);\n    });\n    return !!filtered.length;\n  }\n\n  // \n  private setStateByComponent(component, item: ListItem, enable: boolean) {\n    const view = this.context.view;\n    const field = component.get('field');\n    const elements = getElements(view);\n    this.setElementsStateByItem(elements, field, item, enable);\n  }\n\n  //  element \n  protected setStateByElement(element: Element, enable: boolean) {\n    this.setElementState(element, enable);\n  }\n\n  /**  element  */\n  protected isMathItem(element: Element, field: string, item: ListItem) {\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    return !isNil(value) && item.name === scale.getText(value);\n  }\n\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    each(elements, (el) => {\n      if (this.isMathItem(el, field, item)) {\n        el.setState(this.stateName, enable);\n      }\n    });\n  }\n\n  /**  */\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element \n      if (isElementChange(this.context)) {\n        this.setStateByElement(element, enable);\n      }\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      // \n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (item && component && !this.isItemIgnore(item, component)) {\n          const event = this.context.event.gEvent;\n          // \n          if (event && event.fromShape && event.toShape && getItem(event.fromShape) === getItem(event.toShape)) {\n            return;\n          }\n          this.setStateByComponent(component, item, enable);\n        }\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementState;\n","import StateAction from './state';\n\n/**\n *  active  Action active\n * @class\n * @ignore\n */\nclass ElementActive extends StateAction {\n  protected stateName: string = 'active';\n  /**\n   * Active Element\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementActive;\n","import Action from '../base';\nimport { getCurrentElement, getElementValue, getElementsByField } from '../util';\nimport Element from '../../../geometry/element/';\nimport { deepMix, each, isFunction } from '@antv/util';\nimport { LooseObject } from '../../../interface';\nimport { IGroup, ShapeAttrs } from '../../../dependents';\n\ntype LinkActiveStyle = ShapeAttrs | ((style: ShapeAttrs, Element: Element) => ShapeAttrs);\n\n/**\n * Link Elements by color\n *\n * public element-link-by-color:link, element-link-by-color:unlink, element-link-by-color:clear\n */\nclass LinkByColor extends Action {\n  private linkGroup: IGroup;\n  private cache: LooseObject = {};\n  //  scale\n  private getColorScale(view, element) {\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return null;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    return scale;\n  }\n  //  path\n  private getLinkPath(element: Element, nextElement: Element) {\n    const view = this.context.view;\n    const { isTransposed } = view.getCoordinate();\n    const bbox = element.shape.getCanvasBBox();\n    const nextBBox = nextElement.shape.getCanvasBBox();\n    const path = isTransposed\n      ? [\n          ['M', bbox.minX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', nextBBox.maxX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.minY],\n          ['Z'],\n        ]\n      : [\n          ['M', bbox.maxX, bbox.minY],\n          ['L', nextBBox.minX, nextBBox.minY],\n          ['L', nextBBox.minX, nextBBox.maxY],\n          ['L', bbox.maxX, bbox.maxY],\n          ['Z'],\n        ];\n    return path;\n  }\n  // \n  private addLinkShape(group: IGroup, element: Element, nextElement: Element, activeStyle?: LinkActiveStyle) {\n    const style = {\n      opacity: 0.4,\n      fill: element.shape.attr('fill'),\n    };\n    group.addShape({\n      type: 'path',\n      attrs: {\n        ...deepMix({}, style, isFunction(activeStyle) ? activeStyle(style, element) : activeStyle),\n        path: this.getLinkPath(element, nextElement),\n      },\n    });\n  }\n  // \n  private linkByElement(element: Element, activeStyle?: LinkActiveStyle) {\n    const view = this.context.view;\n    const scale = this.getColorScale(view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (!this.cache[value]) {\n      const elements = getElementsByField(view, scale.field, value);\n      const linkGroup = this.linkGroup;\n      const group = linkGroup.addGroup();\n      this.cache[value] = group; // \n      const count = elements.length;\n      each(elements, (el, index) => {\n        if (index < count - 1) {\n          const nextEl = elements[index + 1];\n          this.addLinkShape(group, el, nextEl, activeStyle);\n        }\n      });\n    }\n  }\n  // \n  private removeLink(element) {\n    const scale = this.getColorScale(this.context.view, element);\n    if (!scale) {\n      return;\n    }\n    const value = getElementValue(element, scale.field);\n    if (this.cache[value]) {\n      this.cache[value].remove();\n      this.cache[value] = null;\n    }\n  }\n\n  /**\n   *  elements\n   *\n   * @usage\n   * registerInteraction('xxx', {\n   *   start: [\n   *    {\n   *      trigger: 'interval:mouseenter',\n   *      action: 'element-link-by-color:link',\n   *      arg: {\n   *        // style: { fill: 'red' }\n   *        style: (style, element) => ({ fill: 'red' })\n   *     },\n   *   },\n   *  ],\n   * });\n   */\n  public link(args?: { style: LinkActiveStyle }) {\n    const context = this.context;\n    if (!this.linkGroup) {\n      // \n      this.linkGroup = context.view.foregroundGroup.addGroup({\n        id: 'link-by-color-group',\n        capture: false,\n      });\n    }\n    const element = getCurrentElement(context);\n    if (element) {\n      this.linkByElement(element, args?.style);\n    }\n  }\n\n  /**\n   *  elements\n   */\n  public unlink() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      this.removeLink(element);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    if (this.linkGroup) {\n      this.linkGroup.clear();\n    }\n    this.cache = {};\n  }\n\n  /**\n   * \n   */\n  destroy() {\n    super.destroy();\n    if (this.linkGroup) {\n      this.linkGroup.remove();\n    }\n  }\n}\nexport default LinkByColor;\n","import { each } from '@antv/util';\nimport Element from '../../../geometry/element/';\nimport {\n  getElements,\n  getIntersectElements,\n  getMaskedElements,\n  getSiblingMaskElements,\n  getSilbings,\n  isInRecords,\n  isMask,\n} from '../util';\nimport StateBase from './state-base';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeState extends StateBase {\n  private startPoint = null;\n  private endPoint = null;\n  private isStarted: boolean = false;\n  /**\n   *  view  siblings false \n   */\n  protected effectSiblings = false;\n  /**\n   *  element \n   */\n  protected effectByRecord = false;\n  // \n  private getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n\n  /**\n   * \n   */\n  public start() {\n    this.clear(); // \n    this.startPoint = this.getCurrentPoint();\n    this.isStarted = true;\n  }\n\n  protected getIntersectElements() {\n    let elements = null;\n    if (isMask(this.context)) {\n      elements = getMaskedElements(this.context, 10);\n    } else {\n      const startPoint = this.startPoint;\n      const endPoint = this.isStarted ? this.getCurrentPoint() : this.endPoint;\n      // \n      if (!startPoint || !endPoint) {\n        return;\n      }\n      // \n      const box = {\n        minX: Math.min(startPoint.x, endPoint.x),\n        minY: Math.min(startPoint.y, endPoint.y),\n        maxX: Math.max(startPoint.x, endPoint.x),\n        maxY: Math.max(startPoint.y, endPoint.y),\n      };\n      // this.clear(); // \n      const view = this.context.view;\n      elements = getIntersectElements(view, box);\n    }\n    return elements;\n  }\n  /**\n   * \n   */\n  public setStateEnable(enable: boolean) {\n    if (this.effectSiblings && !this.effectByRecord) {\n      this.setSiblingsState(enable);\n    } else {\n      const allElements = getElements(this.context.view);\n      const elements = this.getIntersectElements();\n      if (elements && elements.length) {\n        if (this.effectByRecord) {\n          this.setSiblingsStateByRecord(elements, enable);\n        } else {\n          this.setElementsState(elements, enable, allElements);\n        }\n      } else {\n        this.clear();\n      }\n    }\n  }\n  //  element \n  private setSiblingsStateByRecord(elements, enable) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    const records = elements.map((el) => {\n      return el.getModel().data;\n    });\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    each(siblings, (sibling) => {\n      const allElements = getElements(sibling);\n      const effectElements = allElements.filter((el) => {\n        const record = el.getModel().data;\n        return isInRecords(records, record, xFiled, yField);\n      });\n      this.setElementsState(effectElements, enable, allElements);\n    });\n  }\n\n  //  view \n  private setSiblingsState(enable: boolean) {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    if (isMask(this.context)) {\n      //  mask \n      each(siblings, (sibling) => {\n        const allElements = getElements(sibling);\n        const effectElements = getSiblingMaskElements(this.context, sibling, 10);\n        if (effectElements && effectElements.length) {\n          this.setElementsState(effectElements, enable, allElements);\n        } else {\n          this.clearViewState(sibling);\n        }\n      });\n    }\n  }\n\n  protected setElementsState(elements: Element[], enable, allElements: Element[]) {\n    each(allElements, (el) => {\n      if (!elements.includes(el)) {\n        this.setElementState(el, false);\n      } else {\n        this.setElementState(el, enable);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n    this.endPoint = this.getCurrentPoint();\n  }\n\n  //  clear\n  public clear() {\n    const view = this.context.view;\n    //  siblings\n    if (this.effectSiblings) {\n      const siblings = getSilbings(view);\n      each(siblings, (sibling) => {\n        this.clearViewState(sibling);\n      });\n    } else {\n      this.clearViewState(view);\n    }\n  }\n}\n\nexport default ElementRangeState;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Active  Action\n */\nclass ElementRangeActive extends ElementRangeState {\n  protected stateName: string = 'active';\n  /**\n   *  Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeActive;\n","import { getCurrentElement, isElementChange } from '../util';\nimport StateBase from './state-base';\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ElementSingleState extends StateBase {\n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      //  element  label  shape \n      if (!isElementChange(this.context)) {\n        return;\n      }\n      //  element \n      if (enable) {\n        this.clear();\n        this.setElementState(element, true);\n      } else if (this.hasState(element)) {\n        this.setElementState(element, false);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = this.hasState(element); // \n      if (!hasState) {\n        this.clear();\n      }\n      this.setElementState(element, !hasState);\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n}\n\nexport default ElementSingleState;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Active  Action\n */\nclass ElementSingleActive extends ElementSingleState {\n  protected stateName: string = 'active';\n  /**\n   *  Element Active\n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleActive;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport Element from '../../../geometry/element/';\nimport { getElements } from '../util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getElements(view);\n  each(elements, (el) => {\n    if (el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_ACTIVE, false);\n    }\n    if (el.hasState(STATUS_UNACTIVE)) {\n      el.setState(STATUS_UNACTIVE, false);\n    }\n  });\n}\n\ntype MatchCallback = (el: Element) => boolean;\n\n/**\n * @ignore\n *  highlight\n * @param elements \n * @param callback \n * @param enable \n */\nexport function setHighlightBy(elements: Element[], callback: MatchCallback, enable: boolean) {\n  each(elements, (el) => {\n    //  active  unactive \n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, enable);\n    } else {\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n      el.setState(STATUS_UNACTIVE, enable);\n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element/';\nimport { getElements, getElementsByState } from '../util';\nimport { clearHighlight } from './highlight-util';\nimport StateAction from './state';\n\nimport { ELEMENT_STATE } from '../../../constant';\n\nexport const STATUS_UNACTIVE = ELEMENT_STATE.INACTIVE;\nexport const STATUS_ACTIVE = ELEMENT_STATE.ACTIVE;\nexport type Callback = (el) => boolean;\n\n/**\n * @ignore\n * highlight\n */\nclass ElementHighlight extends StateAction {\n  protected stateName: string = STATUS_ACTIVE;\n\n  //  highlight\n  protected setElementsStateByItem(elements: Element[], field: string, item: ListItem, enable: boolean) {\n    const callback = (el) => this.isMathItem(el, field, item);\n    this.setHighlightBy(elements, callback, enable);\n  }\n\n  //  highlight\n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else if (!el.hasState(STATUS_ACTIVE)) {\n      el.setState(STATUS_UNACTIVE, true);\n    }\n  }\n\n  protected setHighlightBy(elements: Element[], callback: Callback, enable: boolean) {\n    if (enable) {\n      //  highlight  element  active\n      //  active unactive\n      each(elements, (el) => {\n        this.setElementHighlight(el, callback);\n      });\n    } else {\n      //  highlight highlight\n      const activeElements = getElementsByState(this.context.view, STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeElements  highlight\n      each(activeElements, (el) => {\n        if (!callback(el)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        //  activeunactive \n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(elements, (el) => {\n          if (callback(el)) {\n            if (el.hasState(STATUS_ACTIVE)) {\n              el.setState(STATUS_ACTIVE, false);\n            }\n            el.setState(STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  //  highlight\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    this.setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  public highlight() {\n    this.setState();\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementHighlight;\n","import Element from '../../../geometry/element';\nimport { Event } from '../../../chart';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementRangeState from './range-state';\n\nenum EVENTS {\n  BEFORE_HIGHLIGHT = 'element-range-highlight:beforehighlight',\n  AFTER_HIGHLIGHT = 'element-range-highlight:afterhighlight',\n  BEFORE_CLEAR = 'element-range-highlight:beforeclear',\n  AFTER_CLEAR = 'element-range-highlight:afterclear',\n}\n\nexport { EVENTS as ELEMENT_RANGE_HIGHLIGHT_EVENTS };\n\n/**\n * @ignore\n *  highlight  Action\n */\nclass ElementRangeHighlight extends ElementRangeState {\n  protected stateName: string = 'active';\n\n  //  active unactive \n  protected clearViewState(view) {\n    clearHighlight(view);\n  }\n\n  /**\n   *  highlight\n   */\n  public highlight() {\n    const { view, event } = this.context;\n    const elements = this.getIntersectElements();\n    const payload = { view, event, highlightElements: elements };\n    view.emit(EVENTS.BEFORE_HIGHLIGHT, Event.fromData(view, EVENTS.BEFORE_HIGHLIGHT, payload));\n    this.setState();\n    view.emit(EVENTS.AFTER_HIGHLIGHT, Event.fromData(view, EVENTS.AFTER_HIGHLIGHT, payload));\n  }\n\n  /**\n   * @overrider \n   */\n  public clear() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_CLEAR, Event.fromData(view, EVENTS.BEFORE_CLEAR, {}));\n    super.clear();\n    view.emit(EVENTS.AFTER_CLEAR, Event.fromData(view, EVENTS.AFTER_CLEAR, {}));\n  }\n\n  protected setElementsState(elements: Element[], enable: boolean, allElements: Element[]) {\n    setHighlightBy(allElements, (el) => elements.indexOf(el) >= 0, enable);\n  }\n}\n\nexport default ElementRangeHighlight;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue } from '../util';\nimport Highlight from './highlight';\n\n/**\n * Highlight color\n * @ignore\n */\nclass HighlightColor extends Highlight {\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const colorAttr = element.geometry.getAttribute('color');\n    if (!colorAttr) {\n      return;\n    }\n    const scale = view.getScaleByField(colorAttr.getFields()[0]);\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n}\n\nexport default HighlightColor;\n","import Element from '../../../geometry/element/';\nimport { getElements, getElementValue, getCurrentElement } from '../util';\nimport Highlight, { STATUS_ACTIVE, STATUS_UNACTIVE, Callback } from './highlight';\n\n/**\n * Highlight x\n * @ignore\n */\nclass HighlightX extends Highlight {\n  // \n  protected setElementHighlight(el: Element, callback: Callback) {\n    if (callback(el)) {\n      if (el.hasState(STATUS_UNACTIVE)) {\n        el.setState(STATUS_UNACTIVE, false);\n      }\n      el.setState(STATUS_ACTIVE, true);\n    } else {\n      el.setState(STATUS_UNACTIVE, true);\n      if (el.hasState(STATUS_ACTIVE)) {\n        el.setState(STATUS_ACTIVE, false);\n      }\n    }\n  }\n\n  protected setStateByElement(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const scale = view.getXScale();\n    const value = getElementValue(element, scale.field);\n    const elements = getElements(view);\n    const highlightElements = elements.filter((el) => {\n      return getElementValue(el, scale.field) === value;\n    });\n    this.setHighlightBy(elements, (el) => highlightElements.includes(el), enable);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      const hasState = element.hasState(this.stateName);\n      this.setStateByElement(element, !hasState);\n    }\n  }\n}\n\nexport default HighlightX;\n","import Element from '../../../geometry/element/';\nimport { getElements } from '../util';\nimport { clearHighlight, setHighlightBy } from './highlight-util';\nimport ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Element Highlight  Action\n */\nclass ElementSingleHighlight extends ElementSingleState {\n  protected stateName: string = 'active';\n\n  /**\n   * Element Highlight\n   */\n  public highlight() {\n    this.setState();\n  }\n\n  protected setElementState(element: Element, enable: boolean) {\n    const view = this.context.view;\n    const elements = getElements(view);\n    setHighlightBy(elements, (el) => element === el, enable);\n  }\n\n  //  active unactive \n  public clear() {\n    const view = this.context.view;\n    clearHighlight(view);\n  }\n}\n\nexport default ElementSingleHighlight;\n","import ElementRangeState from './range-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementRangeSelected extends ElementRangeState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementRangeSelected;\n","import StateAction from './state';\n\n/**\n * @ignore\n *  Action\n * @class\n */\nclass ElementMultipleSelected extends StateAction {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementMultipleSelected;\n","import ElementSingleState from './single-state';\n\n/**\n * @ignore\n *  Action\n */\nclass ElementSingleSelected extends ElementSingleState {\n  protected stateName: string = 'selected';\n  /**\n   * \n   */\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ElementSingleSelected;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport Element from '../../../geometry/element';\nimport { LooseObject } from '../../../interface';\nimport Action from '../base';\nimport { getComponents } from '../util';\nimport { getCurrentElement, getDelegationObject, getElementValue, isList, getScaleByField } from '../util';\n\n/** @ignore */\ninterface ListStateCfg {\n  componentNames: string[];\n}\n\n/**\n *  Action \n * @class\n * @ignore\n */\nclass ListState extends Action<ListStateCfg> {\n  protected stateName: string = '';\n  protected ignoreItemStates = [];\n\n  /**  */\n  protected getTriggerListInfo() {\n    const delegateObject = getDelegationObject(this.context);\n    let info: LooseObject = null;\n    if (isList(delegateObject)) {\n      info = {\n        item: delegateObject.item,\n        list: delegateObject.component,\n      };\n    }\n    return info;\n  }\n  //  Action \n  protected getAllowComponents() {\n    const view = this.context.view;\n    const components = getComponents(view);\n    const rst = [];\n    each(components, (component) => {\n      if (component.isList() && this.allowSetStateByElement(component)) {\n        rst.push(component);\n      }\n    });\n    return rst;\n  }\n\n  /**  */\n  protected hasState(list: IList, item: ListItem) {\n    return list.hasState(item, this.stateName);\n  }\n\n  /**  */\n  protected clearAllComponentsState() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(this.stateName);\n    });\n  }\n\n  //  component  active scale \n  protected allowSetStateByElement(component): boolean {\n    const field = component.get('field');\n    if (!field) {\n      return false;\n    }\n    if (this.cfg && this.cfg.componentNames) {\n      const name = component.get('name');\n      //  component name\n      if (this.cfg.componentNames.indexOf(name) === -1) {\n        return false;\n      }\n    }\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    return scale && scale.isCategory;\n  }\n  // \n  private allowSetStateByItem(item: ListItem, list: IList) {\n    const ignoreStates = this.ignoreItemStates;\n    if (ignoreStates.length) {\n      const filterStates = ignoreStates.filter((state) => {\n        return list.hasState(item, state);\n      });\n      return filterStates.length === 0;\n    }\n    return true; // \n  }\n\n  //  item active\n  private setStateByElement(component, element: Element, enable: boolean) {\n    const field = component.get('field');\n    const view = this.context.view;\n    const scale = getScaleByField(view, field);\n    const value = getElementValue(element, field);\n    const text = scale.getText(value);\n    this.setItemsState(component, text, enable);\n  }\n\n  // \n  protected setStateEnable(enable: boolean) {\n    const element = getCurrentElement(this.context);\n    if (element) {\n      // trigger by element\n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        this.setStateByElement(component, element, enable);\n      });\n    } else {\n      // \n      const delegateObject = getDelegationObject(this.context);\n      if (isList(delegateObject)) {\n        const { item, component } = delegateObject;\n        if (this.allowSetStateByElement(component) && this.allowSetStateByItem(item, component)) {\n          this.setItemState(component, item, enable);\n        }\n      }\n    }\n  }\n\n  //  item \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    const items = list.getItems();\n    each(items, (item) => {\n      if (item.name === name) {\n        this.setItemState(list, item, enable);\n      }\n    });\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    list.setItemState(item, this.stateName, enable);\n  }\n\n  /**\n   * \n   */\n  public setState() {\n    this.setStateEnable(true);\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.setStateEnable(false);\n  }\n\n  /**\n   * \n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n      const enable = this.hasState(list, item);\n      this.setItemState(list, item, !enable);\n    }\n  }\n\n  /**\n   * \n   */\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      triggerInfo.list.clearItemsState(this.stateName);\n    } else {\n      this.clearAllComponentsState();\n    }\n  }\n}\n\nexport default ListState;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @class\n * @ignore\n */\nclass ListActive extends ListState {\n  protected stateName: string = 'active';\n  /**\n   * \n   */\n  public active() {\n    this.setState();\n  }\n}\n\nexport default ListActive;\n","import { each } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport { clearList } from './list-highlight-util';\nimport ListState from './list-state';\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * highlight Action  active  inactive \n * @class\n * @ignore\n */\nclass ListHighlight extends ListState {\n  protected stateName: string = STATUS_ACTIVE;\n  protected ignoreItemStates = ['unchecked']; //  unchecked \n  //  item.name  highlight \n  protected setItemsState(list: IList, name: string, enable: boolean) {\n    this.setHighlightBy(list, (item) => item.name === name, enable);\n  }\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    const items = list.getItems();\n    this.setHighlightBy(list, (el) => el === item, enable);\n  }\n\n  //  highlight\n  private setHighlightBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  highlight  Highlight \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNACTIVE)) {\n            list.setItemState(item, STATUS_UNACTIVE, false);\n          }\n          list.setItemState(item, STATUS_ACTIVE, true);\n        } else if (!list.hasState(item, STATUS_ACTIVE)) {\n          list.setItemState(item, STATUS_UNACTIVE, true);\n        }\n      });\n    } else {\n      const activeItems = list.getItemsByState(STATUS_ACTIVE);\n      let allCancel = true;\n      //  activeItems \n      each(activeItems, (item) => {\n        if (!callback(item)) {\n          allCancel = false;\n          return false;\n        }\n      });\n      if (allCancel) {\n        this.clear();\n      } else {\n        //  highlight,  element  unactive\n        //  element \n        each(items, (item) => {\n          if (callback(item)) {\n            if (list.hasState(item, STATUS_ACTIVE)) {\n              list.setItemState(item, STATUS_ACTIVE, false);\n            }\n            list.setItemState(item, STATUS_UNACTIVE, true);\n          }\n        });\n      }\n    }\n  }\n\n  /**\n   * highlight \n   */\n  public highlight() {\n    this.setState();\n  }\n\n  //  active  unactive\n  public clear() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo) {\n      clearList(triggerInfo.list);\n    } else {\n      //  component \n      const components = this.getAllowComponents();\n      each(components, (component) => {\n        component.clearItemsState(STATUS_ACTIVE);\n        component.clearItemsState(STATUS_UNACTIVE);\n      });\n    }\n  }\n}\n\nexport default ListHighlight;\n","import { IList } from '@antv/component';\nimport { each } from '@antv/util';\n\nconst STATUS_UNACTIVE = 'inactive';\nconst STATUS_ACTIVE = 'active';\n\n/**\n *  Highlight \n * @param list \n * @ignore\n */\nexport function clearList(list: IList) {\n  const items = list.getItems();\n  each(items, (item) => {\n    if (list.hasState(item, STATUS_ACTIVE)) {\n      list.setItemState(item, STATUS_ACTIVE, false);\n    }\n    if (list.hasState(item, STATUS_UNACTIVE)) {\n      list.setItemState(item, STATUS_UNACTIVE, false);\n    }\n  });\n}\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListSelected extends ListState {\n  protected stateName: string = 'selected';\n  public selected() {\n    this.setState();\n  }\n}\n\nexport default ListSelected;\n","import ListState from './list-state';\n\n/**\n *  Action\n * @ignore\n */\nclass ListUnchecked extends ListState {\n  protected stateName: string = 'unchecked';\n  /**\n   * \n   */\n  public unchecked() {\n    this.setState();\n  }\n}\n\nexport default ListUnchecked;\n","import { each, some } from '@antv/util';\nimport { IList, ListItem } from '../../../dependents';\nimport ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\nconst STATUS_CHECKED = 'checked';\ntype MatchCallback = (item: ListItem) => boolean;\n\n/**\n * checked Action\n * \n * 1. toggle \n * 2. checked \n * 3. reset \n */\nclass ListChecked extends ListState {\n  protected stateName: string = STATUS_CHECKED;\n\n  //  item \n  protected setItemState(list: IList, item: ListItem, enable: boolean) {\n    this.setCheckedBy(list, (el) => el === item, enable);\n  }\n\n  //  checked\n  private setCheckedBy(list: IList, callback: MatchCallback, enable: boolean) {\n    const items = list.getItems();\n    if (enable) {\n      //  checked  checked \n      each(items, (item) => {\n        if (callback(item)) {\n          if (list.hasState(item, STATUS_UNCHECKED)) {\n            list.setItemState(item, STATUS_UNCHECKED, false);\n          }\n          list.setItemState(item, STATUS_CHECKED, true);\n        } else if (!list.hasState(item, STATUS_CHECKED)) {\n          list.setItemState(item, STATUS_UNCHECKED, true);\n        }\n      });\n    }\n  }\n\n  /**\n   * .\n   * 1.    item \n   * 2. \n   * @override\n   */\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo && triggerInfo.item) {\n      const { list, item } = triggerInfo;\n\n      //    unchecked status\n      const allChecked = !some(list.getItems(), (t) => list.hasState(t, STATUS_UNCHECKED));\n\n      //\n      if (allChecked || list.hasState(item, STATUS_UNCHECKED)) {\n        this.setItemState(list, item, true);\n      } else {\n        this.reset();\n      }\n    }\n  }\n\n  /**\n   * checked \n   */\n  public checked() {\n    this.setState();\n  }\n\n  /**\n   *  checked  unchecked\n   */\n  public reset() {\n    const components = this.getAllowComponents();\n    each(components, (component) => {\n      component.clearItemsState(STATUS_CHECKED);\n      component.clearItemsState(STATUS_UNCHECKED);\n    });\n  }\n}\n\nexport default ListChecked;\n","import ListState from './list-state';\n\nconst STATUS_UNCHECKED = 'unchecked';\n\nclass ListFocus extends ListState {\n  public toggle() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item: clickedItem } = triggerInfo;\n      const items = list.getItems();\n      const checkedItems = items.filter((t) => !list.hasState(t, STATUS_UNCHECKED));\n      const uncheckedItems = items.filter((t) => list.hasState(t, STATUS_UNCHECKED));\n      const checkedItem = checkedItems[0]\n      /**\n       * 1.  checked radio, clickItem \n       * 2. \n       *    2.1  item  clickItem\n       *    2.2  item\n       * 3.  2.2\n       */\n      if (items.length === checkedItems.length) {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      } else if (items.length - uncheckedItems.length === 1) {\n        if (checkedItem.id === clickedItem.id) {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, false);\n        } else {\n          for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n        }\n      } else {\n        for (const item of items) list.setItemState(item, STATUS_UNCHECKED, item.id !== clickedItem.id);\n      }\n    }\n  }\n}\n\nexport default ListFocus;\n","import ListState from './list-state';\nimport { isEqual } from '@antv/util';\nimport { TOOLTIP_CSS_CONST } from '@antv/component';\nimport { HtmlTooltip } from '../../../dependents';\nimport { Point } from '../../../interface';\n\nconst STATUS_SHOW = 'showRadio';\nconst TIP_ID = 'legend-radio-tip';\n\nclass ListRadio extends ListState {\n  public show() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, true);\n    }\n  }\n\n  public hide() {\n    const triggerInfo = this.getTriggerListInfo();\n    if (triggerInfo?.item) {\n      const { list, item } = triggerInfo;\n      list.setItemState(item, STATUS_SHOW, false);\n    }\n  }\n\n  private timeStamp: number = 0;\n  private location: Point;\n  private tooltip;\n\n  public destroy() {\n    super.destroy();\n    this.tooltip && this.tooltip.destroy();\n  }\n\n  /**\n   *  Tooltip ()\n   * @returns\n   */\n  public showTip() {\n    const context = this.context;\n    const ev = context.event;\n    const lastTimeStamp = this.timeStamp;\n    const timeStamp = +new Date();\n\n    const target = this.context.event.target;\n    if (timeStamp - lastTimeStamp > 16 && target.get('name') === 'legend-item-radio') {\n      const preLoc = this.location;\n      const curLoc = { x: ev.x, y: ev.y };\n      this.timeStamp = timeStamp;\n      this.location = curLoc;      \n      if (!preLoc || !isEqual(preLoc, curLoc)) {\n        this.showTooltip(curLoc);\n      }\n    }\n  }\n\n  /**\n   *  Tooltip\n   * @returns\n   */\n  public hideTip() {\n    this.hideTooltip();\n    this.location = null;\n  }\n\n  protected showTooltip(curLoc: Point) {\n    const context = this.context;\n    const ev = context.event;\n    const target = ev.target;\n\n    if (target && target.get('tip')) {\n      if (!this.tooltip) {\n        this.renderTooltip(); // \n      }\n      //  tooltip\n      const { x: offsetX, y: offsetY } = context.view.getCanvas().get('el').getBoundingClientRect();\n      this.tooltip.update({\n        title: target.get('tip'),\n        ...curLoc,\n        x: curLoc.x + offsetX,\n        y: curLoc.y + offsetY,\n      });\n      this.tooltip.show();\n    }\n  }\n\n  protected hideTooltip() {\n    this.tooltip && this.tooltip.hide();\n  }\n\n  private renderTooltip() {\n    const tooltipStyles = {\n      [TOOLTIP_CSS_CONST.CONTAINER_CLASS]: {\n        padding: '6px 8px',\n        transform: 'translate(-50%, -80%)',\n        background: 'rgba(0,0,0,0.75)',\n        color: '#fff',\n        'border-radius': '2px',\n        // \n        'z-index': 100,\n      },\n      [TOOLTIP_CSS_CONST.TITLE_CLASS]: {\n        'font-size': '12px',\n        'line-height': '14px',\n        'margin-bottom': 0,\n        'word-break': 'break-all',\n      }\n    };\n    if (document.getElementById(TIP_ID)) {\n      document.body.removeChild(document.getElementById(TIP_ID));\n    }\n    const tooltip = new HtmlTooltip({\n      parent: document.body,\n      // tooltip \n      region: null,\n      visible: false,\n      crosshairs: null,\n      domStyles: tooltipStyles,\n      containerId: TIP_ID,\n    });\n    tooltip.init();\n    tooltip.setCapture(false); // \n    this.tooltip = tooltip;\n  }\n}\n\nexport default ListRadio;\n","import { deepMix, each } from '@antv/util';\nimport Action from '../base';\nimport { LooseObject } from '../../../interface';\n\n/**\n * @ignore\n *  Action \n */\nabstract class MaskBase extends Action {\n  // mask \n  protected maskShape = null;\n  //  mask \n  protected points = [];\n  //  mask \n  protected starting = false;\n  // \n  protected moving = false;\n  protected preMovePoint = null;\n\n  protected shapeType = 'path';\n  // \n  protected getCurrentPoint() {\n    const event = this.context.event;\n    return {\n      x: event.x,\n      y: event.y,\n    };\n  }\n  //  mask \n  protected emitEvent(type) {\n    const eventName = `mask:${type}`;\n    const view = this.context.view;\n    const event = this.context.event;\n    view.emit(eventName, {\n      target: this.maskShape,\n      shape: this.maskShape,\n      points: this.points,\n      x: event.x,\n      y: event.y,\n    });\n  }\n\n  //  mask\n  private createMask() {\n    const view = this.context.view;\n    const maskAttrs = this.getMaskAttrs();\n    const maskShape = view.foregroundGroup.addShape({\n      type: this.shapeType,\n      name: 'mask',\n      draggable: true,\n      attrs: {\n        fill: '#C5D4EB',\n        opacity: 0.3,\n        ...maskAttrs,\n      },\n    });\n    return maskShape;\n  }\n\n  protected abstract getMaskAttrs(): LooseObject;\n\n  //  mask \n  protected getMaskPath() {\n    return [];\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (this.maskShape) {\n      this.maskShape.show();\n      this.emitEvent('show');\n    }\n  }\n\n  /**\n   * \n   */\n  public start(arg?: { maskStyle: LooseObject }) {\n    this.starting = true;\n    // \n    this.moving = false;\n    this.points = [this.getCurrentPoint()];\n    if (!this.maskShape) {\n      this.maskShape = this.createMask();\n      //  capture: falseresize \n      this.maskShape.set('capture', false);\n    }\n    this.updateMask(arg?.maskStyle);\n    this.emitEvent('start');\n  }\n\n  /**\n   * \n   */\n  public moveStart() {\n    this.moving = true;\n    this.preMovePoint = this.getCurrentPoint();\n  }\n  /**\n   *  mask\n   */\n  public move() {\n    if (!this.moving || !this.maskShape) {\n      return;\n    }\n    const currentPoint = this.getCurrentPoint();\n    const preMovePoint = this.preMovePoint;\n    const dx = currentPoint.x - preMovePoint.x;\n    const dy = currentPoint.y - preMovePoint.y;\n    const points = this.points;\n    each(points, (point) => {\n      point.x += dx;\n      point.y += dy;\n    });\n    this.updateMask();\n    this.emitEvent('change');\n    this.preMovePoint = currentPoint;\n  }\n\n  protected updateMask(maskStyle?: LooseObject) {\n    const attrs = deepMix({}, this.getMaskAttrs(), maskStyle);\n    this.maskShape.attr(attrs);\n  }\n\n  /**\n   * \n   */\n  public moveEnd() {\n    this.moving = false;\n    this.preMovePoint = null;\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.starting = false;\n    this.emitEvent('end');\n    if (this.maskShape) {\n      this.maskShape.set('capture', true);\n    }\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.maskShape) {\n      this.maskShape.hide();\n      this.emitEvent('hide');\n    }\n  }\n\n  /**\n   * \n   */\n  public resize() {\n    // \n    if (this.starting && this.maskShape) {\n      this.points.push(this.getCurrentPoint());\n      this.updateMask();\n      this.emitEvent('change');\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    this.points = [];\n    if (this.maskShape) {\n      this.maskShape.remove();\n    }\n    this.maskShape = null;\n    this.preMovePoint = null;\n    super.destroy();\n  }\n}\n\nexport default MaskBase;\n","import { last } from '@antv/util';\nimport { distance } from '../util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass CircleMask extends MaskBase {\n  protected shapeType = 'circle';\n  protected getMaskAttrs() {\n    const points = this.points;\n    const currentPoint = last(this.points);\n    let r = 0;\n    let x = 0;\n    let y = 0;\n    if (points.length) {\n      const first = points[0];\n      r = distance(first, currentPoint) / 2;\n      x = (currentPoint.x + first.x) / 2;\n      y = (currentPoint.y + first.y) / 2;\n    }\n    return {\n      x,\n      y,\n      r,\n    };\n  }\n}\n\nexport default CircleMask;\n","import { head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Action\n */\nclass RectMask extends MaskBase {\n  protected shapeType = 'rect';\n  protected getRegion(): Region {\n    const points = this.points;\n    return {\n      start: head(points),\n      end: last(points),\n    };\n  }\n  // \n  protected getMaskAttrs() {\n    const { start, end } = this.getRegion();\n    const x = Math.min(start.x, end.x);\n    const y = Math.min(start.y, end.y);\n    const width = Math.abs(end.x - start.x);\n    const height = Math.abs(end.y - start.y);\n    return {\n      x,\n      y,\n      width,\n      height,\n    };\n  }\n}\n\nexport default RectMask;\n","import { clamp, head, last } from '@antv/util';\nimport { Region } from '../../../interface';\nimport RectMask from './rect';\n\nfunction clampPoint(point) {\n  point.x = clamp(point.x, 0, 1);\n  point.y = clamp(point.y, 0, 1);\n}\n\n/**\n * @ignore\n */\nclass DimRect extends RectMask {\n  protected dim = 'x';\n  protected inPlot = true;\n  protected getRegion(): Region {\n    let start = null;\n    let end = null;\n    const points = this.points;\n    const dim = this.dim;\n    const coord = this.context.view.getCoordinate();\n    const normalStart = coord.invert(head(points));\n    const normalEnd = coord.invert(last(points));\n    if (this.inPlot) {\n      //  0 - 1 \n      clampPoint(normalStart);\n      clampPoint(normalEnd);\n    }\n    if (dim === 'x') {\n      // x , y \n      start = coord.convert({\n        x: normalStart.x,\n        y: 0,\n      });\n      end = coord.convert({\n        x: normalEnd.x,\n        y: 1,\n      });\n    } else {\n      // y , x \n      start = coord.convert({\n        x: 0,\n        y: normalStart.y,\n      });\n      end = coord.convert({\n        x: 1,\n        y: normalEnd.y,\n      });\n    }\n    return {\n      start,\n      end,\n    };\n  }\n}\n\nexport default DimRect;\n","import { Point, Scale } from '../../../dependents';\nimport { FilterCondition, EventPayload } from '../../../interface';\nimport { View, Event } from '../../../chart';\nimport Action from '../base';\nimport { isMask } from '../util';\n\n//  scale\nfunction getFilter(scale: Scale, dim: string, point1: Point, point2: Point): FilterCondition {\n  let min = Math.min(point1[dim], point2[dim]);\n  let max = Math.max(point1[dim], point2[dim]);\n  const [rangeMin, rangeMax] = scale.range;\n  //  scale  range \n  if (min < rangeMin) {\n    min = rangeMin;\n  }\n  if (max > rangeMax) {\n    max = rangeMax;\n  }\n  //  view  null\n  if (min === rangeMax && max === rangeMax) {\n    return null;\n  }\n  const minValue = scale.invert(min);\n  const maxValue = scale.invert(max);\n  if (scale.isCategory) {\n    const minIndex = scale.values.indexOf(minValue);\n    const maxIndex = scale.values.indexOf(maxValue);\n    const arr = scale.values.slice(minIndex, maxIndex + 1);\n    return (value) => {\n      return arr.includes(value);\n    };\n  } else {\n    return (value) => {\n      return value >= minValue && value <= maxValue;\n    };\n  }\n}\n\n/** range-filter brush-filter, brush-x-filter, brush-y-filter */\nenum EVENTS {\n  FILTER = 'brush-filter-processing',\n  RESET = 'brush-filter-reset',\n  BEFORE_FILTER = 'brush-filter:beforefilter',\n  AFTER_FILTER = 'brush-filter:afterfilter',\n  BEFORE_RESET = 'brush-filter:beforereset',\n  AFTER_RESET = 'brush-filter:afterreset',\n}\n\nexport { EVENTS as BRUSH_FILTER_EVENTS };\n\n/**\n *  Action\n * @ignore\n */\nclass RangeFilter extends Action {\n  /**  dims */\n  protected cfgFields: ['dims'];\n  /**\n   * / x, y\n   */\n  protected dims: string[] = ['x', 'y'];\n  /**  */\n  protected startPoint: Point = null;\n\n  private isStarted: boolean = false;\n\n  // x,y \n  private hasDim(dim: string) {\n    return this.dims.includes(dim);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    const context = this.context;\n    this.isStarted = true;\n    this.startPoint = context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public filter() {\n    let startPoint;\n    let currentPoint;\n    if (isMask(this.context)) {\n      const maskShape = this.context.event.target;\n      const bbox = maskShape.getCanvasBBox();\n      startPoint = { x: bbox.x, y: bbox.y };\n      currentPoint = { x: bbox.maxX, y: bbox.maxY };\n    } else {\n      if (!this.isStarted) {\n        // \n        return;\n      }\n      startPoint = this.startPoint;\n      currentPoint = this.context.getCurrentPoint();\n    }\n    if (Math.abs(startPoint.x - currentPoint.x) < 5 || Math.abs(startPoint.x - currentPoint.y) < 5) {\n      // \n      return;\n    }\n    const { view, event } = this.context;\n    const payload = { view, event, dims: this.dims };\n    view.emit(EVENTS.BEFORE_FILTER, Event.fromData(view, EVENTS.BEFORE_FILTER, payload));\n\n    const coord = view.getCoordinate();\n    const normalCurrent = coord.invert(currentPoint);\n    const normalStart = coord.invert(startPoint);\n    //  x  filter\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      const filter = getFilter(xScale, 'x', normalCurrent, normalStart);\n      this.filterView(view, xScale.field, filter);\n    }\n    //  y  filter\n    if (this.hasDim('y')) {\n      const yScale = view.getYScales()[0];\n      const filter = getFilter(yScale, 'y', normalCurrent, normalStart);\n      this.filterView(view, yScale.field, filter);\n    }\n    this.reRender(view, { source: EVENTS.FILTER });\n\n    view.emit(EVENTS.AFTER_FILTER, Event.fromData(view, EVENTS.AFTER_FILTER, payload));\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isStarted = false;\n  }\n\n  /**\n   *  Action  x,y\n   */\n  public reset() {\n    const view = this.context.view;\n    view.emit(EVENTS.BEFORE_RESET, Event.fromData(view, EVENTS.BEFORE_RESET, {}));\n\n    this.isStarted = false;\n    if (this.hasDim('x')) {\n      const xScale = view.getXScale();\n      this.filterView(view, xScale.field, null); // \n    }\n    if (this.hasDim('y')) {\n      // y  yScale\n      const yScale = view.getYScales()[0];\n      this.filterView(view, yScale.field, null); // \n    }\n    this.reRender(view, { source: EVENTS.RESET });\n\n    view.emit(EVENTS.AFTER_RESET, Event.fromData(view, EVENTS.AFTER_RESET, {}));\n  }\n\n  /**\n   *  view \n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    view.filter(field, filter);\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View, payload?: EventPayload) {\n    view.render(true, payload);\n  }\n}\n\nexport default RangeFilter;\n","import { each } from '@antv/util';\nimport MaskBase from './base';\n\n/**\n * @ignore\n *  Path  Action\n */\nclass PathMask extends MaskBase {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    const path = [];\n    if (points.length) {\n      each(points, (point, index) => {\n        if (index === 0) {\n          path.push(['M', point.x, point.y]);\n        } else {\n          path.push(['L', point.x, point.y]);\n        }\n      });\n      path.push(['L', points[0].x, points[0].y]);\n    }\n    return path;\n  }\n\n  protected getMaskAttrs() {\n    return {\n      path: this.getMaskPath(),\n    };\n  }\n\n  /**\n   * \n   */\n  public addPoint() {\n    this.resize();\n  }\n}\n\nexport default PathMask;\n","import { getSpline } from '../util';\nimport PathMask from './path';\n\n/**\n * Smooth path mask\n * @ignore\n */\nclass SmoothPathMask extends PathMask {\n  //  mask \n  protected getMaskPath() {\n    const points = this.points;\n    return getSpline(points, true);\n  }\n}\n\nexport default SmoothPathMask;\n","/**\n * @fileoverview https://www.w3school.com.cn/jsref/prop_style_cursor.asp\n * @author dxq613\n */\nimport Action from './base';\n\n/**\n *  Action\n * @ignore\n */\nclass CursorAction extends Action {\n  private setCursor(cursor) {\n    const view = this.context.view;\n    view.getCanvas().setCursor(cursor);\n  }\n\n  /**\n   * \n   */\n  public default() {\n    this.setCursor('default');\n  }\n\n  /**  */\n  public pointer() {\n    this.setCursor('pointer');\n  }\n  /**  */\n  public move() {\n    this.setCursor('move');\n  }\n  /**  */\n  public crosshair() {\n    this.setCursor('crosshair');\n  }\n  /**  */\n  public wait() {\n    this.setCursor('wait');\n  }\n\n  /**  */\n  public help() {\n    this.setCursor('help');\n  }\n\n  /**  */\n  public text() {\n    this.setCursor('text');\n  }\n\n  /**\n   * \n   */\n  public eResize() {\n    this.setCursor('e-resize');\n  }\n\n  /**\n   * \n   */\n  public wResize() {\n    this.setCursor('w-resize');\n  }\n\n  /**\n   * \n   */\n  public nResize() {\n    this.setCursor('n-resize');\n  }\n\n  /**\n   * \n   */\n  public sResize() {\n    this.setCursor('s-resize');\n  }\n  /**\n   *  \n   */\n  public neResize() {\n    this.setCursor('ne-resize');\n  }\n  /**\n   *  \n   */\n  public nwResize() {\n    this.setCursor('nw-resize');\n  }\n  /**\n   * \n   */\n  public seResize() {\n    this.setCursor('se-resize');\n  }\n  /**\n   * \n   */\n  public swResize() {\n    this.setCursor('sw-resize');\n  }\n\n  /**\n   * \n   */\n  public nsResize() {\n    this.setCursor('ns-resize');\n  }\n  /**\n   * \n   */\n  public ewResize() {\n    this.setCursor('ew-resize');\n  }\n}\n\nexport default CursorAction;\n","import { each } from '@antv/util';\nimport { View } from 'src/chart';\nimport Action from '../base';\nimport { getDelegationObject, getScaleByField, isList, isSlider } from '../util';\n\n/**\n * \n * @ignore\n */\nclass DataFilter extends Action {\n  private filterView(view: View, field, filter) {\n    //  scale \n    if (view.getScaleByField(field)) {\n      view.filter(field, filter);\n    }\n    if (view.views && view.views.length) {\n      each(view.views, (subView) => {\n        this.filterView(subView, field, filter);\n      });\n    }\n  }\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names: string[] = unCheckedItems.map((item) => item.name);\n          if (names.length) {\n            this.filterView(view, field, (value) => {\n              const text = scale.getText(value);\n              return !names.includes(text);\n            });\n          } else {\n            this.filterView(view, field, null);\n          }\n          view.render(true);\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        this.filterView(view, field, (value) => {\n          return value >= min && value <= max;\n        });\n        view.render(true);\n      }\n    }\n  }\n}\n\nexport default DataFilter;\n","import { each } from '@antv/util';\nimport { View } from '../../../chart';\nimport { FilterCondition } from '../../../interface';\nimport RangeFilter from './range-filter';\n\nimport { getSilbings } from '../util';\n\n/**\n *  view  view  views \n * @ignore\n */\nclass SiblingFilter extends RangeFilter {\n  /**\n   *  view \n   * @param view\n   * @param field\n   * @param filter\n   */\n  protected filterView(view: View, field: string, filter: FilterCondition) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.filter(field, filter);\n    });\n  }\n\n  /**\n   * \n   * @param view\n   */\n  protected reRender(view: View) {\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      sibling.render(true);\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport {\n  getDelegationObject,\n  getElements,\n  getElementValue,\n  getScaleByField,\n  isList,\n  isSlider,\n  isMask,\n  getMaskedElements,\n} from '../util';\n/**\n *  Action\n * @ignore\n */\nclass ElementFilter extends Action {\n  /**\n   * \n   */\n  public filter() {\n    const delegateObject = getDelegationObject(this.context);\n    const view = this.context.view;\n    const elements = getElements(view);\n    if (isMask(this.context)) {\n      const maskElements = getMaskedElements(this.context, 10);\n      if (maskElements) {\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    } else if (delegateObject) {\n      const { component } = delegateObject;\n      const field = component.get('field');\n      // \n      if (isList(delegateObject)) {\n        if (field) {\n          const unCheckedItems = component.getItemsByState('unchecked');\n          const scale = getScaleByField(view, field);\n          const names = unCheckedItems.map((item) => item.name);\n          // \n          each(elements, (el) => {\n            const value = getElementValue(el, field);\n            const text = scale.getText(value);\n            if (names.indexOf(text) >= 0) {\n              el.hide();\n            } else {\n              el.show();\n            }\n          });\n        }\n      } else if (isSlider(delegateObject)) {\n        const range = component.getValue();\n        const [min, max] = range;\n        each(elements, (el) => {\n          const value = getElementValue(el, field);\n          if (value >= min && value <= max) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    }\n  }\n  /**\n   * \n   */\n  public clear() {\n    const elements = getElements(this.context.view);\n    each(elements, (el) => {\n      el.show();\n    });\n  }\n\n  /**\n   *  data-filter \n   */\n  public reset() {\n    this.clear();\n  }\n}\n\nexport default ElementFilter;\n","import { each } from '@antv/util';\nimport Action from '../base';\nimport { getElements, getMaskedElements, getSiblingMaskElements, getSilbings, isInRecords, isMask } from '../util';\n\n/**\n * Sibling filter\n * @ignore\n */\nclass SiblingFilter extends Action {\n  protected byRecord = false;\n  /**\n   * \n   */\n  public filter() {\n    //  mask \n    if (isMask(this.context)) {\n      if (this.byRecord) {\n        this.filterByRecord();\n      } else {\n        this.filterByBBox();\n      }\n    }\n  }\n  // \n  private filterByRecord() {\n    const view = this.context.view;\n    const maskElements = getMaskedElements(this.context, 10);\n    if (!maskElements) {\n      return;\n    }\n    const xFiled = view.getXScale().field;\n    const yField = view.getYScales()[0].field;\n    const records = maskElements.map((el) => {\n      return el.getModel().data;\n    });\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        const record = el.getModel().data;\n        // records.includes(record) \n        if (isInRecords(records, record, xFiled, yField)) {\n          el.show();\n        } else {\n          el.hide();\n        }\n      });\n    });\n  }\n\n  // \n  private filterByBBox() {\n    const view = this.context.view;\n    const siblings = getSilbings(view);\n    each(siblings, (sibling) => {\n      const maskElements = getSiblingMaskElements(this.context, sibling, 10);\n      const elements = getElements(sibling);\n      if (maskElements) {\n        // mask  null\n        each(elements, (el) => {\n          if (maskElements.includes(el)) {\n            el.show();\n          } else {\n            el.hide();\n          }\n        });\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    const siblings = getSilbings(this.context.view);\n    each(siblings, (sibling) => {\n      const elements = getElements(sibling);\n      each(elements, (el) => {\n        el.show();\n      });\n    });\n  }\n}\n\nexport default SiblingFilter;\n","import { LooseObject } from '../../../interface';\nimport { IGroup } from '@antv/g-base';\nimport { ext } from '@antv/matrix-util';\nimport { deepMix } from '@antv/util';\nimport { parsePadding } from '../../../util/padding';\nimport Action from '../base';\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Button action\n * @ignore\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    text: 'button',\n    textStyle: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n    padding: [8, 10],\n    style: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    activeStyle: {\n      fill: '#e6e6e6',\n    },\n  };\n  // mix \n  private getButtonCfg(): LooseObject {\n    return deepMix(this.buttonCfg, this.cfg);\n  }\n  //  Button  \n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    // \n    const textShape = group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle,\n      },\n    });\n    const textBBox = textShape.getBBox();\n    const padding = parsePadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: textBBox.x - padding[3],\n        y: textBBox.y - padding[0],\n        width: textBBox.width + padding[1] + padding[3],\n        height: textBBox.height + padding[0] + padding[2],\n        ...config.style,\n      },\n    });\n    buttonShape.toBack(); // \n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.activeStyle);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.style);\n    });\n    this.buttonGroup = group;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = ext.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport default ButtonAction;\n","import { Point } from '../../../dependents';\nimport Action from '../base';\nimport { distance } from '../util';\n\nconst DISTANCE = 4; // \n\n/**\n * @ignore\n * View  Drag  Action\n */\nclass Drag extends Action {\n  // Action  \n  protected starting = false;\n  // \n  protected dragStart = false;\n  // \n  protected startPoint: Point;\n\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n  }\n\n  /**\n   * \n   */\n  public drag() {\n    if (!this.startPoint) {\n      return;\n    }\n    const current = this.context.getCurrentPoint();\n    const view = this.context.view;\n    const event = this.context.event;\n    if (!this.dragStart) {\n      if (distance(current, this.startPoint) > DISTANCE) {\n        view.emit('dragstart', {\n          target: event.target,\n          x: event.x,\n          y: event.y,\n        });\n        this.dragStart = true;\n      }\n    } else {\n      view.emit('drag', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.dragStart) {\n      const view = this.context.view;\n      const event = this.context.event;\n      view.emit('dragend', {\n        target: event.target,\n        x: event.x,\n        y: event.y,\n      });\n    }\n    this.starting = false;\n    this.dragStart = false;\n  }\n}\n\nexport default Drag;\n","import { ext } from '@antv/matrix-util';\nimport { Action } from '..';\nimport { distance } from '../util';\n\nconst MIN_DISTANCE = 5;\n\n/**\n * @ignore\n * View  Action\n */\nclass Move extends Action {\n  private starting = false;\n  private isMoving = false;\n  // private cacheRange = null;\n  private startPoint = null;\n  private startMatrix = null;\n  /**\n   * \n   */\n  public start() {\n    this.starting = true;\n    this.startPoint = this.context.getCurrentPoint();\n    // \n    this.startMatrix = this.context.view.middleGroup.getMatrix();\n  }\n\n  /**\n   * \n   */\n  public move() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const currentPoint = this.context.getCurrentPoint();\n    const d = distance(startPoint, currentPoint);\n    if (d > MIN_DISTANCE && !this.isMoving) {\n      this.isMoving = true;\n    }\n    if (this.isMoving) {\n      const view = this.context.view;\n      const matrix = ext.transform(this.startMatrix, [\n        ['t', currentPoint.x - startPoint.x, currentPoint.y - startPoint.y],\n      ]);\n      view.backgroundGroup.setMatrix(matrix);\n      view.foregroundGroup.setMatrix(matrix);\n      view.middleGroup.setMatrix(matrix);\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    if (this.isMoving) {\n      this.isMoving = false;\n    }\n    this.startMatrix = null;\n    this.starting = false;\n    this.startPoint = null;\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.starting = false;\n    this.startPoint = null;\n    this.isMoving = false;\n\n    const view = this.context.view;\n    view.backgroundGroup.resetMatrix();\n    view.foregroundGroup.resetMatrix();\n    view.middleGroup.resetMatrix();\n    this.isMoving = false;\n  }\n}\n\nexport default Move;\n","import { Action } from '..';\n\nconst DIM_X = 'x';\nconst DIM_Y = 'y';\n\n/**\n * Scale translate\n * @ignore\n */\nclass ScaleTranslate extends Action {\n  protected dims = [DIM_X, DIM_Y];\n  protected cfgFields = ['dims'];\n  protected cacheScaleDefs = {};\n\n  // \n  protected hasDim(dim) {\n    return this.dims.includes(dim);\n  }\n\n  protected getScale(dim) {\n    const view = this.context.view;\n    if (dim === 'x') {\n      return view.getXScale();\n    } else {\n      return view.getYScales()[0];\n    }\n  }\n\n  private resetDim(dim) {\n    const view = this.context.view;\n    if (this.hasDim(dim) && this.cacheScaleDefs[dim]) {\n      const scale = this.getScale(dim);\n      view.scale(scale.field, this.cacheScaleDefs[dim]);\n      this.cacheScaleDefs[dim] = null;\n    }\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.resetDim(DIM_X);\n    this.resetDim(DIM_Y);\n    const view = this.context.view;\n    view.render(true);\n  }\n}\n\nexport default ScaleTranslate;\n","import { each } from '@antv/util';\nimport { Point } from '../../../dependents';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  protected startPoint: Point = null;\n  protected starting = false;\n  private startCache = {};\n  /**\n   * \n   */\n  public start() {\n    this.startPoint = this.context.getCurrentPoint();\n    this.starting = true;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      const scale = this.getScale(dim);\n      const { min, max, values } = scale;\n      this.startCache[dim] = { min, max, values };\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public end() {\n    this.startPoint = null;\n    this.starting = false;\n    this.startCache = {};\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (!this.starting) {\n      return;\n    }\n    const startPoint = this.startPoint;\n    const coord = this.context.view.getCoordinate();\n    const currentPoint = this.context.getCurrentPoint();\n    const normalStart = coord.invert(startPoint);\n    const noramlCurrent = coord.invert(currentPoint);\n    const dx = noramlCurrent.x - normalStart.x;\n    const dy = noramlCurrent.y - normalStart.y;\n    const view = this.context.view;\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.translateDim(dim, { x: dx * -1, y: dy * -1 });\n    });\n    view.render(true);\n  }\n\n  // \n  private translateDim(dim, normalPoint) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.translateLinear(dim, scale, normalPoint);\n      }\n      //  else { // \n      // this.translateCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private translateLinear(dim, scale, normalPoint) {\n    const view = this.context.view;\n    const { min, max } = this.startCache[dim];\n    const range = max - min;\n    const d = normalPoint[dim] * range;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min,\n        max,\n      };\n    }\n    view.scale(scale.field, {\n      // @ts-ignore\n      nice: false,\n      min: min + d,\n      max: max + d,\n    });\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n\n  /**\n   * \n   */\n  public reset() {\n    super.reset();\n    this.startPoint = null;\n    this.starting = false;\n  }\n}\n\nexport default ScaleTranslate;\n","import { each, throttle } from '@antv/util';\nimport TransformAction from './scale-transform';\n\n/**\n *  Scale  Action\n * @ignore\n */\nclass ScaleTranslate extends TransformAction {\n  private zoomRatio = 0.05;\n  /**\n   * \n   */\n  public zoomIn() {\n    this.zoom(this.zoomRatio);\n  }\n\n  private zoom(scale) {\n    const dims = this.dims;\n    each(dims, (dim) => {\n      this.zoomDim(dim, scale);\n    });\n    this.context.view.render(true);\n  }\n\n  /**\n   * \n   */\n  public zoomOut() {\n    this.zoom(-1 * this.zoomRatio);\n  }\n\n  // \n  private zoomDim(dim, dRatio) {\n    if (this.hasDim(dim)) {\n      const scale = this.getScale(dim);\n      if (scale.isLinear) {\n        this.zoomLinear(dim, scale, dRatio);\n      }\n      //  else { // \n      // this.zoomCategory(dim, scale, normalPoint);\n      // }\n    }\n  }\n  // linear \n  private zoomLinear(dim, scale, dRatio) {\n    const view = this.context.view;\n    // \n    if (!this.cacheScaleDefs[dim]) {\n      this.cacheScaleDefs[dim] = {\n        // @ts-ignore\n        nice: scale.nice,\n        min: scale.min,\n        max: scale.max,\n      };\n    }\n    // \n    const scaleDef = this.cacheScaleDefs[dim];\n    const range = scaleDef.max - scaleDef.min;\n    const { min, max } = scale;\n    const d = dRatio * range;\n    const toMin = min - d;\n    const toMax = max + d;\n    const curRange = toMax - toMin;\n    const scaled = curRange / range;\n    if (toMax > toMin && scaled < 100 && scaled > 0.01) {\n      view.scale(scale.field, {\n        // @ts-ignore\n        nice: false,\n        min: min - d,\n        max: max + d,\n      });\n    }\n  }\n\n  // \n  // private translateCategory(dim, scale, normalPoint) {\n  // }\n}\n\nexport default ScaleTranslate;\n","import { clamp, size, valuesOfKey } from '@antv/util';\nimport { COMPONENT_TYPE } from '../../../constant';\nimport { Action } from '..';\nimport { LooseObject } from '../../../interface';\n\nfunction isWheelDown(event: LooseObject) {\n  const wheelEvent = event.gEvent.originalEvent as WheelEvent;\n  return wheelEvent.deltaY > 0;\n}\n\nconst DEFAULT_WHEELDELTA = 1;\nclass MousewheelScroll extends Action {\n  public scroll(arg?) {\n    const { view, event } = this.context;\n\n    if (!view.getOptions().scrollbar) {\n      return;\n    }\n\n    const wheelDelta = arg?.wheelDelta || DEFAULT_WHEELDELTA;\n    const scrollbarController = view.getController('scrollbar');\n\n    const xScale = view.getXScale();\n    const data = view.getOptions().data;\n    const dataSize = size(valuesOfKey(data, xScale.field));\n    const step = size(xScale.values);\n\n    const currentRatio = scrollbarController.getValue();\n    const currentStart = Math.floor((dataSize - step) * currentRatio);\n\n    const nextStart = currentStart + (isWheelDown(event) ? wheelDelta : -wheelDelta);\n    const correction = wheelDelta / (dataSize - step) / 10000;\n    const nextRatio = clamp(nextStart / (dataSize - step) + correction, 0, 1);\n    scrollbarController.setValue(nextRatio);\n  }\n}\n\nexport default MousewheelScroll;\n","import { isObject, each, find, get } from '@antv/util';\n\nimport { BBox, IGroup, IShape } from '../../../../dependents';\nimport { LabelItem } from '../../interface';\n\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { IElement } from '@antv/g-base';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\nfunction antiCollision(labelShapes, labels, lineHeight, plotRange, center, isRight) {\n  // adjust y position of labels to avoid overlapping\n  let overlapping = true;\n  const start = plotRange.start;\n  const end = plotRange.end;\n  const startY = Math.min(start.y, end.y);\n  let totalHeight = Math.abs(start.y - end.y);\n  let i;\n\n  let maxY = 0;\n  let minY = Number.MIN_VALUE;\n  const boxes = labels.map((label) => {\n    if (label.y > maxY) {\n      maxY = label.y;\n    }\n    if (label.y < minY) {\n      minY = label.y;\n    }\n    return {\n      size: lineHeight,\n      targets: [label.y - startY],\n    };\n  });\n  minY -= startY;\n  if (maxY - startY > totalHeight) {\n    totalHeight = maxY - startY;\n  }\n\n  while (overlapping) {\n    /* eslint no-loop-func: 0 */\n    boxes.forEach((box) => {\n      const target = (Math.min.apply(minY, box.targets) + Math.max.apply(minY, box.targets)) / 2;\n      box.pos = Math.min(Math.max(minY, target - box.size / 2), totalHeight - box.size);\n      // box.pos = Math.max(0, target - box.size / 2);\n    });\n\n    // detect overlapping and join boxes\n    overlapping = false;\n    i = boxes.length;\n    while (i--) {\n      if (i > 0) {\n        const previousBox = boxes[i - 1];\n        const box = boxes[i];\n        if (previousBox.pos + previousBox.size > box.pos) {\n          // overlapping\n          previousBox.size += box.size;\n          previousBox.targets = previousBox.targets.concat(box.targets);\n\n          // overflow, shift up\n          if (previousBox.pos + previousBox.size > totalHeight) {\n            previousBox.pos = totalHeight - previousBox.size;\n          }\n          boxes.splice(i, 1); // removing box\n          overlapping = true;\n        }\n      }\n    }\n  }\n\n  i = 0;\n  // step 4: normalize y and adjust x\n  boxes.forEach((b) => {\n    let posInCompositeBox = startY + lineHeight / 2; // middle of the label\n    b.targets.forEach(() => {\n      labels[i].y = b.pos + posInCompositeBox;\n      posInCompositeBox += lineHeight;\n      i++;\n    });\n  });\n\n  const labelsMap = {};\n  for (const labelShape of labelShapes) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // (x - cx)^2 + (y - cy)^2 = totalR^2\n  labels.forEach((label) => {\n    const rPow2 = label.r * label.r;\n    const dyPow2 = Math.pow(Math.abs(label.y - center.y), 2);\n    if (rPow2 < dyPow2) {\n      label.x = center.x;\n    } else {\n      const dx = Math.sqrt(rPow2 - dyPow2);\n      if (!isRight) {\n        // left\n        label.x = center.x - dx;\n      } else {\n        // right\n        label.x = center.x + dx;\n      }\n    }\n\n    // adjust labelShape\n    const labelShape = labelsMap[label.id];\n    labelShape.attr('x', label.x);\n    labelShape.attr('y', label.y);\n\n    // because group could not effect text-shape, should set text-shape position manually\n    const textShape = find(labelShape.getChildren(), (ele) => ele.get('type') === 'text') as IElement;\n    // @ts-ignore\n    if (textShape) {\n      textShape.attr('y', label.y);\n      textShape.attr('x', label.x);\n    }\n  });\n}\n\nexport function distribute(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  if (!items.length || !labels.length) {\n    return;\n  }\n  const offset = items[0] ? items[0].offset : 0;\n  const coordinate = labels[0].get('coordinate');\n  const radius = coordinate.getRadius();\n  const center = coordinate.getCenter();\n\n  if (offset > 0) {\n    // const lineHeight = get(this.geometry.theme, ['pieLabels', 'labelHeight'], 14);\n    const lineHeight = 14; // TODO\n    const totalR = radius + offset;\n    const totalHeight = totalR * 2 + lineHeight * 2;\n    const plotRange = {\n      start: coordinate.start,\n      end: coordinate.end,\n    };\n\n    // step 1: separate labels\n    const halves = [\n      [], // left\n      [], // right\n    ];\n    items.forEach((labelItem) => {\n      if (!labelItem) {\n        return;\n      }\n      if (labelItem.textAlign === 'right') {\n        // left\n        halves[0].push(labelItem);\n      } else {\n        // right or center will be put on the right side\n        halves[1].push(labelItem);\n      }\n    });\n\n    halves.forEach((half, index) => {\n      // step 2: reduce labels\n      const maxLabelsCountForOneSide = totalHeight / lineHeight;\n      if (half.length > maxLabelsCountForOneSide) {\n        half.sort((a, b) => {\n          // sort by percentage DESC\n          return b['..percent'] - a['..percent'];\n        });\n        half.splice(maxLabelsCountForOneSide, half.length - maxLabelsCountForOneSide);\n      }\n\n      // step 3: distribute position (x and y)\n      half.sort((a, b) => {\n        // sort by y ASC\n        return a.y - b.y;\n      });\n\n      antiCollision(labels, half, lineHeight, plotRange, center, index);\n    });\n  }\n\n  //  labelLine\n  each(items, (item) => {\n    if (item && item.labelLine) {\n      const distance = item.offset;\n      const angle = item.angle;\n      // \n      const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n      const innerPoint = polarToCartesian(center.x, center.y, radius + distance / 2, angle);\n      const itemX = item.x + get(item, 'offsetX', 0);\n      const itemY = item.y + get(item, 'offsetY', 0);\n      const endPoint = {\n        x: itemX - Math.cos(angle) * MARGIN,\n        y: itemY - Math.sin(angle) * MARGIN,\n      };\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n      item.labelLine.path = [\n        `M ${startPoint.x}`,\n        `${startPoint.y} Q${innerPoint.x}`,\n        `${innerPoint.y} ${endPoint.x}`,\n        endPoint.y,\n      ].join(',');\n    }\n  });\n}\n","import { get } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { isIntersect } from '../../../util/collision-detect';\nimport { LabelItem } from '../interface';\nimport { getlLabelBackgroundInfo } from '../util';\n\n/**\n * label  label  label \n *  'overlap'  label \n * @param labels  label \n */\nexport function hideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  // todo  labelrank\n  // each label will hide the next one because the next one always has lower rank.\n\n  // Detect overlapping labels\n  for (let i = 0; i < labels.length; i++) {\n    const label1 = labels[i];\n    if (labels[i].get('visible')) {\n      for (let j = i + 1; j < labels.length; j++) {\n        const label2 = labels[j];\n        if (label1 && label2 && label1 !== label2 && label2.get('visible')) {\n          const box1 = getlLabelBackgroundInfo(label1, items[i], get(items[i], 'background.padding'));\n          const box2 = getlLabelBackgroundInfo(label2, items[j], get(items[j], 'background.padding'));\n\n          if (isIntersect(box1, box2)) {\n            labels[j].set('visible', false);\n          }\n        }\n      }\n    }\n  }\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  bbox  label  shape  bbox \n */\nexport function limitInShape(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label, index) => {\n    const labelBBox = label.getCanvasBBox(); // \n    const shapeBBox = shapes[index].getBBox();\n    if (\n      labelBBox.minX < shapeBBox.minX ||\n      labelBBox.minY < shapeBBox.minY ||\n      labelBBox.maxX > shapeBBox.maxX ||\n      labelBBox.maxY > shapeBBox.maxY\n    ) {\n      label.remove(true); // \n    }\n  });\n}\n","import { each } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/**\n * @ignore\n *  label  label \n * @param labels\n * @param cfg\n */\nexport function limitInCanvas(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  each(labels, (label: IGroup) => {\n    const { minX: regionMinX, minY: regionMinY, maxX: regionMaxX, maxY: regionMaxY } = region;\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (minX < regionMinX || maxX < regionMinX) {\n      // \n      finalX = regionMinX;\n    }\n    if (minY < regionMinY || maxY < regionMinY) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (minX > regionMaxX) {\n      // \n      finalX = regionMaxX - width;\n    } else if (maxX > regionMaxX) {\n      // \n      finalX = finalX - (maxX - regionMaxX);\n    }\n\n    if (minY > regionMaxY) {\n      // \n      finalY = regionMaxY - height;\n    } else if (maxY > regionMaxY) {\n      // \n      finalY = finalY - (maxY - regionMaxY);\n    }\n\n    if (finalX !== x || finalY !== y) {\n      translate(label, finalX - x, finalY - y);\n    }\n  });\n}\n","import { each, pick } from '@antv/util';\nimport { BBox, IGroup, IShape } from '../../../dependents';\nimport { getCoordinateBBox } from '../../../util/coordinate';\nimport { getEllipsisText } from '../../../util/text';\nimport { translate } from '../../../util/transform';\nimport { LabelItem } from '../interface';\n\n/** limitInPlot layout  */\nexport interface LimitInPlotLayoutCfg {\n  /**  Plot  */\n  direction?: ('top' | 'right' | 'bottom' | 'left')[];\n  /**  margin */\n  margin?: number;\n  /**  translate ; ellipsis  text  */\n  action?: 'hide' | 'translate' | 'ellipsis';\n}\n\n/**\n * @ignore\n *  label  Plot  Plot  label \n * @param labels\n * @param cfg\n */\nexport function limitInPlot(\n  items: LabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox,\n  cfg?: LimitInPlotLayoutCfg\n) {\n  if (labels.length <= 0) {\n    return;\n  }\n  const direction = cfg?.direction || ['top', 'right', 'bottom', 'left'];\n  const action = cfg?.action || 'translate';\n  const margin = cfg?.margin || 0;\n  const coordinate = labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n  const {\n    minX: regionMinX,\n    minY: regionMinY,\n    maxX: regionMaxX,\n    maxY: regionMaxY,\n  } = getCoordinateBBox(coordinate, margin);\n\n  each(labels, (label: IGroup) => {\n    const { minX, minY, maxX, maxY, x, y, width, height } = label.getCanvasBBox();\n\n    let finalX = x;\n    let finalY = y;\n    if (direction.indexOf('left') >= 0 && (minX < regionMinX || maxX < regionMinX)) {\n      // \n      finalX = regionMinX;\n    }\n    if (direction.indexOf('top') >= 0 && (minY < regionMinY || maxY < regionMinY)) {\n      // \n      finalY = regionMinY;\n    }\n\n    if (direction.indexOf('right') >= 0) {\n      if (minX > regionMaxX) {\n        // \n        finalX = regionMaxX - width;\n      } else if (maxX > regionMaxX) {\n        // \n        finalX = finalX - (maxX - regionMaxX);\n      }\n    }\n\n    if (direction.indexOf('bottom') >= 0) {\n      if (minY > regionMaxY) {\n        // \n        finalY = regionMaxY - height;\n      } else if (maxY > regionMaxY) {\n        // \n        finalY = finalY - (maxY - regionMaxY);\n      }\n    }\n\n    if (finalX !== x || finalY !== y) {\n      const translateX = finalX - x;\n      if (action === 'translate') {\n        translate(label, translateX, finalY - y);\n      } else if (action === 'ellipsis') {\n        const textShapes = label.findAll((shape) => shape.get('type') === 'text');\n        textShapes.forEach((textShape) => {\n          const style = pick(textShape.attr(), ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'fontVariant']);\n          const textBox = textShape.getCanvasBBox();\n          const text = getEllipsisText(textShape.attr('text'), textBox.width - Math.abs(translateX), style);\n          textShape.attr('text', text);\n        });\n      } else {\n        label.hide();\n      }\n    }\n  });\n}\n","import { Coordinate } from '@antv/coord';\nimport { BBox, IGroup, IShape, IElement } from '@antv/g-base';\nimport { isObject, each, get, groupBy, isNil, filter } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\n\n/** label textline 4px */\nconst MARGIN = 4;\n\n/**\n *  labelline\n * @param item PolarLabelItem\n */\nfunction drawLabelline(item: any /** PolarLabelItem */, coordinate: Coordinate) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n\n  if (item && item.labelLine) {\n    const { angle, offset: labelOffset } = item;\n    // \n    const startPoint = polarToCartesian(center.x, center.y, radius, angle);\n    const itemX = item.x + get(item, 'offsetX', 0) * (Math.cos(angle) > 0 ? 1 : -1);\n    const itemY = item.y + get(item, 'offsetY', 0) * (Math.sin(angle) > 0 ? 1 : -1);\n\n    const endPoint = {\n      x: itemX - Math.cos(angle) * MARGIN,\n      y: itemY - Math.sin(angle) * MARGIN,\n    };\n\n    const smoothConnector = item.labelLine.smooth;\n    const path = [];\n    const dx = endPoint.x - center.x;\n    const dy = endPoint.y - center.y;\n    let endAngle = Math.atan(dy / dx);\n    //  & \n    if (dx < 0) {\n      endAngle += Math.PI;\n    }\n\n    //  smooth, undefined  smooth\n    if (smoothConnector === false) {\n      if (!isObject(item.labelLine)) {\n        // labelLine: true\n        item.labelLine = {};\n      }\n\n      // 0 , 1 \n      let sweepFlag = 0;\n\n      // \n      if ((angle < 0 && angle > -Math.PI / 2) || angle > Math.PI * 1.5) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= 0 && angle < Math.PI / 2) {\n        if (endPoint.y > startPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle >= Math.PI / 2 && angle < Math.PI) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      // \n      if (angle < -Math.PI / 2 || (angle >= Math.PI && angle < Math.PI * 1.5)) {\n        if (startPoint.y > endPoint.y) {\n          sweepFlag = 1;\n        }\n      }\n\n      const distance = labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0);\n      const breakPoint = polarToCartesian(center.x, center.y, radius + distance, angle);\n      // \n      const breakPoint3 = polarToCartesian(center.x, center.y, radius + labelOffset / 2, endAngle);\n\n      /**\n       * @example\n       * M 100 100 L100 90 A 50 50 0 0 0 150 50\n       *  (100, 100),  (100, 90),  (50, 50)  (150, 50);\n       * A  4  large-arc-flag,  180 : 0 1 \n       *  5 : \n       */\n      // \n      const largeArcFlag = 0;\n      // step1: \n      path.push(`M ${startPoint.x} ${startPoint.y}`);\n      // step2: \n      path.push(`L ${breakPoint.x} ${breakPoint.y}`);\n      // step3:   \n      path.push(`A ${center.x} ${center.y} 0 ${largeArcFlag} ${sweepFlag} ${breakPoint3.x} ${breakPoint3.y}`);\n      // step4: \n      path.push(`L ${endPoint.x} ${endPoint.y}`);\n    } else {\n      const breakPoint = polarToCartesian(\n        center.x,\n        center.y,\n        radius + (labelOffset / 2 > 4 ? 4 : Math.max(labelOffset / 2 - 1, 0)),\n        angle\n      );\n      // G2 \n      // path.push('Q', `${breakPoint.x}`, `${breakPoint.y}`, `${endPoint.x}`, `${endPoint.y}`);\n      const xSign = startPoint.x < center.x ? 1 : -1;\n      // step1: \n      path.push(`M ${endPoint.x} ${endPoint.y}`);\n      const slope1 = (startPoint.y - center.y) / (startPoint.x - center.x);\n      const slope2 = (endPoint.y - center.y) / (endPoint.x - center.x);\n      if (Math.abs(slope1 - slope2) > Math.pow(Math.E, -16)) {\n        // step2:  curve line ( & , , )\n        path.push(\n          ...[\n            'C',\n            endPoint.x + xSign * 4,\n            endPoint.y,\n            2 * breakPoint.x - startPoint.x,\n            2 * breakPoint.y - startPoint.y,\n            startPoint.x,\n            startPoint.y,\n          ]\n        );\n      }\n      // step3: \n      path.push(`L ${startPoint.x} ${startPoint.y}`);\n    }\n    item.labelLine.path = path.join(' ');\n  }\n}\n\n/**\n *  outer-label ,  type = pie  label offset > 0 \n */\nexport function pieOuterLabelLayout(\n  originalItems: PolarLabelItem[],\n  labels: IGroup[],\n  shapes: IShape[] | IGroup[],\n  region: BBox\n) {\n  const items = filter(originalItems, (item) => !isNil(item));\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  // note labelHeight  label \n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = get(items[0], 'offset', 0);\n\n  if (labelOffset <= 0) {\n    return;\n  }\n\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  const { start, end } = coordinate;\n  // step2: calculate totalHeight\n  const totalHeight = Math.min((radius + labelOffset + labelHeight) * 2, coordinate.getHeight());\n  const totalR = totalHeight / 2;\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalR,\n    maxY: center.y + totalR,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = Math.floor(totalHeight / labelHeight);\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx + 1 > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  each(separateLabels, (half: PolarLabelItem[], key: string) => {\n    each(half, (item: PolarLabelItem) => {\n      const isRight = key === RIGHT_HALF_KEY;\n      const labelShape = labelsMap[item.id];\n\n      // because group could not effect content-shape, should set content-shape position manually\n      const content = labelShape.getChildByIndex(0) as IElement;\n\n      // textShape \n      if (content) {\n        const r = radius + labelOffset;\n        // (x - cx)^2 + (y - cy)^2 = totalR^2\n        const dy = item.y - center.y;\n\n        const rPow2 = Math.pow(r, 2);\n        const dyPow2 = Math.pow(dy, 2);\n        const dxPow2 = rPow2 - dyPow2 > 0 ? rPow2 - dyPow2 : 0;\n        const dx = Math.sqrt(dxPow2);\n\n        const dx_offset = Math.abs(Math.cos(item.angle) * r);\n        if (!isRight) {\n          // left\n          item.x = center.x - Math.max(dx, dx_offset);\n        } else {\n          // right\n          item.x = center.x + Math.max(dx, dx_offset);\n        }\n      }\n\n      // adjust labelShape\n      if (content) {\n        content.attr('y', item.y);\n        content.attr('x', item.x);\n      }\n\n      drawLabelline(item, coordinate);\n    });\n  });\n}\n","import { IGroup, IShape } from '../../../dependents';\nimport { BBox } from '../../../util/bbox';\nimport { isContrastColorWhite } from '../../../util/color';\nimport Element from '../../element';\nimport { LabelItem } from '../interface';\n\nexport function adjustColor(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0].get('element');\n  const theme = element.geometry.theme;\n  const { fillColorLight, fillColorDark } = theme.labels || {};\n\n  shapes.forEach((shape: IShape | IGroup, index: number) => {\n    const label = labels[index];\n    const textShape = label.find((el) => el.get('type') === 'text');\n    const shapeBBox = BBox.fromObject(shape.getBBox());\n    const textBBox = BBox.fromObject(textShape.getCanvasBBox());\n    const overflow = !shapeBBox.contains(textBBox);\n\n    const bgColor = shape.attr('fill');\n    const fillWhite = isContrastColorWhite(bgColor);\n\n    if (!overflow) {\n      if (fillWhite) {\n        if (fillColorLight) {\n          textShape.attr('fill', fillColorLight);\n        }\n      } else {\n        if (fillColorDark) {\n          textShape.attr('fill', fillColorDark);\n        }\n      }\n    } else {\n      //  overflowLabel \n      textShape.attr(theme.overflowLabels.style);\n    }\n  });\n}\n","import { IGroup, IShape } from '../../../../dependents';\nimport { each, groupBy, uniq, map, size, filter } from '@antv/util';\nimport Geometry from '../../../base';\nimport Element from '../../../element';\nimport { LabelItem } from '../../interface';\nimport { checkShapeOverlap } from '../../util';\n\nfunction filterLabel(labels: IShape[] | IGroup[]) {\n  const MAX_CNT = 500; //  500 \n  const filteredLabels = [];\n  const pages = Math.max(Math.floor(labels.length / MAX_CNT), 1);\n  each(labels, (label, idx) => {\n    if (idx % pages === 0) {\n      filteredLabels.push(label);\n    } else {\n      label.set('visible', false);\n    }\n  });\n\n  return filteredLabels;\n}\n\n/**\n *  interval geometry \n * @param items\n * @param labels\n * @param shapes\n */\nexport function intervalHideOverlap(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[]) {\n  if (shapes.length === 0) {\n    return;\n  }\n  const element: Element = shapes[0]?.get('element');\n  const geometry: Geometry = element?.geometry;\n  if (!geometry || geometry.type !== 'interval') {\n    return;\n  }\n\n  const filteredLabels = filterLabel(labels);\n  const [xField] = geometry.getXYFields();\n  const dones: IShape[] = [];\n  const todo: IShape[] = [];\n  const groupedLabels = groupBy(filteredLabels, (label) => label.get('data')[xField]);\n  const xValues = uniq(map(filteredLabels, (label: IShape) => label.get('data')[xField]));\n  let xValue;\n\n  filteredLabels.forEach((label) => {\n    label.set('visible', true);\n  });\n\n  const addCurrentGroup = (curItems: IShape[]) => {\n    if (curItems) {\n      if (curItems.length) {\n        // \n        todo.push(curItems.pop());\n      }\n      todo.push(...curItems);\n    }\n  };\n\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.shift();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  if (size(xValues) > 0) {\n    // \n    xValue = xValues.pop();\n    addCurrentGroup(groupedLabels[xValue]);\n  }\n  each(xValues.reverse(), (val) => {\n    // \n    addCurrentGroup(groupedLabels[val]);\n  });\n\n  while (todo.length > 0) {\n    const cur = todo.shift();\n    if (cur.get('visible')) {\n      if (checkShapeOverlap(cur, dones)) {\n        cur.set('visible', false);\n      } else {\n        dones.push(cur);\n      }\n    }\n  }\n}\n","import { BBox, IGroup, IShape } from '@antv/g-base';\nimport { each, get, isNil, deepMix, groupBy } from '@antv/util';\nimport { polarToCartesian } from '../../../../util/graphics';\nimport { LabelItem, PolarLabelItem } from '../../interface';\nimport { antiCollision } from './util';\nimport { translate } from '../../../../util/transform';\nimport { Coordinate } from '@antv/coord';\n\n/** ,  */\nconst INFLECTION_OFFSET = 4;\n/** , distance between label and edge: offsetX */\nconst LABEL_OFFSET_X = 4;\n/**  */\nconst LABEL_TEXT_LINE_OFFSET = 4;\n\nfunction drawLabelline(item: PolarLabelItem, coordinate: Coordinate, inRight: boolean) {\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  const startPoint = {\n    x: item.x - (inRight ? LABEL_TEXT_LINE_OFFSET : -LABEL_TEXT_LINE_OFFSET),\n    y: item.y,\n  };\n  const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n  const p1 = { x: startPoint.x, y: startPoint.y };\n  const p2 = { x: inflectionPoint.x, y: inflectionPoint.y };\n\n  const endPoint = polarToCartesian(center.x, center.y, radius, item.angle);\n  let path = '';\n\n  // \n  if (startPoint.y !== inflectionPoint.y) {\n    const offset = inRight ? 4 : -4;\n    p1.y = startPoint.y;\n\n    /**  */\n    if (item.angle < 0 && item.angle >= -Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > 0 && item.angle < Math.PI / 2) {\n      p1.x = Math.max(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.max(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle > Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y > inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n    /**   */\n    if (item.angle < -Math.PI / 2) {\n      p1.x = Math.min(inflectionPoint.x, startPoint.x - offset);\n      if (startPoint.y < inflectionPoint.y) {\n        p2.y = p1.y;\n      } else {\n        p2.y = inflectionPoint.y;\n        p2.x = Math.min(p2.x, p1.x - offset);\n      }\n    }\n  }\n\n  path = [\n    `M ${startPoint.x},${startPoint.y}`,\n    `L ${p1.x},${p1.y}`,\n    `L ${p2.x},${p2.y}`,\n    `L ${inflectionPoint.x},${inflectionPoint.y}`,\n    `L ${endPoint.x},${endPoint.y}`,\n  ].join(' ');\n  item.labelLine = deepMix({}, item.labelLine, { path });\n}\n\n/**\n *  spider ,  pie-spider \n * region  labelsRenderer ()\n */\nexport function pieSpiderLabelLayout(items: LabelItem[], labels: IGroup[], shapes: IShape[] | IGroup[], region: BBox) {\n  /**  */\n  const coordinate = labels[0] && labels[0].get('coordinate');\n  if (!coordinate) {\n    return;\n  }\n\n  /**  */\n  const center = coordinate.getCenter();\n  /**  */\n  const radius = coordinate.getRadius();\n  /** label shapes */\n  const labelsMap: Record<string /** id */, IGroup> = {};\n  for (const labelShape of labels) {\n    labelsMap[labelShape.get('id')] = labelShape;\n  }\n\n  const labelHeight: number = get(items[0], 'labelHeight', 14);\n  const labelOffset: number = Math.max(get(items[0], 'offset', 0), INFLECTION_OFFSET);\n\n  // step 1: adjust items to spider\n  each(items, (item) => {\n    if (!item) return;\n    const label = get(labelsMap, [item.id]);\n    if (!label) return;\n\n    const inRight = item.x > center.x || (item.x === center.x && item.y > center.y);\n    const offsetX = !isNil(item.offsetX) ? item.offsetX : LABEL_OFFSET_X;\n    const inflectionPoint = polarToCartesian(center.x, center.y, radius + INFLECTION_OFFSET, item.angle);\n\n    const totalOffset = labelOffset + offsetX;\n    item.x = center.x + (inRight ? 1 : -1) * (radius + totalOffset);\n    item.y = inflectionPoint.y;\n  });\n\n  const { start, end } = coordinate;\n  const LEFT_HALF_KEY = 'left';\n  const RIGHT_HALF_KEY = 'right';\n  // step 1: separate labels\n  const separateLabels = groupBy(items, (item) => (item.x < center.x ? LEFT_HALF_KEY : RIGHT_HALF_KEY));\n\n  // step2: calculate totalHeight\n  let totalHeight = (radius + labelOffset) * 2 + labelHeight;\n\n  each(separateLabels, (half: PolarLabelItem[]) => {\n    const halfHeight = half.length * labelHeight;\n    if (halfHeight > totalHeight) {\n      totalHeight = Math.min(halfHeight, Math.abs(start.y - end.y));\n    }\n  });\n\n  /** labels () */\n  const labelsContainerRange = {\n    minX: start.x,\n    maxX: end.x,\n    minY: center.y - totalHeight / 2,\n    maxY: center.y + totalHeight / 2,\n  };\n\n  // step 3: antiCollision\n  each(separateLabels, (half, key) => {\n    const maxLabelsCountForOneSide = totalHeight / labelHeight;\n    if (half.length > maxLabelsCountForOneSide) {\n      half.sort((a, b) => {\n        // sort by percentage DESC\n        return b.percent - a.percent;\n      });\n\n      each(half, (labelItem: PolarLabelItem, idx) => {\n        if (idx > maxLabelsCountForOneSide) {\n          labelsMap[labelItem.id].set('visible', false);\n          labelItem.invisible = true;\n        }\n      });\n    }\n    antiCollision(half, labelHeight, labelsContainerRange);\n  });\n\n  const startY = labelsContainerRange.minY;\n  const endY = labelsContainerRange.maxY;\n\n  // step4: applyTo labels and adjust labelLines\n  each(separateLabels, (half, key) => {\n    const inRight = key === RIGHT_HALF_KEY;\n\n    each(half, (item) => {\n      const label: IGroup = get(labelsMap, item && [item.id]);\n      if (!label) {\n        return;\n      }\n      // out of range, hidden\n      if (item.y < startY || item.y > endY) {\n        label.set('visible', false);\n        return;\n      }\n\n      const labelContent = label.getChildByIndex(0);\n      const box = labelContent.getCanvasBBox();\n      const originalPos = { x: inRight ? box.x : box.maxX, y: box.y + box.height / 2 /** vertical-align: middle */ };\n\n      translate(labelContent as any, item.x - originalPos.x /**  pos.x  item.x */, item.y - originalPos.y);\n\n      // adjust labelLines\n      if (item.labelLine) {\n        drawLabelline(item, coordinate, inRight);\n      }\n    });\n  });\n}\n","import { isNil } from '@antv/util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeIn(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: isNil(shape.attr('fillOpacity')) ? 1 : shape.attr('fillOpacity'),\n    strokeOpacity: isNil(shape.attr('strokeOpacity')) ? 1 : shape.attr('strokeOpacity'),\n    opacity: isNil(shape.attr('opacity')) ? 1 : shape.attr('opacity'),\n  };\n  shape.attr({\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  });\n  shape.animate(endState, animateCfg);\n}\n\n/**\n * @ignore\n *  shape \n * \n * @param shape \n * @param animateCfg \n * @param cfg \n */\nexport function fadeOut(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const endState = {\n    fillOpacity: 0,\n    strokeOpacity: 0,\n    opacity: 0,\n  };\n  const { easing, duration, delay } = animateCfg;\n  shape.animate(\n    endState,\n    duration,\n    easing,\n    () => {\n      shape.remove(true);\n    },\n    delay\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\nimport { doScaleAnimate } from './util';\n\n/**\n * @ignore\n * \n * x \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInX(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'x');\n}\n\n/**\n * @ignore\n * \n * y \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'y');\n}\n\n/**\n * @ignore\n * \n * \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function growInXY(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { coordinate, minYPoint } = cfg;\n  doScaleAnimate(element, animateCfg, coordinate, minYPoint, 'xy');\n}\n","import { ext } from '@antv/matrix-util';\nimport { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg, Point } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n *  x \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInX(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const points = mappingData.points as Point[];\n  // x \n  const x = points[0].y - points[1].y > 0 ? box.maxX : box.minX;\n  const y = (box.minY + box.maxY) / 2;\n\n  shape.applyToMatrix([x, y, 1]);\n\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 0.01, 1],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 100, 1],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n\n/**\n * @ignore\n *  y \n * @param shape\n * @param animateCfg\n * @param shapeModel\n */\nexport function scaleInY(shape: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const box = shape.getBBox();\n  const { mappingData } = shape.get('origin');\n  const x = (box.minX + box.maxX) / 2;\n  const points = mappingData.points as Point[];\n  //  shape \n  const y = points[0].y - points[1].y <= 0 ? box.maxY : box.minY;\n\n  shape.applyToMatrix([x, y, 1]);\n  const matrix = ext.transform(shape.getMatrix(), [\n    ['t', -x, -y],\n    ['s', 1, 0.01],\n    ['t', x, y],\n  ]);\n  shape.setMatrix(matrix);\n\n  shape.animate(\n    {\n      matrix: ext.transform(shape.getMatrix(), [\n        ['t', -x, -y],\n        ['s', 1, 100],\n        ['t', x, y],\n      ]),\n    },\n    animateCfg\n  );\n}\n","import { IGroup, IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { getCoordinateClipCfg } from '../../util/coordinate';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * \n * @todo \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function waveIn(element: IShape | IGroup, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { type, startState, endState } = getCoordinateClipCfg(cfg.coordinate, 20); // \n  const clipShape = element.setClip({\n    type,\n    attrs: startState,\n  }) as IShape; //  shape \n\n  // \b\n  clipShape.animate(endState, {\n    ...animateCfg,\n    callback: () => {\n      if (element && !element.get('destroyed')) {\n        element.set('clipShape', null);\n      }\n      clipShape.remove(true); // \n    },\n  });\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * @param shape \n * @param animateCfg\n * @param cfg\n */\nexport function positionUpdate(shape: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  const { toAttrs } = cfg;\n  // @ts-ignore\n  const x = toAttrs.x;\n  // @ts-ignore\n  const y = toAttrs.y;\n\n  // @ts-ignore\n  delete toAttrs.x;\n  // @ts-ignore\n  delete toAttrs.y;\n\n  shape.attr(toAttrs);\n\n  shape.animate(\n    {\n      x,\n      y,\n    },\n    animateCfg\n  );\n}\n","import { IShape } from '../../dependents';\nimport { GAnimateCfg } from '../../interface';\nimport { AnimateExtraCfg } from '../interface';\n\n/**\n * @ignore\n * \n * path \n * @param element \n * @param animateCfg \n * @param cfg \n */\nexport function pathIn(element: IShape, animateCfg: GAnimateCfg, cfg: AnimateExtraCfg) {\n  // @ts-ignore\n  const length = element.getTotalLength();\n  // \n  element.attr('lineDash', [length]);\n  element.animate((ratio: number) => {\n    return {\n      // \n      lineDashOffset: (1 - ratio) * length,\n    };\n  }, animateCfg);\n}\n",null,null,null,null,null,"var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export function linear(t) {\n  return +t;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return (+t === 1) ? 1 : 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","// tpmt is two power minus ten times t scaled to [0,1]\nexport function tpmt(x) {\n  return (Math.pow(2, -10 * x) - 0.0009765625) * 1.0009775171065494;\n}\n","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return (t = +t) * t * (s * (t - 1) + t);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((t + 1) * s + t) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","import {tpmt} from \"./math.js\";\n\nvar tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * tpmt(-(--t)) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * tpmt(t = +t) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * tpmt(-t) * Math.sin((s - t) / p)\n        : 2 - a * tpmt(t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { Geometry, Types } from '@antv/g2';\nimport { each, isNil, isObject } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { Options } from '../types';\nimport { Interaction } from '../types/interaction';\nimport { Transformations } from '../types/coordinate';\nimport { Axis } from '../types/axis';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { pick, deepAssign } from '../utils';\n\n/**\n *  legend ,  colorField  seriesField \n * @param params\n */\nexport function legend<O extends Pick<Options, 'legend'> & { colorField?: string; seriesField?: string }>(\n  params: Params<O>\n): Params<O> {\n  const { chart, options } = params;\n  const { legend, colorField, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField || seriesField) {\n    chart.legend(colorField || seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * @param params\n */\nexport function tooltip<O extends Pick<Options, 'tooltip'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== undefined) {\n    chart.tooltip(tooltip);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction<O extends Pick<Options, 'interactions'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { interactions } = options;\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation<O extends Pick<Options, 'animation'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(chart.geometries, (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function theme<O extends Pick<Options, 'theme'>>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { theme } = options;\n\n  // \n  if (theme) {\n    chart.theme(theme);\n  }\n  return params;\n}\n\n/**\n *  state \n * @param params\n */\nexport function state<O extends Options>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const { state } = options;\n\n  if (state) {\n    each(chart.geometries, (geometry: Geometry) => {\n      geometry.state(state);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function slider(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { slider } = options;\n\n  chart.option('slider', slider);\n\n  return params;\n}\n\n/**\n *  adaptor\n * @param params\n */\nexport function scrollbar(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { scrollbar } = options;\n\n  chart.option('scrollbar', scrollbar);\n\n  return params;\n}\n\n/**\n * scale  adaptor\n * @param axes\n */\nexport function scale(axes: Record<string, Axis>, meta?: Options['meta']) {\n  return function <O extends Pick<Options, 'meta'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    // 1.  scale \n    let scales: Record<string, any> = {};\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n\n    // 2. meta  scale \n    scales = deepAssign({}, meta, options.meta, scales);\n\n    chart.scale(scales);\n\n    return params;\n  };\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(annotationOptions?: Options['annotations']) {\n  return function <O extends Pick<Options, 'annotations'>>(params: Params<O>): Params<O> {\n    const { chart, options } = params;\n\n    const annotationController = chart.getController('annotation');\n\n    /**  annotation */\n    each([...(options.annotations || []), ...(annotationOptions || [])], (annotationOption) => {\n      // @ts-ignore\n      annotationController.annotation(annotationOption);\n    });\n\n    return params;\n  };\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<Options>): Params<Options> {\n  const { chart, options } = params;\n  const { yAxis, limitInPlot } = options;\n\n  let value = limitInPlot;\n\n  //  limitInPlot yAxis  min/max  limitInPlot\n  if (isObject(yAxis) && isNil(limitInPlot)) {\n    if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some((value) => !isNil(value))) {\n      value = true;\n    } else {\n      value = false;\n    }\n  }\n  chart.limitInPlot = value;\n\n  return params;\n}\n\n/**\n * \n */\nexport function transformations(coordinateType: Types.CoordinateOption['type'] = 'rect') {\n  return (params: Params<Options & { coordinate: Transformations }>) => {\n    const { chart, options } = params;\n    const { coordinate } = options;\n\n    const actions: Types.CoordinateActions[] = Array.from(coordinate || [])\n      .map((cfg) => {\n        if (cfg.type === 'reflectX') return ['reflect', 'x'] as Types.CoordinateActions;\n        if (cfg.type === 'reflectY') return ['reflect', 'y'] as Types.CoordinateActions;\n        if (cfg.type === 'transpose') return ['transpose'] as Types.CoordinateActions;\n\n        return null;\n      })\n      .filter((d) => !!d);\n\n    if (actions.length !== 0) {\n      chart.coordinate({ type: coordinateType, actions });\n    }\n\n    return params;\n  };\n}\n\nexport { pattern } from './pattern';\n",null,null,null,null,null,null,null,null,null,null,"/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","export type { GeometryOptions } from './base';\nexport { area } from './area';\nexport type { AreaGeometryOptions } from './area';\nexport { line } from './line';\nexport type { LineGeometryOptions } from './line';\nexport { point } from './point';\nexport type { PointGeometryOptions } from './point';\nexport { interval } from './interval';\nexport type { IntervalGeometryOptions } from './interval';\nexport { polygon } from './polygon';\nexport type { PolygonGeometryOptions } from './polygon';\nexport { edge } from './edge';\nexport type { EdgeGeometryOptions } from './edge';\nexport { schema } from './schema';\nexport type { SchemaGeometryOptions } from './schema';\nexport { violin } from './violin';\nexport type { ViolinGeometryOptions } from './violin';\n","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;",null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { uniq, isFunction, isObject, isString, isNumber, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { ColorAttr, ShapeAttr, SizeAttr, StyleAttr, TooltipAttr, Options, Datum } from '../../types';\nimport { Label } from '../../types/label';\nimport { State } from '../../types/state';\nimport { transformLabel } from '../../utils';\n\n/**\n * \n */\nexport type MappingOptions = {\n  /** color  */\n  readonly color?: ColorAttr;\n  /** shape  */\n  readonly shape?: ShapeAttr;\n  /** ,  */\n  readonly size?: SizeAttr;\n  /**  */\n  readonly style?: StyleAttr;\n  /** tooltip  */\n  readonly tooltip?: TooltipAttr;\n};\n\n/**\n * \n * // TODO  adjust  field  styleFieldlabelField \n */\nexport type Geometry = {\n  /** geometry , 'line' | 'interval' | 'point' | 'area' | 'polygon' */\n  readonly type?: string;\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly colorField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** style  */\n  readonly styleField?: string;\n  /** tooltip  */\n  readonly tooltipFields?: string[] | false;\n  /** ,  mapping  */\n  readonly rawFields?: string[];\n  /**  */\n  readonly mapping?: MappingOptions;\n  /** label  */\n  readonly label?: Label;\n  /**  */\n  readonly state?: State;\n  /**  registerShape  */\n  readonly customInfo?: any;\n  /** geometry params */\n  readonly args?: any;\n};\n\n/**\n * geometry options\n */\nexport type GeometryOptions = Geometry & Partial<Options>;\n\n/**\n * \n * @param options\n * @param field\n */\nexport function getMappingField(\n  o: GeometryOptions,\n  field: 'color' | 'shape' | 'size' | 'style'\n): {\n  mappingFields: string[];\n  tileMappingField: string;\n} {\n  const { type, xField, yField, colorField, shapeField, sizeField, styleField, rawFields = [] } = o;\n\n  let fields = [];\n\n  //  color  bar  widthRatio \n  //  color  colorField  + rawFields\n  // shape, size \n  if (field === 'color') {\n    fields = [colorField || xField, ...rawFields];\n  } else if (field === 'shape') {\n    fields = [shapeField || xField, ...rawFields];\n  } else if (field === 'size') {\n    fields = [sizeField || xField, ...rawFields];\n  } else {\n    fields = [xField, yField, colorField, shapeField, sizeField, styleField, ...rawFields];\n\n    // \n    const idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n\n    const f = fields[idx];\n    // \n    fields.splice(idx, 1);\n    // \n    fields.unshift(f);\n  }\n\n  const mappingFields = uniq(fields.filter((f) => !!f));\n  /**\n   *  line geometry  color \n   * eg:\n   *   geometry.color(xField, ()=> '#f24')\n   */\n  const tileMappingField =\n    type === 'line' && [xField, yField].includes(mappingFields.join('*')) ? '' : mappingFields.join('*');\n  return {\n    mappingFields,\n    tileMappingField,\n  };\n}\n\n/**\n * \n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields: string[], func: (datum: Datum) => any) {\n  if (!func) return undefined;\n  // \n  return (...args: any[]) => {\n    const params: Datum = {};\n\n    mappingFields.forEach((f: string, idx: number) => {\n      params[f] = args[idx];\n    });\n\n    //  undefined\n    delete params['undefined'];\n\n    return func(params);\n  };\n}\n\n/**\n *  geometry  adaptor\n * @param params\n */\nexport function geometry<O extends GeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options } = params;\n  const {\n    type,\n    args,\n    mapping,\n    xField,\n    yField,\n    colorField,\n    shapeField,\n    sizeField,\n    tooltipFields,\n    label,\n    state,\n    customInfo,\n  } = options;\n\n  //  mapping \n  if (!mapping) {\n    return params;\n  }\n\n  const { color, shape, size, style, tooltip } = mapping;\n\n  //  geometry\n  const geometry = chart[type](args).position(`${xField}*${yField}`);\n\n  /**\n   * color \n   * g.color('red');\n   * g.color('color', ['red', 'blue']);\n   * g.color('x', (x, y) => 'red');\n   * g.color('color', (color, x, y) => 'red');\n   */\n  if (isString(color)) {\n    colorField ? geometry.color(colorField, color) : geometry.color(color);\n  } else if (isFunction(color)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'color');\n    geometry.color(tileMappingField, getMappingFunction(mappingFields, color));\n  } else {\n    colorField && geometry.color(colorField, color);\n  }\n\n  /**\n   * shape \n   * g.shape('rect');\n   * g.shape('shape', ['rect', 'circle']);\n   * g.shape('x*y', (x, y) => 'rect');\n   * g.shape('shape*x*y', (shape, x, y) => 'rect');\n   */\n  if (isString(shape)) {\n    shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape]  G2 \n  } else if (isFunction(shape)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'shape');\n    geometry.shape(tileMappingField, getMappingFunction(mappingFields, shape));\n  } else {\n    shapeField && geometry.shape(shapeField, shape);\n  }\n\n  /**\n   * size \n   * g.size(10);\n   * g.size('size', [10, 20]);\n   * g.size('x*y', (x, y) => 10);\n   * g.color('size*x*y', (size, x, y) => 1-);\n   */\n  if (isNumber(size)) {\n    sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n  } else if (isFunction(size)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'size');\n    geometry.size(tileMappingField, getMappingFunction(mappingFields, size));\n  } else {\n    sizeField && geometry.size(sizeField, size);\n  }\n\n  /**\n   * style \n   * g.style({ fill: 'red' });\n   * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n   */\n  if (isFunction(style)) {\n    const { mappingFields, tileMappingField } = getMappingField(options, 'style');\n    geometry.style(tileMappingField, getMappingFunction(mappingFields, style));\n  } else if (isObject(style)) {\n    geometry.style(style);\n  }\n\n  /**\n   * tooltip  API\n   * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n   * g.tooltip(false);\n   */\n  if (tooltipFields === false) {\n    geometry.tooltip(false);\n  } else if (!isEmpty(tooltipFields)) {\n    geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n  }\n\n  /**\n   * label \n   */\n  if (label === false) {\n    geometry.label(false);\n  } else if (label) {\n    const { callback, fields, ...cfg } = label;\n    geometry.label({\n      fields: fields || [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  /**\n   * state \n   */\n  if (state) {\n    geometry.state(state);\n  }\n\n  /**\n   * \n   */\n  if (customInfo) {\n    geometry.customInfo(customInfo);\n  }\n\n  //  x y \n  [xField, yField]\n    .filter((f: string) => f !== colorField)\n    .forEach((f: string) => {\n      chart.legend(f, false);\n    });\n  return {\n    ...params,\n    // geometry adaptor  geometry  adaptor type \n    ext: { geometry },\n  };\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { get } from '@antv/util';\nimport { Tooltip, TooltipMapping } from '../types/tooltip';\n\n/**\n *  tooltip \n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip: Tooltip, defaultFields: string[]): TooltipMapping {\n  if (tooltip === false) {\n    return {\n      fields: false, //  tooltip\n    };\n  }\n\n  let fields = get(tooltip, 'fields');\n  const formatter = get(tooltip, 'formatter');\n\n  if (formatter && !fields) {\n    fields = defaultFields;\n  }\n\n  return {\n    fields,\n    formatter,\n  };\n}\n",null,null,null,"const token = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nconst twoDigitsOptional = \"[1-9]\\\\d?\";\nconst twoDigits = \"\\\\d\\\\d\";\nconst threeDigits = \"\\\\d{3}\";\nconst fourDigits = \"\\\\d{4}\";\nconst word = \"[^\\\\s]+\";\nconst literal = /\\[([^]*?)\\]/gm;\n\ntype DateInfo = {\n  year: number;\n  month: number;\n  day: number;\n  hour: number;\n  minute: number;\n  second: number;\n  millisecond: number;\n  isPm: number | null;\n  timezoneOffset: number | null;\n};\n\nexport type I18nSettings = {\n  amPm: [string, string];\n  dayNames: Days;\n  dayNamesShort: Days;\n  monthNames: Months;\n  monthNamesShort: Months;\n  DoFn(dayOfMonth: number): string;\n};\n\nexport type I18nSettingsOptional = Partial<I18nSettings>;\n\nexport type Days = [string, string, string, string, string, string, string];\nexport type Months = [\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string,\n  string\n];\n\nfunction shorten<T extends string[]>(arr: T, sLen: number): string[] {\n  const newArr: string[] = [];\n  for (let i = 0, len = arr.length; i < len; i++) {\n    newArr.push(arr[i].substr(0, sLen));\n  }\n  return newArr;\n}\n\nconst monthUpdate = (\n  arrName: \"monthNames\" | \"monthNamesShort\" | \"dayNames\" | \"dayNamesShort\"\n) => (v: string, i18n: I18nSettings): number | null => {\n  const lowerCaseArr = i18n[arrName].map(v => v.toLowerCase());\n  const index = lowerCaseArr.indexOf(v.toLowerCase());\n  if (index > -1) {\n    return index;\n  }\n  return null;\n};\n\nexport function assign<A>(a: A): A;\nexport function assign<A, B>(a: A, b: B): A & B;\nexport function assign<A, B, C>(a: A, b: B, c: C): A & B & C;\nexport function assign<A, B, C, D>(a: A, b: B, c: C, d: D): A & B & C & D;\nexport function assign(origObj: any, ...args: any[]): any {\n  for (const obj of args) {\n    for (const key in obj) {\n      // @ts-ignore ex\n      origObj[key] = obj[key];\n    }\n  }\n  return origObj;\n}\n\nconst dayNames: Days = [\n  \"Sunday\",\n  \"Monday\",\n  \"Tuesday\",\n  \"Wednesday\",\n  \"Thursday\",\n  \"Friday\",\n  \"Saturday\"\n];\nconst monthNames: Months = [\n  \"January\",\n  \"February\",\n  \"March\",\n  \"April\",\n  \"May\",\n  \"June\",\n  \"July\",\n  \"August\",\n  \"September\",\n  \"October\",\n  \"November\",\n  \"December\"\n];\n\nconst monthNamesShort: Months = shorten(monthNames, 3) as Months;\nconst dayNamesShort: Days = shorten(dayNames, 3) as Days;\n\nconst defaultI18n: I18nSettings = {\n  dayNamesShort,\n  dayNames,\n  monthNamesShort,\n  monthNames,\n  amPm: [\"am\", \"pm\"],\n  DoFn(dayOfMonth: number) {\n    return (\n      dayOfMonth +\n      [\"th\", \"st\", \"nd\", \"rd\"][\n        dayOfMonth % 10 > 3\n          ? 0\n          : ((dayOfMonth - (dayOfMonth % 10) !== 10 ? 1 : 0) * dayOfMonth) % 10\n      ]\n    );\n  }\n};\nlet globalI18n = assign({}, defaultI18n);\nconst setGlobalDateI18n = (i18n: I18nSettingsOptional): I18nSettings =>\n  (globalI18n = assign(globalI18n, i18n));\n\nconst regexEscape = (str: string): string =>\n  str.replace(/[|\\\\{()[^$+*?.-]/g, \"\\\\$&\");\n\nconst pad = (val: string | number, len = 2): string => {\n  val = String(val);\n  while (val.length < len) {\n    val = \"0\" + val;\n  }\n  return val;\n};\n\nconst formatFlags: Record<\n  string,\n  (dateObj: Date, i18n: I18nSettings) => string\n> = {\n  D: (dateObj: Date): string => String(dateObj.getDate()),\n  DD: (dateObj: Date): string => pad(dateObj.getDate()),\n  Do: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.DoFn(dateObj.getDate()),\n  d: (dateObj: Date): string => String(dateObj.getDay()),\n  dd: (dateObj: Date): string => pad(dateObj.getDay()),\n  ddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNamesShort[dateObj.getDay()],\n  dddd: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.dayNames[dateObj.getDay()],\n  M: (dateObj: Date): string => String(dateObj.getMonth() + 1),\n  MM: (dateObj: Date): string => pad(dateObj.getMonth() + 1),\n  MMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNamesShort[dateObj.getMonth()],\n  MMMM: (dateObj: Date, i18n: I18nSettings): string =>\n    i18n.monthNames[dateObj.getMonth()],\n  YY: (dateObj: Date): string =>\n    pad(String(dateObj.getFullYear()), 4).substr(2),\n  YYYY: (dateObj: Date): string => pad(dateObj.getFullYear(), 4),\n  h: (dateObj: Date): string => String(dateObj.getHours() % 12 || 12),\n  hh: (dateObj: Date): string => pad(dateObj.getHours() % 12 || 12),\n  H: (dateObj: Date): string => String(dateObj.getHours()),\n  HH: (dateObj: Date): string => pad(dateObj.getHours()),\n  m: (dateObj: Date): string => String(dateObj.getMinutes()),\n  mm: (dateObj: Date): string => pad(dateObj.getMinutes()),\n  s: (dateObj: Date): string => String(dateObj.getSeconds()),\n  ss: (dateObj: Date): string => pad(dateObj.getSeconds()),\n  S: (dateObj: Date): string =>\n    String(Math.round(dateObj.getMilliseconds() / 100)),\n  SS: (dateObj: Date): string =>\n    pad(Math.round(dateObj.getMilliseconds() / 10), 2),\n  SSS: (dateObj: Date): string => pad(dateObj.getMilliseconds(), 3),\n  a: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12 ? i18n.amPm[0] : i18n.amPm[1],\n  A: (dateObj: Date, i18n: I18nSettings): string =>\n    dateObj.getHours() < 12\n      ? i18n.amPm[0].toUpperCase()\n      : i18n.amPm[1].toUpperCase(),\n  ZZ(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60) * 100 + (Math.abs(offset) % 60), 4)\n    );\n  },\n  Z(dateObj: Date): string {\n    const offset = dateObj.getTimezoneOffset();\n    return (\n      (offset > 0 ? \"-\" : \"+\") +\n      pad(Math.floor(Math.abs(offset) / 60), 2) +\n      \":\" +\n      pad(Math.abs(offset) % 60, 2)\n    );\n  }\n};\n\ntype ParseInfo = [\n  keyof DateInfo,\n  string,\n  ((v: string, i18n: I18nSettings) => number | null)?,\n  string?\n];\nconst monthParse = (v: string): number => +v - 1;\nconst emptyDigits: ParseInfo = [null, twoDigitsOptional];\nconst emptyWord: ParseInfo = [null, word];\nconst amPm: ParseInfo = [\n  \"isPm\",\n  word,\n  (v: string, i18n: I18nSettings): number | null => {\n    const val = v.toLowerCase();\n    if (val === i18n.amPm[0]) {\n      return 0;\n    } else if (val === i18n.amPm[1]) {\n      return 1;\n    }\n    return null;\n  }\n];\nconst timezoneOffset: ParseInfo = [\n  \"timezoneOffset\",\n  \"[^\\\\s]*?[\\\\+\\\\-]\\\\d\\\\d:?\\\\d\\\\d|[^\\\\s]*?Z?\",\n  (v: string): number | null => {\n    const parts = (v + \"\").match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      const minutes = +parts[1] * 60 + parseInt(parts[2], 10);\n      return parts[0] === \"+\" ? minutes : -minutes;\n    }\n\n    return 0;\n  }\n];\nconst parseFlags: Record<string, ParseInfo> = {\n  D: [\"day\", twoDigitsOptional],\n  DD: [\"day\", twoDigits],\n  Do: [\"day\", twoDigitsOptional + word, (v: string): number => parseInt(v, 10)],\n  M: [\"month\", twoDigitsOptional, monthParse],\n  MM: [\"month\", twoDigits, monthParse],\n  YY: [\n    \"year\",\n    twoDigits,\n    (v: string): number => {\n      const now = new Date();\n      const cent = +(\"\" + now.getFullYear()).substr(0, 2);\n      return +(\"\" + (+v > 68 ? cent - 1 : cent) + v);\n    }\n  ],\n  h: [\"hour\", twoDigitsOptional, undefined, \"isPm\"],\n  hh: [\"hour\", twoDigits, undefined, \"isPm\"],\n  H: [\"hour\", twoDigitsOptional],\n  HH: [\"hour\", twoDigits],\n  m: [\"minute\", twoDigitsOptional],\n  mm: [\"minute\", twoDigits],\n  s: [\"second\", twoDigitsOptional],\n  ss: [\"second\", twoDigits],\n  YYYY: [\"year\", fourDigits],\n  S: [\"millisecond\", \"\\\\d\", (v: string): number => +v * 100],\n  SS: [\"millisecond\", twoDigits, (v: string): number => +v * 10],\n  SSS: [\"millisecond\", threeDigits],\n  d: emptyDigits,\n  dd: emptyDigits,\n  ddd: emptyWord,\n  dddd: emptyWord,\n  MMM: [\"month\", word, monthUpdate(\"monthNamesShort\")],\n  MMMM: [\"month\", word, monthUpdate(\"monthNames\")],\n  a: amPm,\n  A: amPm,\n  ZZ: timezoneOffset,\n  Z: timezoneOffset\n};\n\n// Some common format strings\nconst globalMasks: { [key: string]: string } = {\n  default: \"ddd MMM DD YYYY HH:mm:ss\",\n  shortDate: \"M/D/YY\",\n  mediumDate: \"MMM D, YYYY\",\n  longDate: \"MMMM D, YYYY\",\n  fullDate: \"dddd, MMMM D, YYYY\",\n  isoDate: \"YYYY-MM-DD\",\n  isoDateTime: \"YYYY-MM-DDTHH:mm:ssZ\",\n  shortTime: \"HH:mm\",\n  mediumTime: \"HH:mm:ss\",\n  longTime: \"HH:mm:ss.SSS\"\n};\nconst setGlobalDateMasks = (masks: {\n  [key: string]: string;\n}): { [key: string]: string } => assign(globalMasks, masks);\n\n/***\n * Format a date\n * @method format\n * @param {Date|number} dateObj\n * @param {string} mask Format of the date, i.e. 'mm-dd-yy' or 'shortDate'\n * @returns {string} Formatted date string\n */\nconst format = (\n  dateObj: Date,\n  mask: string = globalMasks[\"default\"],\n  i18n: I18nSettingsOptional = {}\n): string => {\n  if (typeof dateObj === \"number\") {\n    dateObj = new Date(dateObj);\n  }\n\n  if (\n    Object.prototype.toString.call(dateObj) !== \"[object Date]\" ||\n    isNaN(dateObj.getTime())\n  ) {\n    throw new Error(\"Invalid Date pass to format\");\n  }\n\n  mask = globalMasks[mask] || mask;\n\n  const literals: string[] = [];\n\n  // Make literals inactive by replacing them with @@@\n  mask = mask.replace(literal, function($0, $1) {\n    literals.push($1);\n    return \"@@@\";\n  });\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n  // Apply formatting rules\n  mask = mask.replace(token, $0 =>\n    formatFlags[$0](dateObj, combinedI18nSettings)\n  );\n  // Inline literal values back into the formatted value\n  return mask.replace(/@@@/g, () => literals.shift());\n};\n\n/**\n * Parse a date string into a Javascript Date object /\n * @method parse\n * @param {string} dateStr Date string\n * @param {string} format Date parse format\n * @param {i18n} I18nSettingsOptional Full or subset of I18N settings\n * @returns {Date|null} Returns Date object. Returns null what date string is invalid or doesn't match format\n */\nfunction parse(\n  dateStr: string,\n  format: string,\n  i18n: I18nSettingsOptional = {}\n): Date | null {\n  if (typeof format !== \"string\") {\n    throw new Error(\"Invalid format in fecha parse\");\n  }\n\n  // Check to see if the format is actually a mask\n  format = globalMasks[format] || format;\n\n  // Avoid regular expression denial of service, fail early for really long strings\n  // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n  if (dateStr.length > 1000) {\n    return null;\n  }\n\n  // Default to the beginning of the year.\n  const today = new Date();\n  const dateInfo: DateInfo = {\n    year: today.getFullYear(),\n    month: 0,\n    day: 1,\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n    isPm: null,\n    timezoneOffset: null\n  };\n  const parseInfo: ParseInfo[] = [];\n  const literals: string[] = [];\n\n  // Replace all the literals with @@@. Hopefully a string that won't exist in the format\n  let newFormat = format.replace(literal, ($0, $1) => {\n    literals.push(regexEscape($1));\n    return \"@@@\";\n  });\n  const specifiedFields: { [field: string]: boolean } = {};\n  const requiredFields: { [field: string]: boolean } = {};\n\n  // Change every token that we find into the correct regex\n  newFormat = regexEscape(newFormat).replace(token, $0 => {\n    const info = parseFlags[$0];\n    const [field, regex, , requiredField] = info;\n\n    // Check if the person has specified the same field twice. This will lead to confusing results.\n    if (specifiedFields[field]) {\n      throw new Error(`Invalid format. ${field} specified twice in format`);\n    }\n\n    specifiedFields[field] = true;\n\n    // Check if there are any required fields. For instance, 12 hour time requires AM/PM specified\n    if (requiredField) {\n      requiredFields[requiredField] = true;\n    }\n\n    parseInfo.push(info);\n    return \"(\" + regex + \")\";\n  });\n\n  // Check all the required fields are present\n  Object.keys(requiredFields).forEach(field => {\n    if (!specifiedFields[field]) {\n      throw new Error(\n        `Invalid format. ${field} is required in specified format`\n      );\n    }\n  });\n\n  // Add back all the literals after\n  newFormat = newFormat.replace(/@@@/g, () => literals.shift());\n\n  // Check if the date string matches the format. If it doesn't return null\n  const matches = dateStr.match(new RegExp(newFormat, \"i\"));\n  if (!matches) {\n    return null;\n  }\n\n  const combinedI18nSettings: I18nSettings = assign(\n    assign({}, globalI18n),\n    i18n\n  );\n\n  // For each match, call the parser function for that date part\n  for (let i = 1; i < matches.length; i++) {\n    const [field, , parser] = parseInfo[i - 1];\n    const value = parser\n      ? parser(matches[i], combinedI18nSettings)\n      : +matches[i];\n\n    // If the parser can't make sense of the value, return null\n    if (value == null) {\n      return null;\n    }\n\n    dateInfo[field] = value;\n  }\n\n  if (dateInfo.isPm === 1 && dateInfo.hour != null && +dateInfo.hour !== 12) {\n    dateInfo.hour = +dateInfo.hour + 12;\n  } else if (dateInfo.isPm === 0 && +dateInfo.hour === 12) {\n    dateInfo.hour = 0;\n  }\n\n  const dateWithoutTZ: Date = new Date(\n    dateInfo.year,\n    dateInfo.month,\n    dateInfo.day,\n    dateInfo.hour,\n    dateInfo.minute,\n    dateInfo.second,\n    dateInfo.millisecond\n  );\n\n  const validateFields: [\n    \"month\" | \"day\" | \"hour\" | \"minute\" | \"second\",\n    \"getMonth\" | \"getDate\" | \"getHours\" | \"getMinutes\" | \"getSeconds\"\n  ][] = [\n    [\"month\", \"getMonth\"],\n    [\"day\", \"getDate\"],\n    [\"hour\", \"getHours\"],\n    [\"minute\", \"getMinutes\"],\n    [\"second\", \"getSeconds\"]\n  ];\n  for (let i = 0, len = validateFields.length; i < len; i++) {\n    // Check to make sure the date field is within the allowed range. Javascript dates allows values\n    // outside the allowed range. If the values don't match the value was invalid\n    if (\n      specifiedFields[validateFields[i][0]] &&\n      dateInfo[validateFields[i][0]] !== dateWithoutTZ[validateFields[i][1]]()\n    ) {\n      return null;\n    }\n  }\n\n  if (dateInfo.timezoneOffset == null) {\n    return dateWithoutTZ;\n  }\n\n  return new Date(\n    Date.UTC(\n      dateInfo.year,\n      dateInfo.month,\n      dateInfo.day,\n      dateInfo.hour,\n      dateInfo.minute - dateInfo.timezoneOffset,\n      dateInfo.second,\n      dateInfo.millisecond\n    )\n  );\n}\nexport default {\n  format,\n  parse,\n  defaultI18n,\n  setGlobalDateI18n,\n  setGlobalDateMasks\n};\nexport { format, parse, defaultI18n, setGlobalDateI18n, setGlobalDateMasks };\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/**\n *  meta  key \n */\nexport const AXIS_META_CONFIG_KEYS = [\n  'type',\n  'alias',\n  'tickCount',\n  'tickInterval',\n  'min',\n  'max',\n  'nice',\n  'minLimit',\n  'maxLimit',\n  // \n  'range',\n  'tickMethod',\n  // type: 'log' \n  'base',\n  // type: 'exp' \n  'exponent',\n  // time \n  'mask',\n  // \n  'sync',\n];\n",null,null,"import { Types } from '@antv/g2';\nimport { isNumber, isArray } from '@antv/util';\n\n/**\n *  padding \n * @param padding\n */\nexport function normalPadding(padding: number | number[] | 'auto'): [number, number, number, number] {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  if (isArray(padding)) {\n    const length = padding.length;\n\n    if (length === 1) {\n      return [padding[0], padding[0], padding[0], padding[0]];\n    }\n    if (length === 2) {\n      return [padding[0], padding[1], padding[0], padding[1]];\n    }\n    if (length === 3) {\n      return [padding[0], padding[1], padding[2], padding[1]];\n    }\n    if (length === 4) {\n      return padding as [number, number, number, number];\n    }\n  }\n\n  return [0, 0, 0, 0];\n}\n\n/**\n *  appendPadding\n */\nexport function getAdjustAppendPadding(padding: Types.ViewAppendPadding, position = 'bottom', append = 25) {\n  const currentAppendPadding = normalPadding(padding);\n\n  const PADDING = [\n    position.startsWith('top') ? append : 0,\n    position.startsWith('right') ? append : 0,\n    position.startsWith('bottom') ? append : 0,\n    position.startsWith('left') ? append : 0,\n  ];\n  return [\n    currentAppendPadding[0] + PADDING[0],\n    currentAppendPadding[1] + PADDING[1],\n    currentAppendPadding[2] + PADDING[2],\n    currentAppendPadding[3] + PADDING[3],\n  ];\n}\n\n/**\n *  padding  appendPadding  padding\n * @param array\n */\nexport function resolveAllPadding(paddings: Types.ViewPadding[]) {\n  //  padding  normal\n  const normalPaddings = paddings.map((item) => normalPadding(item));\n  let finalPadding = [0, 0, 0, 0];\n  if (normalPaddings.length > 0) {\n    finalPadding = finalPadding.map((item, index) => {\n      //  padding \n      normalPaddings.forEach((d, i) => {\n        item += normalPaddings[i][index];\n      });\n      return item;\n    });\n  }\n  return finalPadding;\n}\n","import { Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { getCanvasPattern } from '../utils/pattern';\nimport { Params } from '../core/adaptor';\nimport { Datum, Options, StyleAttr } from '../types';\nimport { deepAssign } from '../utils';\n\n/**\n *  Pattern  options colorField/seriesField/stackField \n */\ntype OptionsRequiredInPattern = Omit<Options, 'data'>;\n\n/**\n * Pattern \n *   view \n *\n * @param key key of style property\n * @returns\n */\nexport function pattern(key: string) {\n  return <O extends OptionsRequiredInPattern = OptionsRequiredInPattern>(params: Params<O>): Params<O> => {\n    const { options, chart } = params;\n    const { pattern: patternOption } = options;\n\n    //  pattern \n    if (!patternOption) {\n      return params;\n    }\n\n    /** ~~~~~~~  ~~~~~~~ */\n\n    const style: StyleAttr = (datum?: Datum, ...args: any[]) => {\n      const { defaultColor } = chart.getTheme();\n      let color = defaultColor;\n\n      const colorAttribute = chart.geometries?.[0]?.getAttribute('color');\n      if (colorAttribute) {\n        const colorField = colorAttribute.getFields()[0];\n        const seriesValue = get(datum, colorField);\n        color = Util.getMappingValue(colorAttribute, seriesValue, colorAttribute.values?.[0] || defaultColor);\n      }\n\n      let pattern: CanvasPattern = patternOption as CanvasPattern;\n\n      // 1.  patternOption `(datum: Datum, color: string) => CanvasPattern`\n      if (typeof patternOption === 'function') {\n        pattern = patternOption.call(this, datum, color);\n      }\n\n      // 2.  pattern  CanvasPattern fill\n      if (pattern instanceof CanvasPattern === false) {\n        //  createPattern(PatternStyle)  CanvasPattern\n        pattern = getCanvasPattern(deepAssign({}, { cfg: { backgroundColor: color } }, pattern));\n      }\n\n      const styleOption = options[key] as StyleAttr;\n\n      return {\n        ...(typeof styleOption === 'function' ? styleOption.call(this, datum, ...args) : styleOption || {}),\n        fill: pattern || color,\n      };\n    };\n\n    return deepAssign({}, params, { options: { [key]: style } });\n  };\n}\n","import { map, reduce } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { isRealNumber } from '../number';\n\n/**\n * \n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data: Data, measure: string, groupField: string, as: string) {\n  // 1.  max \n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      const groupValue = datum[groupField];\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    const groupValue = datum[groupField];\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [as]: percentage,\n    };\n  });\n}\n\n/**\n * \n * @param data\n * @param measure  // \n * @param fields //  field\n * @param as // percent \n */\nexport function getDeepPercent(data: Record<string, any>[], measure: string, fields: string[], percent: string) {\n  const sumMap = reduce(\n    data,\n    (map, datum: Datum) => {\n      // key\n      const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n      let sum = map.has(groupValue) ? map.get(groupValue) : 0;\n\n      const v = datum[measure];\n\n      sum = isRealNumber(v) ? sum + v : sum;\n      map.set(groupValue, sum);\n\n      return map;\n    },\n    new Map<string, number>()\n  );\n\n  // 2. \n  return map(data, (datum: Datum) => {\n    const v = datum[measure];\n    // key\n    const groupValue = reduce(fields, (value, field) => `${value}${datum[field]}`, '');\n\n    const percentage = isRealNumber(v) && sumMap.get(groupValue) !== 0 ? v / sumMap.get(groupValue) : 0;\n\n    return {\n      ...datum,\n      [percent]: percentage,\n    };\n  });\n}\n\n/**\n *  ()\n * @param isPercent \n */\nexport function getDataWhetherPercentage(\n  data: Record<string, any>[],\n  yField: string,\n  groupField: string,\n  asField: string,\n  isPercent?: boolean\n) {\n  return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n","import { map } from '@antv/util';\n\nexport function getTinyData(data: number[]) {\n  return map(data || [], (y: number, x: number) => ({ x: `${x}`, y }));\n}\n","// : data[n][yField] / data[0][yField]\nexport const FUNNEL_PERCENT = '$$percentage$$';\n// \nexport const FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// : data[n][yField] / data[n-1][yField];\nexport const FUNNEL_CONVERSATION = '$$conversion$$';\n// \n// data[n][yField] / sum(data[0-n][yField])\nexport const FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n//  x \nexport const PLOYGON_X = '$$x$$';\nexport const PLOYGON_Y = '$$y$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: [0, 80],\n  minSize: 0,\n  maxSize: 1,\n  meta: {\n    [FUNNEL_MAPPING_VALUE]: {\n      min: 0,\n      max: 1,\n      nice: false,\n    },\n  },\n  label: {\n    style: {\n      fill: '#fff',\n      fontSize: 12,\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    shared: false,\n  },\n  conversionTag: {\n    offsetX: 10,\n    offsetY: 0,\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.45)',\n    },\n  },\n};\n",null,"import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import { Types } from '@antv/g2';\nimport { each, filter, isMatch } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  scrollbar,\n  limitInPlot,\n  state,\n  transformations,\n} from '../../adaptor/common';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { flow, transformLabel, deepAssign, findGeometry, adjustYMetaByZero, pick } from '../../utils';\nimport { getDataWhetherPercentage, getDeepPercent } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { ColumnOptions } from './types';\n\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  //  legend \n  let { legend } = options;\n  const { seriesField, isStack } = options;\n\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'right-top' : 'top-left',\n        ...legend,\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  // @ts-ignore \n  params.options.legend = legend;\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    columnStyle,\n    color,\n    columnWidthRatio,\n    isPercent,\n    isGroup,\n    isStack,\n    xField,\n    yField,\n    seriesField,\n    groupField,\n    tooltip,\n    shape,\n  } = options;\n\n  const percentData =\n    isPercent && isGroup && isStack\n      ? getDeepPercent(data, yField, [xField, groupField], yField)\n      : getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n\n  let chartData = [];\n\n  // ,seriesField \n  if (isStack && seriesField && !isGroup) {\n    percentData.forEach((item) => {\n      const stackedItem = chartData.find((v) => v[xField] === item[xField] && v[seriesField] === item[seriesField]);\n      if (stackedItem) {\n        stackedItem[yField] += item[yField] || 0;\n      } else {\n        chartData.push({ ...item });\n      }\n    });\n  } else {\n    chartData = percentData;\n  }\n\n  chart.data(chartData);\n\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name:\n            isGroup && isStack ? `${datum[seriesField]} - ${datum[groupField]}` : datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n\n  const p = deepAssign({}, params, {\n    options: {\n      data: chartData,\n      widthRatio: columnWidthRatio,\n      tooltip: tooltipOptions,\n      interval: {\n        shape,\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  return p;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data, isPercent } = options;\n\n  const percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: {\n          ...adjustYMetaByZero(data, yField),\n          ...percentYMeta,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { label, yField, isRange } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        //  label layout  layout  position  layout\n        layout: cfg?.position\n          ? undefined\n          : [\n              { type: 'interval-adjust-position' },\n              { type: 'interval-hide-overlap' },\n              { type: 'adjust-color' },\n              { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ],\n        ...transformLabel(\n          isRange\n            ? {\n                content: (item: object) => {\n                  return item[yField]?.join('-');\n                },\n                ...cfg,\n              }\n            : cfg\n        ),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip  ()\n * @param params\n */\nfunction columnTooltip(params: Params<ColumnOptions>): Params<ColumnOptions> {\n  const { chart, options } = params;\n  const { tooltip, isGroup, isStack, groupField, data, xField, yField, seriesField } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    // fix: https://github.com/antvis/G2Plot/issues/2572\n    if (isGroup && isStack) {\n      const tooltipFormatter =\n        tooltipOptions?.formatter ||\n        ((datum: Datum) => ({ name: `${datum[seriesField]} - ${datum[groupField]}`, value: datum[yField] }));\n      tooltipOptions = {\n        ...tooltipOptions,\n        customItems: (originalItems: Types.TooltipItem[]) => {\n          const items: Types.TooltipItem[] = [];\n          each(originalItems, (item: Types.TooltipItem) => {\n            // Find datas in same cluster\n            const datas = filter(data, (d) => isMatch(d, pick(item.data, [xField, seriesField])));\n            datas.forEach((datum) => {\n              items.push({\n                ...item,\n                value: datum[yField],\n                data: datum,\n                mappingData: { _origin: datum },\n                ...tooltipFormatter(datum),\n              });\n            });\n          });\n          return items;\n        },\n      };\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ColumnOptions>, isBar = false) {\n  const { options } = params;\n  const { seriesField } = options;\n  return flow(\n    defaultOptions, // \n    theme, // theme  geometry \n    pattern('columnStyle'),\n    state,\n    transformations('rect'),\n    geometry,\n    meta,\n    axis,\n    legend,\n    columnTooltip,\n    slider,\n    scrollbar,\n    label,\n    brushInteraction,\n    interaction,\n    animation,\n    annotation(),\n    conversionTag<ColumnOptions>(options.yField, !isBar, !!seriesField), // \n    connectedArea<ColumnOptions>(!options.isStack),\n    limitInPlot\n  )(params);\n}\n","import { get } from '@antv/util';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n  showCrosshairs: true,\n  crosshairs: {\n    type: 'x' as const,\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { VennOptions } from './types';\n\n// \nexport const ID_FIELD = 'id';\nexport const PATH_FIELD = 'path';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<VennOptions> = {\n  appendPadding: [10, 0, 20, 0],\n  blendMode: 'multiply',\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['id', 'size'],\n    formatter: (datum) => {\n      return { name: datum.id, value: datum.size };\n    },\n  },\n  legend: { position: 'top-left' },\n  label: {\n    style: {\n      textAlign: 'center',\n      fill: '#fff',\n    },\n  },\n  //  \n  interactions: [{ type: 'legend-filter', enable: false }],\n  state: {\n    active: {\n      style: {\n        stroke: '#000',\n      },\n    },\n    selected: {\n      style: {\n        stroke: '#000',\n        lineWidth: 2,\n      },\n    },\n    inactive: {\n      style: {\n        fillOpacity: 0.3,\n        strokeOpacity: 0.3,\n      },\n    },\n  },\n  // \n  defaultInteractions: ['tooltip', 'venn-legend-active'],\n};\n","import { isArray, isString, filter } from '@antv/util';\n\n/** export  */\n/**  */\nexport const NODE_INDEX_FIELD = 'nodeIndex';\n/** child  */\nexport const CHILD_NODE_COUNT = 'childNodeCount';\n/**  */\nexport const NODE_ANCESTORS_FIELD = 'nodeAncestor';\n\nconst INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\n\ninterface Options {\n  field?: string | string[];\n  fields?: string | string[];\n}\n\nexport function getField(options: Options, defaultField?: string): string {\n  const { field, fields } = options;\n  if (isString(field)) {\n    return field;\n  }\n  if (isArray(field)) {\n    console.warn(INVALID_FIELD_ERR_MSG);\n    return field[0];\n  }\n  console.warn(`${INVALID_FIELD_ERR_MSG} will try to get fields instead.`);\n  if (isString(fields)) {\n    return fields;\n  }\n  if (isArray(fields) && fields.length) {\n    return fields[0];\n  }\n  if (defaultField) {\n    return defaultField;\n  }\n  throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\n\nexport function getAllNodes(root: any) {\n  const nodes: any[] = [];\n  if (root && root.each) {\n    let parent;\n    let index;\n    // d3-hierarchy: Invokes the specified function for node and each descendant in **breadth-first order**\n    root.each((node: any) => {\n      if (node.parent !== parent) {\n        parent = node.parent;\n        index = 0;\n      } else {\n        index += 1;\n      }\n      const ancestors = filter(\n        (node.ancestors?.() || []).map((d: any) => nodes.find((n) => n.name === d.name) || d),\n        ({ depth }) => depth > 0 && depth < node.depth\n      );\n\n      node[NODE_ANCESTORS_FIELD] = ancestors;\n      node[CHILD_NODE_COUNT] = node.children?.length || 0;\n      node[NODE_INDEX_FIELD] = index;\n\n      nodes.push(node);\n    });\n  } else if (root && root.eachNode) {\n    // @antv/hierarchy\n    root.eachNode((node: any) => {\n      nodes.push(node);\n    });\n  }\n  return nodes;\n}\n","import { get } from '@antv/util';\nimport { Locale } from '../types/locale';\nimport { template } from '../utils';\nimport { GLOBAL } from './global';\n\nconst LocaleMap = {};\n\n/**\n * register a locale\n * @param locale\n * @param localeObj\n */\nexport function registerLocale(locale: string, localeObj: Locale) {\n  LocaleMap[locale] = localeObj;\n}\n\n/**\n * get locale of specific language\n * @param lang\n * @returns\n */\nexport function getLocale(locale: string) {\n  return {\n    get: (key: string | string[], obj?: Record<string, any>) => {\n      return template(\n        get(LocaleMap[locale], key) || get(LocaleMap[GLOBAL.locale], key) || get(LocaleMap['en-US'], key) || key,\n        obj\n      );\n    },\n  };\n}\n","import { get, isNumber, filter } from '@antv/util';\nimport { Data, Datum, Meta, Options } from '../types';\nimport { Node, NodeLinkData } from '../types/relation-data';\nimport { LEVEL, log } from './invariant';\nimport { pick } from './pick';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data: Data, field: string): Meta {\n  if (!data) return {};\n  // \n  const numberData = data.filter((datum: Datum) => {\n    const v = get(datum, [field]);\n    return isNumber(v) && !isNaN(v);\n  });\n\n  const gtZero = numberData.every((datum: Datum) => get(datum, [field]) >= 0);\n  const ltZero = numberData.every((datum: Datum) => get(datum, [field]) <= 0);\n\n  //  { min: 0, max: undefined }  update({ max: 0 })  { min: 0, max: 0 }\n  if (gtZero) {\n    return { min: 0 };\n  }\n  if (ltZero) {\n    return { max: 0 };\n  }\n  return {};\n}\n\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n * @param rawFields \n */\nexport function transformDataToNodeLinkData(\n  data: Data,\n  sourceField: string,\n  targetField: string,\n  weightField: string,\n  rawFields: string[] = []\n): NodeLinkData {\n  if (!Array.isArray(data)) {\n    return {\n      nodes: [],\n      links: [],\n    };\n  }\n\n  //   const nodes = [];\n  const links = [];\n  // \n  const nodesMap: Record<string, Node> = {};\n  let nodesIndex = -1;\n  //  chord layout \n  data.forEach((datum: Datum) => {\n    const source = datum[sourceField];\n    const target = datum[targetField];\n    const weight = datum[weightField];\n\n    const rawData = pick(datum, rawFields);\n\n    // source node\n    if (!nodesMap[source]) {\n      nodesMap[source] = {\n        id: ++nodesIndex,\n        name: source,\n        ...rawData,\n      };\n    }\n    if (!nodesMap[target]) {\n      nodesMap[target] = {\n        id: ++nodesIndex,\n        name: target,\n        ...rawData,\n      };\n    }\n    // links\n    links.push({\n      source: nodesMap[source].id,\n      target: nodesMap[target].id,\n      // sourceName: source,\n      // targetName: target,\n      value: weight,\n      ...rawData,\n    });\n  });\n  return {\n    //  id \n    nodes: Object.values(nodesMap).sort((a, b) => a.id - b.id),\n    links,\n  };\n}\n\n/**\n * (   NaN null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data: Options['data'], field: string) {\n  const processData = filter(data, (d) => {\n    const v = d[field];\n    return v === null || (typeof v === 'number' && !isNaN(v));\n  });\n\n  // \n  log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n\n  return processData;\n}\n","import { theme, scale, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { TinyAreaOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { chart, options } = params;\n  const { data, color, areaStyle, point: pointOptions, line: lineOptions } = options;\n  const pointState = pointOptions?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      area: { color, style: areaStyle },\n      line: lineOptions,\n      point: pointOptions,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false } });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(second);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<TinyAreaOptions>): Params<TinyAreaOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, data } = options;\n  const seriesData = getTinyData(data);\n\n  return flow(\n    scale(\n      {\n        [X_FIELD]: xAxis,\n        [Y_FIELD]: yAxis,\n      },\n      {\n        [X_FIELD]: {\n          type: 'cat',\n        },\n        [Y_FIELD]: adjustYMetaByZero(seriesData, Y_FIELD),\n      }\n    )\n  )(params);\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyAreaOptions>) {\n  return flow(pattern('areaStyle'), geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get, last, isNil, size } from '@antv/util';\nimport { Data } from '../../types';\nimport { DrillDownCfg } from '../../types/drill-down';\nimport { deepAssign } from '../../utils/deep-assign';\n\n// '/'\nconst PADDING = 4;\n// \nconst PADDING_LEFT = 0;\n// \nexport const PADDING_TOP = 5;\n\n/** Group name of breadCrumb:  */\nexport const BREAD_CRUMB_NAME = 'drilldown-bread-crumb';\n\n// \nexport const DEFAULT_BREAD_CRUMB_CONFIG: DrillDownCfg['breadCrumb'] = {\n  /**  */\n  position: 'top-left',\n  dividerText: '/',\n  textStyle: {\n    fontSize: 12,\n    fill: 'rgba(0, 0, 0, 0.65)',\n    cursor: 'pointer',\n  },\n  activeTextStyle: {\n    fill: '#87B5FF',\n  },\n};\n\n/**\n * hierarchy \n */\nexport const HIERARCHY_DATA_TRANSFORM_PARAMS = 'hierarchy-data-transform-params';\n\n/**\n * Hierarchy plot \n */\nexport type HierarchyNode<N = any /**  */> = {\n  /** todo  key  origin */\n  data: { name: string; value?: any; children: { name: string; value?: any }[] };\n  /** ,  transformData  */\n  [HIERARCHY_DATA_TRANSFORM_PARAMS]: object;\n  /** .  unique */\n  depth: number;\n  /** depth + height =  */\n  height: number;\n  parent: N;\n  children: N[];\n};\n\ntype HistoryCache = {\n  name: string;\n  id: string;\n  children: Data;\n}[];\n\n/**\n * @description  action\n * @author liuzhenying\n *\n * hierarchy plot\n */\nexport class DrillDownAction extends Action {\n  /** Action name */\n  public name = 'drill-down';\n\n  // \n  protected historyCache: HistoryCache = [];\n  //  group\n  private breadCrumbGroup: IGroup = null;\n  // \n  private breadCrumbCfg: DrillDownCfg['breadCrumb'] = DEFAULT_BREAD_CRUMB_CONFIG;\n\n  /**\n   * , \n   */\n  public click() {\n    const data = get(this.context, ['event', 'data', 'data']);\n    if (!data) return false;\n\n    this.drill(data);\n    this.drawBreadCrumb();\n  }\n\n  /**\n   *  chart  afterchangesize \n   */\n  public resetPosition() {\n    //  changedata  resetPosition  this.breadCrumbGroup \n    if (!this.breadCrumbGroup) return;\n    const coordinate = this.context.view.getCoordinate();\n    const breadCrumbGroup = this.breadCrumbGroup;\n    const bbox = breadCrumbGroup.getBBox();\n\n    const { position } = this.getButtonCfg();\n\n    // @todo  margin  padding \n    //  polar  coordinate\n    let point = { x: coordinate.start.x, y: coordinate.end.y - (bbox.height + PADDING_TOP * 2) };\n    if (coordinate.isPolar) {\n      // \n      point = { x: 0, y: 0 };\n    }\n    if (position === 'bottom-left') {\n      // \n      point = { x: coordinate.start.x, y: coordinate.start.y };\n    }\n    /** PADDING_LEFT, PADDING_TOP  */\n    const matrix = Util.transform(null, [['t', point.x + PADDING_LEFT, point.y + bbox.height + PADDING_TOP]]);\n    breadCrumbGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public back(): void {\n    if (size(this.historyCache)) {\n      this.backTo(this.historyCache.slice(0, -1));\n    }\n  }\n\n  /**\n   * \n   */\n  public reset(): void {\n    if (this.historyCache[0]) {\n      this.backTo(this.historyCache.slice(0, 1));\n    }\n    // \n    this.historyCache = [];\n    this.hideCrumbGroup();\n  }\n\n  /**\n   *  view \n   * @param nodeInfo \n   */\n  protected drill(nodeInfo: HierarchyNode) {\n    const { view } = this.context;\n    const transformData = get(view, ['interactions', 'drill-down', 'cfg', 'transformData'], (v) => v);\n\n    //  update \n    const drillData = transformData({ data: nodeInfo.data, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] });\n    view.changeData(drillData);\n\n    // \n    const historyCache: HistoryCache = [];\n\n    let node = nodeInfo;\n    while (node) {\n      const nodeData = node.data;\n      historyCache.unshift({\n        id: `${nodeData.name}_${node.height}_${node.depth}`,\n        name: nodeData.name,\n        // children \n        children: transformData({ data: nodeData, ...nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] }),\n      });\n      node = node.parent;\n    }\n\n    this.historyCache = (this.historyCache || []).slice(0, -1).concat(historyCache);\n  }\n\n  /**\n   * \n   * @param historyCache \n   */\n  protected backTo(historyCache: HistoryCache) {\n    if (!historyCache || historyCache.length <= 0) {\n      return;\n    }\n\n    const { view } = this.context;\n    const data = last(historyCache).children; // \n    view.changeData(data);\n\n    if (historyCache.length > 1) {\n      this.historyCache = historyCache;\n      this.drawBreadCrumb();\n    } else {\n      // \n      this.historyCache = [];\n      this.hideCrumbGroup();\n    }\n  }\n\n  /**\n   *  mix \n   */\n  private getButtonCfg() {\n    const { view } = this.context;\n    const drillDownConfig: DrillDownCfg = get(view, ['interactions', 'drill-down', 'cfg', 'drillDownConfig']);\n\n    return deepAssign(this.breadCrumbCfg, drillDownConfig?.breadCrumb, this.cfg);\n  }\n\n  /**\n   * \n   */\n  private drawBreadCrumb() {\n    this.drawBreadCrumbGroup();\n    this.resetPosition();\n    this.breadCrumbGroup.show();\n  }\n\n  /**\n   *  Button  \n   */\n  private drawBreadCrumbGroup() {\n    const config = this.getButtonCfg();\n    const cache = this.historyCache;\n\n    //  group\n    if (!this.breadCrumbGroup) {\n      this.breadCrumbGroup = this.context.view.foregroundGroup.addGroup({\n        name: BREAD_CRUMB_NAME,\n      });\n    } else {\n      this.breadCrumbGroup.clear();\n    }\n\n    // \n    let left = 0;\n    cache.forEach((record, index) => {\n      // \n      const textShape = this.breadCrumbGroup.addShape({\n        type: 'text',\n        id: record.id,\n        name: `${BREAD_CRUMB_NAME}_${record.name}_text`,\n        attrs: {\n          text: index === 0 && !isNil(config.rootText) ? config.rootText : record.name,\n          ...config.textStyle,\n          x: left,\n          y: 0,\n        },\n      });\n\n      const textShapeBox = textShape.getBBox();\n      left += textShapeBox.width + PADDING;\n\n      // \n      textShape.on('click', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          const newHistoryCache = cache.slice(0, cache.findIndex((d) => d.id === targetId) + 1);\n          this.backTo(newHistoryCache);\n        }\n      });\n      // active \n      textShape.on('mouseenter', (event) => {\n        const targetId = event.target.get('id');\n        if (targetId !== last(cache)?.id) {\n          textShape.attr(config.activeTextStyle);\n        } else {\n          textShape.attr({ cursor: 'default' });\n        }\n      });\n      textShape.on('mouseleave', () => {\n        textShape.attr(config.textStyle);\n      });\n\n      if (index < cache.length - 1) {\n        // \n        const dividerShape = this.breadCrumbGroup.addShape({\n          type: 'text',\n          name: `${config.name}_${record.name}_divider`,\n          attrs: {\n            text: config.dividerText,\n            ...config.textStyle,\n            x: left,\n            y: 0,\n          },\n        });\n\n        const dividerBox = dividerShape.getBBox();\n        left += dividerBox.width + PADDING;\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  private hideCrumbGroup() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.hide();\n    }\n  }\n\n  /**\n   * @override\n   * destroy: \n   */\n  public destroy() {\n    if (this.breadCrumbGroup) {\n      this.breadCrumbGroup.remove();\n    }\n    super.destroy();\n  }\n}\n","export const RANGE_VALUE = 'range';\nexport const RANGE_TYPE = 'type';\nexport const PERCENT = 'percent';\n\nexport const DEFAULT_COLOR = '#f0f0f0';\n\n/**    */\nexport const INDICATEOR_VIEW_ID = 'indicator-view';\nexport const RANGE_VIEW_ID = 'range-view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0, // \n  range: {\n    ticks: [],\n  }, // \n  innerRadius: 0.9,\n  radius: 0.95,\n  startAngle: (-7 / 6) * Math.PI,\n  endAngle: (1 / 6) * Math.PI,\n  syncViewPadding: true,\n  axis: {\n    line: null,\n    label: {\n      offset: -24,\n      style: {\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n    subTickLine: {\n      length: -8,\n    },\n    tickLine: {\n      length: -12,\n    },\n    grid: null,\n  },\n  indicator: {\n    pointer: {\n      style: {\n        lineWidth: 5,\n        lineCap: 'round' as const,\n      },\n    },\n    pin: {\n      style: {\n        r: 9.75,\n        lineWidth: 4.5,\n        fill: '#fff',\n      },\n    },\n  },\n  statistic: {\n    title: false as const,\n  },\n  meta: {\n    //  view  scale  v \n    [RANGE_VALUE]: {\n      sync: 'v',\n    },\n    [PERCENT]: {\n      sync: 'v',\n      tickCount: 5,\n      tickInterval: 0.2,\n    },\n  },\n  animation: false as const,\n};\n","import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();",null,"var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","/**\n * \n * @param v\n */\nexport function isRealNumber(v: any) {\n  return typeof v === 'number' && !isNaN(v);\n}\n\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value: number, start: number, end: number): boolean {\n  const min = Math.min(start, end);\n  const max = Math.max(start, end);\n\n  return value >= min && value <= max;\n}\n","import { Geometry } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  scale,\n  annotation,\n  limitInPlot,\n  scrollbar,\n} from '../../adaptor/common';\nimport { findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { point, line, area } from '../../adaptor/geometries';\nimport { flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\nimport { LineOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, lineShape, point: pointMapping, area: areaMapping, seriesField } = options;\n  const pointState = pointMapping?.state;\n  const areaState = areaMapping?.state;\n\n  chart.data(data);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      shapeField: seriesField,\n      line: {\n        color,\n        style: lineStyle,\n        shape: lineShape,\n      },\n      //  tooltip \n      // \n      point: pointMapping && {\n        color,\n        shape: 'circle',\n        ...pointMapping,\n      },\n      // \n      area: areaMapping && {\n        color,\n        ...areaMapping,\n      },\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  const second = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n  const areaParams = deepAssign({}, primary, { options: { tooltip: false, state: areaState } });\n\n  line(primary);\n  point(second);\n  area(areaParams);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<LineOptions>): Params<LineOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, data } = options;\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n      },\n      {\n        [xField]: {\n          type: 'cat',\n        },\n        [yField]: adjustYMetaByZero(data, yField),\n      }\n    )\n  )(params);\n}\n\n/**\n * .  reflect \n * @param params\n */\nfunction coordinate(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { reflect } = options;\n  if (reflect) {\n    let p = reflect as any;\n    if (!isArray(p)) {\n      p = [p];\n    }\n    const actions = p.map((d) => ['reflect', d]);\n\n    chart.coordinate({ type: 'rect', actions });\n  }\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend && seriesField) {\n    chart.legend(seriesField, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<LineOptions>): Params<LineOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const lineGeometry = findGeometry(chart, 'line');\n\n  // label  false,   label\n  if (!label) {\n    lineGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    lineGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nexport function adjust(params: Params<Pick<LineOptions, 'isStack'>>): Params<any> {\n  const { chart, options } = params;\n  const { isStack } = options;\n\n  if (isStack) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LineOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    adjust,\n    theme,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    scrollbar,\n    interaction,\n    animation,\n    annotation(),\n    limitInPlot\n  )(params);\n}\n","import { PatternCfg } from '../../types/pattern';\n\n/**\n * \n */\nexport function getPixelRatio(): number {\n  return typeof window === 'object' ? window?.devicePixelRatio : 2;\n}\n\n/**\n *  cavnas\n */\nexport function initCanvas(width: number, height: number = width): HTMLCanvasElement {\n  const canvas = document.createElement('canvas');\n\n  const pixelRatio = getPixelRatio();\n  // \n  canvas.width = width * pixelRatio;\n  canvas.height = height * pixelRatio;\n  // \n  canvas.style.width = `${width}px`;\n  canvas.style.height = `${height}px`;\n\n  const ctx = canvas.getContext('2d');\n  ctx.scale(pixelRatio, pixelRatio);\n\n  return canvas;\n}\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param width\n * @param height\n */\nexport function drawBackground(\n  context: CanvasRenderingContext2D,\n  cfg: PatternCfg,\n  width: number,\n  height: number = width\n) {\n  const { backgroundColor, opacity } = cfg;\n\n  context.globalAlpha = opacity;\n  context.fillStyle = backgroundColor;\n\n  context.beginPath();\n  context.fillRect(0, 0, width, height);\n  context.closePath();\n}\n\n/**\n * \n *\n * @param size \n * @param padding \n * @param isStagger \n * @reutrn \n */\nexport function getUnitPatternSize(size: number, padding: number, isStagger: boolean): number {\n  // , unitSize \n  const unitSize = size + padding;\n  return isStagger ? unitSize * 2 : unitSize;\n}\n\n/**\n * \n *\n * @param unitSize \n * @param isStagger \n * @reutrn  x,y \n */\nexport function getSymbolsPosition(unitSize: number, isStagger: boolean): number[][] {\n  // ,  dot\n  const symbolsPos = isStagger\n    ? [\n        [unitSize * (1 / 4), unitSize * (1 / 4)],\n        [unitSize * (3 / 4), unitSize * (3 / 4)],\n      ]\n    : [[unitSize * (1 / 2), unitSize * (1 / 2)]];\n  return symbolsPos;\n}\n\n/**\n *  pattern , \n *\n * @param pattern \n * @param dpr  \n * @param rotation \n */\nexport function transformMatrix(dpr: number, rotation: number) {\n  const radian = (rotation * Math.PI) / 180;\n  const matrix = {\n    a: Math.cos(radian) * (1 / dpr),\n    b: Math.sin(radian) * (1 / dpr),\n    c: -Math.sin(radian) * (1 / dpr),\n    d: Math.cos(radian) * (1 / dpr),\n    e: 0,\n    f: 0,\n  };\n  return matrix;\n}\n","import { Options, ShapeAttr, SizeAttr, StyleAttr } from '../../types';\nimport { LineOptions } from '../line/types';\nimport { ColumnOptions } from '../column/types';\n\nexport enum AxisType {\n  Left = 'Left',\n  Right = 'Right',\n}\n\nexport enum DualAxesGeometry {\n  Line = 'line',\n  Column = 'column',\n}\n\nexport interface PointConfig {\n  readonly shape?: ShapeAttr;\n  readonly size?: SizeAttr;\n  readonly style?: StyleAttr;\n}\n\ntype CommonGeometryOption = {\n  /**\n   * @title \n   */\n  readonly geometry?: string;\n  /**\n   * @title \n   */\n  readonly label?: Options['label'];\n  /**\n   * @title legend\n   */\n  readonly legend?: Options['legend'];\n  /**\n   * @title \n   */\n  readonly color?: Options['color'];\n  /**\n   * @title \n   * @default false\n   */\n  readonly isGroup?: boolean;\n  /**\n   * @title \n   * @description  seriesField\n   */\n  readonly groupField?: string;\n};\n\n// ,  LineOption \nexport type GeometryLineOption = Pick<\n  LineOptions,\n  'seriesField' | 'smooth' | 'connectNulls' | 'lineStyle' | 'point' | 'isStack' | 'stepType'\n> &\n  CommonGeometryOption;\n\n// \nexport type GeometryColumnOption = Pick<\n  ColumnOptions,\n  | 'seriesField'\n  | 'isGroup'\n  | 'isStack'\n  | 'isRange'\n  | 'isPercent'\n  | 'columnWidthRatio'\n  | 'marginRatio'\n  | 'columnStyle'\n  | 'pattern'\n> &\n  CommonGeometryOption;\n\nexport type GeometryOption = GeometryColumnOption | GeometryLineOption;\n\nexport type DualAxesOptions = Omit<Options, 'data' | 'yAxis' | 'color' | 'annotations'> & {\n  /**\n   * @title \n   * @description \n   */\n  readonly data: Array<Record<string, any>[]>;\n  /**\n   * @title  x \n   * @description x \n   */\n  readonly xField: string;\n  /**\n   * @title  y \n   * @description \n   */\n  readonly yField: string[];\n  /**\n   * @title  yAxis \n   * @description  object key  y \n   */\n  readonly yAxis?: Options['yAxis'][] | Record<string, Options['yAxis']>;\n  /**\n   * @title \n   */\n  readonly geometryOptions?: GeometryOption[];\n  /**\n   * @title  annotation \n   * @description object  field \n   */\n  readonly annotations?: Options['annotations'][] | Record<string, Options['annotations']>;\n};\n","import { get, isArray } from '@antv/util';\nimport { Axis } from '../../../types/axis';\nimport { deepAssign } from '../../../utils';\nimport {\n  DualAxesOptions,\n  GeometryOption,\n  DualAxesGeometry,\n  GeometryLineOption,\n  GeometryColumnOption,\n  AxisType,\n} from '../types';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\n\n/**\n *  GeometryOption  geometry  line\n */\nexport function isLine(geometryOption: GeometryOption): geometryOption is GeometryLineOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n\n/**\n *  GeometryOption  geometry  Column\n */\nexport function isColumn(geometryOption: GeometryOption): geometryOption is GeometryColumnOption {\n  return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n\n/**\n *  GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField: string, yField: string, geometryOption: GeometryOption): GeometryOption {\n  // \n  return isColumn(geometryOption)\n    ? deepAssign(\n        {},\n        {\n          geometry: DualAxesGeometry.Column,\n          label:\n            geometryOption.label && geometryOption.isRange\n              ? {\n                  content: (item: object) => {\n                    return item[yField]?.join('-');\n                  },\n                }\n              : undefined,\n        },\n        geometryOption\n      )\n    : {\n        geometry: DualAxesGeometry.Line,\n        ...geometryOption,\n      };\n}\n\n/**\n *   arr  obj   yAxisannotations\n *  yField  object \n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(\n  yField: DualAxesOptions['yField'],\n  transformAttribute: Record<string, any> | any[]\n): any[] {\n  const [y1, y2] = yField;\n\n  if (isArray(transformAttribute)) {\n    // \n    const [a1, a2] = transformAttribute;\n    return [a1, a2];\n  }\n  const a1 = get(transformAttribute, y1);\n  const a2 = get(transformAttribute, y2);\n  return [a1, a2];\n}\n\n/**\n * \n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis: Axis, axisType: AxisType): Axis {\n  if (axisType === AxisType.Left) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n  } else if (axisType === AxisType.Right) {\n    return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n  }\n  return yAxis;\n}\n","import { isString } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { ProgressOptions } from './types';\nimport { DEFAULT_COLOR } from './constants';\nimport { getProgressData } from './utils';\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart, options } = params;\n  const { percent, progressStyle, color, barWidthRatio } = options;\n\n  chart.data(getProgressData(percent));\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: '1',\n      yField: 'percent',\n      seriesField: 'type',\n      isStack: true,\n      widthRatio: barWidthRatio,\n      interval: {\n        style: progressStyle,\n        color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  chart.tooltip(false);\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction coordinate(params: Params<ProgressOptions>): Params<ProgressOptions> {\n  const { chart } = params;\n\n  chart.coordinate('rect').transpose();\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ProgressOptions>) {\n  // @ts-ignore\n  return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n","import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n\n/**\n * \n */\nexport function getProgressData(percent: number) {\n  const clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n  return [\n    {\n      type: 'current',\n      percent: clampPercent,\n    },\n    {\n      type: 'target',\n      percent: 1 - clampPercent,\n    },\n  ];\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const BOX_RANGE = '$$range$$';\nexport const BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\n\nexport const BOX_SYNC_NAME = '$$y_outliers$$';\n\nexport const OUTLIERS_VIEW_ID = 'outliers_view';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  meta: {\n    [BOX_RANGE]: { min: 0, alias: BOX_RANGE_ALIAS },\n  },\n\n  // \n  interactions: [{ type: 'active-region' }],\n\n  //  tooltips  markers\n  tooltip: {\n    showMarkers: false,\n    shared: true,\n  },\n  boxStyle: {\n    lineWidth: 1,\n  },\n});\n","import { View } from '@antv/g2';\n\n/** tofront:   */\nexport function placeElementsOrdered(view: View) {\n  if (!view) {\n    return;\n  }\n  const elements = view.geometries[0].elements;\n  elements.forEach((elem) => {\n    elem.shape.toFront();\n  });\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\nexport const Y_FIELD = '$$stock-range$$';\n\nexport const TREND_FIELD = 'trend';\nexport const TREND_UP = 'up';\nexport const TREND_DOWN = 'down';\n\n/** tooltip  */\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showMarkers: false,\n  showCrosshairs: true,\n  shared: true,\n  crosshairs: {\n    type: 'xy',\n    follow: true,\n    text: (type, defaultContent, items) => {\n      let textContent;\n      if (type === 'x') {\n        const item = items[0];\n        textContent = item ? item.title : defaultContent;\n      } else {\n        textContent = defaultContent;\n      }\n      return {\n        position: type === 'y' ? 'start' : 'end',\n        content: textContent,\n        style: {\n          fill: '#dfdfdf',\n        },\n      };\n    },\n    //  crosshairs textBackground \n    textBackground: {\n      padding: [2, 4],\n      style: {\n        fill: '#666',\n      },\n    },\n  },\n};\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  tooltips\n  tooltip: DEFAULT_TOOLTIP_OPTIONS,\n  interactions: [{ type: 'tooltip' }],\n  legend: {\n    position: 'top-left',\n  },\n  risingFill: '#ef5350',\n  fallingFill: '#26a69a',\n});\n","import { Types } from '@antv/g2';\nimport { isFunction, map, isNumber, maxBy, get } from '@antv/util';\nimport { Datum, Data } from '../../../types/common';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\n\n/**\n *  transform\n * @param geometry\n */\nexport function transformData(\n  data: FunnelOptions['data'],\n  originData: FunnelOptions['data'],\n  options: Pick<FunnelOptions, 'yField' | 'maxSize' | 'minSize'>\n): FunnelOptions['data'] {\n  let formatData = [];\n  const { yField, maxSize, minSize } = options;\n  const maxYFieldValue = get(maxBy(originData, yField), [yField]);\n  const max = isNumber(maxSize) ? maxSize : 1;\n  const min = isNumber(minSize) ? minSize : 0;\n\n  // format \n  formatData = map(data, (row, index) => {\n    const percent = (row[yField] || 0) / maxYFieldValue;\n    row[FUNNEL_PERCENT] = percent;\n    row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n    // \n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  return formatData;\n}\n\n/**\n * \n * @param getLineCoordinate  line \n */\nexport function conversionTagComponent(\n  getLineCoordinate: (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ) => Types.LineOption\n) {\n  return function (params: Params<FunnelOptions>): Params<FunnelOptions> {\n    const { chart, options } = params;\n    const { conversionTag } = options;\n\n    const { data } = chart.getOptions();\n\n    if (conversionTag) {\n      const { formatter } = conversionTag;\n      data.forEach((obj, index) => {\n        if (index <= 0 || Number.isNaN(obj[FUNNEL_MAPPING_VALUE])) return;\n        const lineOption = getLineCoordinate(obj, index, data, {\n          top: true,\n          text: {\n            content: isFunction(formatter) ? formatter(obj, data) : formatter,\n            offsetX: conversionTag.offsetX,\n            offsetY: conversionTag.offsetY,\n            position: 'end',\n            autoRotate: false,\n            style: {\n              textAlign: 'start',\n              textBaseline: 'middle',\n              ...conversionTag.style,\n            },\n          },\n        });\n\n        chart.annotation().line(lineOption);\n      });\n    }\n    return params;\n  };\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { CHILD_NODE_COUNT, NODE_ANCESTORS_FIELD, NODE_INDEX_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\n\n/**\n *  root \n */\nexport const SUNBURST_ANCESTOR_FIELD = 'ancestor-node';\nexport const SUNBURST_Y_FIELD = 'value';\nexport const SUNBURST_PATH_FIELD = 'path';\n\n/**  */\nexport const RAW_FIELDS = [\n  SUNBURST_PATH_FIELD,\n  NODE_INDEX_FIELD,\n  NODE_ANCESTORS_FIELD,\n  CHILD_NODE_COUNT,\n  'name',\n  'depth',\n  'height',\n];\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS: Partial<SunburstOptions> = deepAssign({}, Plot.getDefaultOptions(), {\n  innerRadius: 0,\n  radius: 0.85,\n\n  // \n  hierarchyConfig: {\n    //  value\n    field: 'value',\n  },\n\n  // \n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n    showTitle: false,\n  },\n  legend: false,\n\n  // \n  sunburstStyle: {\n    lineWidth: 0.5,\n    stroke: '#FFF',\n  },\n\n  // \n  drilldown: { enabled: true },\n});\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { DrillDownAction } from './actions/drill-down';\n\n/**\n * \n */\nexport function isParentNode(context) {\n  const data = get(context, ['event', 'data', 'data'], {});\n  return isArray(data.children) && data.children.length > 0;\n}\n\n/**\n * \n */\nfunction inCenter(context) {\n  const coordinate = context.view.getCoordinate();\n  const { innerRadius } = coordinate;\n  if (innerRadius) {\n    const { x, y } = context.event;\n    const { x: centerX, y: centerY } = coordinate.center;\n    const r = coordinate.getRadius() * innerRadius;\n    const distance = Math.sqrt((centerX - x) ** 2 + (centerY - y) ** 2);\n    return distance < r;\n  }\n  return false;\n}\n\nregisterAction('drill-down-action', DrillDownAction);\nregisterInteraction('drill-down', {\n  showEnable: [\n    { trigger: 'element:mouseenter', action: 'cursor:pointer', isEnable: isParentNode },\n    { trigger: 'element:mouseleave', action: 'cursor:default' },\n    //  element:mouseleave \n    { trigger: 'element:mouseleave', action: 'cursor:pointer', isEnable: inCenter },\n  ],\n  start: [\n    {\n      trigger: 'element:click',\n      isEnable: isParentNode,\n      action: ['drill-down-action:click'],\n    },\n    {\n      trigger: 'afterchangesize',\n      action: ['drill-down-action:resetPosition'],\n    },\n    {\n      // \n      trigger: 'click',\n      isEnable: inCenter,\n      action: ['drill-down-action:back'],\n    },\n  ],\n});\n","export const Y_FIELD = '$$yField$$';\nexport const DIFF_FIELD = '$$diffField$$';\nexport const ABSOLUTE_FIELD = '$$absoluteField$$';\nexport const IS_TOTAL = '$$isTotal$$';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  /** default: show label */\n  label: {},\n  /** default: show leaderLine */\n  leaderLine: {\n    style: {\n      lineWidth: 1,\n      stroke: '#8c8c8c',\n      lineDash: [4, 2],\n    },\n  },\n  /** default: show total */\n  total: {\n    style: {\n      fill: 'rgba(0, 0, 0, 0.25)',\n    },\n  },\n  interactions: [{ type: 'element-active' }],\n  risingFill: '#f4664a',\n  fallingFill: '#30bf78',\n  waterfallStyle: {\n    fill: 'rgba(0, 0, 0, 0.25)',\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineDash: [4, 2],\n        },\n      },\n    },\n  },\n};\n","export const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const COLOR_FIELD = 'name';\nexport const NODES_VIEW_ID = 'nodes';\nexport const EDGES_VIEW_ID = 'edges';\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { MixOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { MixOptions };\n\n/**\n *  G2 80% \n * 1. \n *   -  + \n *   - \n *   - ...\n * 2. \n *   - \n *   - \n *   - ...\n */\nexport class Mix extends Plot<MixOptions> {\n  /**  */\n  public type: string = 'mix';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<MixOptions> {\n    return adaptor;\n  }\n}\n","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","module.exports = require(\"regenerator-runtime\");\n","/**\n *  lodash.pick \n * @param obj\n * @param keys\n */\nexport function pick(obj: any, keys: string[]): object {\n  const r = {};\n\n  if (obj !== null && typeof obj === 'object') {\n    keys.forEach((key: string) => {\n      const v = obj[key];\n      if (v !== undefined) {\n        r[key] = v;\n      }\n    });\n  }\n  return r;\n}\n","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\n\nexport enum LEVEL {\n  ERROR = 'error',\n  WARN = 'warn',\n  INFO = 'log',\n}\n\nconst BRAND = 'AntV/G2Plot';\n\n/**\n * \n * @param format\n * @param args\n */\nfunction getMessage(format: string, ...args: any[]): string {\n  let argIndex = 0;\n  return `${BRAND}: ${format.replace(/%s/g, (): string => `${args[argIndex++]}`)}`;\n}\n\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition: boolean, format: string, ...args: any[]): void {\n  if (!condition) {\n    const error = new Error(getMessage(format, ...args));\n    error.name = BRAND;\n    // error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\n/**\n * \n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level: LEVEL, condition: boolean, format, ...args: any[]): void {\n  if (!condition) {\n    console[level](getMessage(format, ...args));\n  }\n}\n","import { View } from '@antv/g2';\n\n/**\n *  Chart  id  View\n * @param chart\n * @param id\n */\nexport function findViewById(chart: View, id: string): View {\n  return chart.views.find((view: View) => view.id === id);\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getViews(view: View): View[] {\n  const parent = view.parent;\n  return parent ? parent.views : [];\n}\n\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSiblingViews(view: View): View[] {\n  return getViews(view).filter((sub) => sub !== view);\n}\n","const MAX_MIX_LEVEL = 5; // \n\nconst toString = {}.toString;\n\n// \nconst isType = (value: any, type: string): boolean => toString.call(value) === '[object ' + type + ']';\n\nconst isArray = (value: any): value is Array<any> => {\n  return isType(value, 'Array');\n};\n\nconst isObjectLike = (value: any): value is object => {\n  /**\n   * isObjectLike({}) => true\n   * isObjectLike([1, 2, 3]) => true\n   * isObjectLike(Function) => false\n   */\n  return typeof value === 'object' && value !== null;\n};\n\nconst isPlainObject = (value: any): value is object => {\n  /**\n   * isObjectLike(new Foo) => false\n   * isObjectLike([1, 2, 3]) => false\n   * isObjectLike({ x: 0, y: 0 }) => true\n   */\n  if (!isObjectLike(value) || !isType(value, 'Object')) {\n    return false;\n  }\n  let proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n};\n\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \n * @param {number} maxLevel \n */\nconst deep = (dist, src, level?, maxLevel?) => {\n  level = level || 0;\n  maxLevel = maxLevel || MAX_MIX_LEVEL;\n  for (const key in src) {\n    if (Object.prototype.hasOwnProperty.call(src, key)) {\n      const value = src[key];\n      if (!value) {\n        // null  undefined \n        dist[key] = value;\n      } else {\n        if (isPlainObject(value)) {\n          if (!isPlainObject(dist[key])) {\n            dist[key] = {};\n          }\n          if (level < maxLevel) {\n            deep(dist[key], value, level + 1, maxLevel);\n          } else {\n            // \n            dist[key] = src[key];\n          }\n        } else if (isArray(value)) {\n          dist[key] = [];\n          dist[key] = dist[key].concat(value);\n        } else {\n          dist[key] = value;\n        }\n      }\n    }\n  }\n};\n\n/**\n * deepAssign  deepMix\n *  deepAssign  null undefined  source\n *  __tests__/unit/utils/deep-assign-spec.ts\n */\nexport const deepAssign = (rst: any, ...args: any[]) => {\n  for (let i = 0; i < args.length; i += 1) {\n    deep(rst, args[i]);\n  }\n  return rst;\n};\n","import { View, IGroup } from '@antv/g2';\nimport { each, get, isNumber, isFunction, isString } from '@antv/util';\nimport { Datum, ShapeStyle, Statistic, StatisticText } from '../types';\nimport { pick, kebabCase } from '.';\n\n/**\n * @desc  html-statistic  style  ( canvas  shapeStyle  css)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style?: StatisticText['style']): object {\n  const styleObject = {\n    overflow: 'hidden',\n    'white-space': 'nowrap',\n    'text-overflow': 'ellipsis',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  };\n\n  const shapeStyleKeys = [\n    'stroke',\n    'lineWidth',\n    'shadowColor',\n    'strokeOpacity',\n    'shadowBlur',\n    'shadowOffsetX',\n    'shadowOffsetY',\n    'fill',\n  ];\n\n  //  shapeStyle   start\n  if (get(style, 'fill')) {\n    styleObject['color'] = style['fill'];\n  }\n  const {\n    shadowColor,\n    shadowBlur = 0,\n    shadowOffsetX = 0,\n    shadowOffsetY = 0,\n  } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['text-shadow'] = `${[shadowColor, `${shadowOffsetX}px`, `${shadowOffsetY}px`, `${shadowBlur}px`].join(\n    ' '\n  )}`;\n\n  const { stroke, lineWidth = 0 } = pick(style, shapeStyleKeys) as ShapeStyle;\n  styleObject['-webkit-text-stroke'] = `${[`${lineWidth}px`, stroke].join(' ')}`;\n  //  shapeStyle   end\n\n  each(style, (v, k) => {\n    //   shapeStyle  fontSize \n    if (['fontSize'].includes(k) && isNumber(v)) {\n      styleObject[kebabCase(k)] = `${v}px`;\n    } else if (k && !shapeStyleKeys.includes(k)) {\n      styleObject[kebabCase(k)] = `${v}`;\n    }\n  });\n\n  return styleObject;\n}\n\n/**\n * @desc  html-statistic \n *\n * - \n */\nexport function setStatisticContainerStyle(container: HTMLElement, style: Partial<CSSStyleDeclaration>) {\n  container.style['pointer-events'] = 'none';\n  each(style, (v, k) => {\n    if (k && v) {\n      container.style[k] = v;\n    }\n  });\n}\n\n/**\n *  html-annotation position  [50%, 50%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderStatistic = (chart: View, options: { statistic: Statistic; plotType: string }, datum?: Datum) => {\n  const { statistic, plotType } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option, idx) => {\n    if (!option) {\n      return;\n    }\n    let transform = '';\n    if (idx === 0) {\n      transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n    } else {\n      transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n\n    chart.annotation().html({\n      position: ['50%', '50%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        let containerW = 0;\n        if (plotType === 'pie' || plotType === 'ring-progress') {\n          containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n        } else if (plotType === 'liquid') {\n          const liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n          if (liquidShape) {\n            // \n            const path = (liquidShape as IGroup).find((t) => t.get('name') === 'wrap');\n            const { width } = path.getCanvasBBox();\n            containerW = width;\n          }\n        } else if (!containerW) {\n          // \n          containerW = coordinate.getWidth();\n        }\n        setStatisticContainerStyle(container, {\n          width: `${containerW}px`,\n          transform,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      // @ts-ignore\n      key: `${idx === 0 ? 'top' : 'bottom'}-statistic`,\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n\n/**\n *  html-annotation for gauge ( plot),  position  [50%, 100%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport const renderGaugeStatistic = (chart: View, options: { statistic: Statistic }, datum?: Datum) => {\n  const { statistic } = options;\n  const { title: titleOpt, content: contentOpt } = statistic;\n\n  [titleOpt, contentOpt].forEach((option) => {\n    if (!option) {\n      return;\n    }\n    const style = isFunction(option.style) ? option.style(datum) : option.style;\n    chart.annotation().html({\n      position: ['50%', '100%'],\n      html: (container, view) => {\n        const coordinate = view.getCoordinate();\n        // \n        const polarCoord = view.views[0].getCoordinate();\n        const polarCenter = polarCoord.getCenter();\n        const polarRadius = polarCoord.getRadius();\n        const polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n        const offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n\n        const containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n        setStatisticContainerStyle(container, {\n          width: `${containerWidth}px`,\n          transform: `translate(-50%, ${offsetY}px)`,\n          // user's style setting has high priority\n          ...adapteStyle(style),\n        });\n\n        const filteredData = view.getData();\n        if (option.customHtml) {\n          return option.customHtml(container, view, datum, filteredData);\n        }\n\n        let text = option.content;\n        if (option.formatter) {\n          text = option.formatter(datum, filteredData);\n        }\n\n        // todo G2  & G2  number\n        return text ? (isString(text) ? text : `${text}`) : '<div></div>';\n      },\n      ...pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */,\n    });\n  });\n};\n","import { each } from '@antv/util';\n/**\n * @file ...\n */\nexport const GLOBAL = {\n  /**  */\n  locale: 'en-US',\n};\n\n/**\n * \n * @param key\n * @param value\n */\nexport function setGlobal(datum: Record<string, any>): void {\n  each(datum, (v, k) => (GLOBAL[k] = v));\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\n\nexport type { LineOptions };\n\nexport class Line extends Plot<LineOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: LineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Line.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<LineOptions> {\n    return adaptor;\n  }\n}\n","import { DotPatternCfg, LinePatternCfg, SquarePatternCfg } from '../../types/pattern';\nimport { createDotPattern } from './dot';\nimport { createLinePattern } from './line';\nimport { createSquarePattern } from './square';\n\nexport type PatternOption =\n  | {\n      type: 'dot';\n      cfg?: DotPatternCfg;\n    }\n  | {\n      type: 'line';\n      cfg?: LinePatternCfg;\n    }\n  | {\n      type: 'square';\n      cfg?: SquarePatternCfg;\n    };\n\n/**\n *  CanvasPattern \n * @param options\n * @returns\n */\nexport function getCanvasPattern(options: PatternOption): CanvasPattern | undefined {\n  const { type, cfg } = options;\n\n  let pattern;\n\n  switch (type) {\n    case 'dot':\n      pattern = createDotPattern(cfg);\n      break;\n    case 'line':\n      pattern = createLinePattern(cfg);\n      break;\n    case 'square':\n      pattern = createSquarePattern(cfg);\n      break;\n    default:\n      break;\n  }\n\n  return pattern;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PointGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** shape  */\n  readonly shapeField?: string;\n  /** point  */\n  readonly point?: MappingOptions;\n}\n\n/**\n * point \n * @param params\n */\nexport function point<O extends PointGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { point, xField, yField, seriesField, sizeField, shapeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]);\n\n  return point\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'point',\n            colorField: seriesField,\n            shapeField: shapeField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...point,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface PolygonGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly polygon?: MappingOptions;\n}\n\n/**\n * polygon \n * @param params\n */\nexport function polygon<O extends PolygonGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { polygon, xField, yField, seriesField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return polygon\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'polygon',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...polygon,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { AreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { AreaOptions };\n\nexport class Area extends Plot<AreaOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<AreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Area.getDefaultOptions();\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: AreaOptions['data']) {\n    this.updateOption({ data });\n    const { isPercent, xField, yField } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<AreaOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { each, omit } from '@antv/util';\nimport {\n  tooltip,\n  slider,\n  interaction,\n  animation,\n  theme,\n  annotation,\n  limitInPlot,\n  pattern,\n  transformations,\n} from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { Params } from '../../core/adaptor';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { Datum } from '../../types';\nimport { meta, legend, axis } from '../line/adaptor';\nimport { AreaOptions } from './types';\n\nexport { meta };\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    areaStyle,\n    color,\n    point: pointMapping,\n    line: lineMapping,\n    isPercent,\n    xField,\n    yField,\n    tooltip,\n    seriesField,\n    startOnZero,\n  } = options;\n  const pointState = pointMapping?.state;\n\n  const chartData = getDataWhetherPercentage(data, yField, xField, yField, isPercent);\n  chart.data(chartData);\n  //  % , \n  const tooltipOptions = isPercent\n    ? {\n        formatter: (datum: Datum) => ({\n          name: datum[seriesField] || datum[xField],\n          value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n        }),\n        ...tooltip,\n      }\n    : tooltip;\n  const primary = deepAssign({}, params, {\n    options: {\n      area: { color, style: areaStyle },\n      point: pointMapping && {\n        color,\n        ...pointMapping,\n      },\n      tooltip: tooltipOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    },\n  });\n  //  2px ( state fill  stroke )\n  const lineParams = {\n    chart,\n    options: deepAssign({ line: { size: 2 } }, omit(options as any, ['state']), {\n      //  tooltip \n      // \n      line: lineMapping && {\n        color,\n        ...lineMapping,\n      },\n      sizeField: seriesField,\n      state: lineMapping?.state,\n      tooltip: false,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n      args: {\n        startOnZero,\n      },\n    }),\n  };\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  // area geometry \n  area(primary);\n  line(lineParams);\n  point(pointParams);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const areaGeometry = findGeometry(chart, 'area');\n\n  // label  false,   label\n  if (!label) {\n    areaGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    areaGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        layout: [\n          { type: 'limit-in-plot' },\n          { type: 'path-adjust-position' },\n          { type: 'point-adjust-position' },\n          { type: 'limit-in-plot', cfg: { action: 'hide' } },\n        ],\n        ...transformLabel(cfg),\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n *  adjust\n * @param params\n */\nfunction adjust(params: Params<AreaOptions>): Params<AreaOptions> {\n  const { chart, options } = params;\n  const { isStack, isPercent, seriesField } = options;\n  if ((isPercent || isStack) && seriesField) {\n    each(chart.geometries, (g: Geometry) => {\n      g.adjust('stack');\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<AreaOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('areaStyle'),\n    transformations('rect'),\n    geometry,\n    meta,\n    adjust,\n    axis,\n    legend,\n    tooltip,\n    label,\n    slider,\n    annotation(),\n    interaction,\n    animation,\n    limitInPlot\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { ColumnOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { ColumnOptions };\n\n/**\n * \n */\nexport class Column extends Plot<ColumnOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'column';\n\n  /**\n   * @override\n   */\n  public changeData(data: ColumnOptions['data']) {\n    this.updateOption({ data });\n    const { yField, xField, isPercent } = this.options;\n    const { chart, options } = this;\n    meta({ chart, options });\n    this.chart.changeData(getDataWhetherPercentage(data, yField, xField, yField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Column.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ColumnOptions> {\n    return adaptor;\n  }\n}\n","import { isNumber } from '@antv/util';\n/**\n * \n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev: number, next: number): string {\n  if (!isNumber(prev) || !isNumber(next)) {\n    return '-';\n  }\n\n  if (prev === next) {\n    return '100%';\n  }\n  if (prev === 0) {\n    return '';\n  }\n  if (next === 0) {\n    return '-';\n  }\n\n  return `${((100 * next) / prev).toFixed(2)}%`;\n}\n","import { filter } from '@antv/util';\nimport { Params } from '../core/adaptor';\nimport { getInteractionCfg } from '../interactions/brush';\nimport { deepAssign } from '../utils';\nimport { Options as BaseOptions, BrushCfg, Interaction, Writable } from '../types';\n\n/** brush  */\nimport '../interactions/brush';\n\ntype Options = Pick<BaseOptions, 'interactions'> & { brush?: BrushCfg };\n\nconst BRUSH_TYPES = ['brush', 'brush-x', 'brush-y', 'brush-highlight', 'brush-x-highlight', 'brush-y-highlight'];\n\n/**\n * brush \n */\nexport function brushInteraction<O extends Options = Options>(params: Params<O>): Params<O> {\n  const { options } = params;\n\n  const { brush } = options;\n\n  //  brush \n  const interactions = filter(options.interactions || [], (i) => BRUSH_TYPES.indexOf(i.type) === -1);\n\n  //  brush \n  if (brush?.enabled) {\n    BRUSH_TYPES.forEach((type) => {\n      let enable = false;\n      switch (brush.type) {\n        case 'x-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-x-highlight' : 'brush-x');\n          break;\n        case 'y-rect':\n          enable = type === (brush.action === 'highlight' ? 'brush-y-highlight' : 'brush-y');\n          break;\n        default:\n          enable = type === (brush.action === 'highlight' ? 'brush-highlight' : 'brush');\n          break;\n      }\n      const obj: Writable<Interaction> = { type, enable };\n\n      if (brush.mask?.style || brush.type) {\n        obj.cfg = getInteractionCfg(type, brush.type, brush.mask);\n      }\n      interactions.push(obj);\n    });\n\n    //  button  (G2Plot )\n    if (brush?.action !== 'highlight') {\n      interactions.push({\n        type: 'filter-action',\n        cfg: {\n          buttonConfig: brush.button,\n        },\n      });\n    }\n  }\n  return deepAssign({}, params, { options: { interactions } });\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { BrushCfg } from '../types';\nimport { ButtonAction } from './actions/reset-button';\n\nregisterAction('brush-reset-button', ButtonAction, {\n  name: 'brush-reset-button',\n});\n\nregisterInteraction('filter-action', {});\n\n/**\n * G2  brushbrush-xbrush-y \n *\n * 1. element-range-highlight  brush-highlight(mask )\n * 2. brush-visible  brush \n */\n\nfunction isPointInView(context) {\n  return context.isInPlot();\n}\n\n/**\n *   start \n */\nexport function getInteractionCfg(interactionType: string, brushType?: string, mask?: BrushCfg['mask']) {\n  const maskType = brushType || 'rect';\n\n  switch (interactionType) {\n    case 'brush':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: [\n              'brush:filter',\n              'brush:end',\n              `${maskType}-mask:end`,\n              `${maskType}-mask:hide`,\n              'brush-reset-button:show',\n            ],\n          },\n        ],\n        rollback: [\n          {\n            trigger: 'brush-reset-button:click',\n            action: ['brush:reset', 'brush-reset-button:hide', 'cursor:crosshair'],\n          },\n        ],\n      };\n    case 'brush-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-x':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush-x:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-x:filter', 'brush-x:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-x:reset'] }],\n      };\n    case 'brush-x-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n    case 'brush-y':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n        ],\n        start: [\n          {\n            trigger: 'mousedown',\n            isEnable: isPointInView,\n            action: ['brush-y:start', `${maskType}-mask:start`, `${maskType}-mask:show`],\n            // action\n            arg: [null, { maskStyle: mask?.style }],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'mousemove',\n            isEnable: isPointInView,\n            action: [`${maskType}-mask:resize`],\n          },\n        ],\n        end: [\n          {\n            trigger: 'mouseup',\n            isEnable: isPointInView,\n            action: ['brush-y:filter', 'brush-y:end', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['brush-y:reset'] }],\n      };\n    case 'brush-y-highlight':\n      return {\n        showEnable: [\n          { trigger: 'plot:mouseenter', action: 'cursor:crosshair' },\n          { trigger: 'mask:mouseenter', action: 'cursor:move' },\n          { trigger: 'plot:mouseleave', action: 'cursor:default' },\n          { trigger: 'mask:mouseleave', action: 'cursor:crosshair' },\n        ],\n        start: [\n          {\n            trigger: 'plot:mousedown',\n            isEnable(context) {\n              //  mask \n              return !context.isInShape('mask');\n            },\n            action: [`${maskType}-mask:start`, `${maskType}-mask:show`],\n            //  1 action\n            arg: [{ maskStyle: mask?.style }],\n          },\n          {\n            trigger: 'mask:dragstart',\n            action: [`${maskType}-mask:moveStart`],\n          },\n        ],\n        processing: [\n          {\n            trigger: 'plot:mousemove',\n            action: [`${maskType}-mask:resize`],\n          },\n          {\n            trigger: 'mask:drag',\n            action: [`${maskType}-mask:move`],\n          },\n          {\n            trigger: 'mask:change',\n            action: ['element-range-highlight:highlight'],\n          },\n        ],\n        end: [\n          { trigger: 'plot:mouseup', action: [`${maskType}-mask:end`] },\n          { trigger: 'mask:dragend', action: [`${maskType}-mask:moveEnd`] },\n          {\n            trigger: 'document:mouseup',\n            isEnable(context) {\n              return !context.isInPlot();\n            },\n            action: ['element-range-highlight:clear', `${maskType}-mask:end`, `${maskType}-mask:hide`],\n          },\n        ],\n        rollback: [{ trigger: 'dblclick', action: ['element-range-highlight:clear', `${maskType}-mask:hide`] }],\n      };\n\n    default:\n      return {};\n  }\n}\n\n// \nregisterInteraction('brush', getInteractionCfg('brush'));\n//  element-range-highlight interaction\nregisterInteraction('brush-highlight', getInteractionCfg('brush-highlight'));\n// \nregisterInteraction('brush-x', getInteractionCfg('brush-x', 'x-rect'));\n// \nregisterInteraction('brush-y', getInteractionCfg('brush-y', 'y-rect'));\n// , x \nregisterInteraction('brush-x-highlight', getInteractionCfg('brush-x-highlight', 'x-rect'));\n// , y \nregisterInteraction('brush-y-highlight', getInteractionCfg('brush-y-highlight', 'y-rect'));\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getDataWhetherPercentage } from '../../utils/transform/percent';\nimport { BarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { BarOptions };\n\n/**\n * \n */\nexport class Bar extends Plot<BarOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'bar';\n\n  /**\n   * @override\n   */\n  public changeData(data: BarOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    const { xField, yField, isPercent } = options;\n    const switchedFieldOptions = { ...options, xField: yField, yField: xField };\n    meta({ chart, options: switchedFieldOptions });\n    chart.changeData(getDataWhetherPercentage(data, xField, yField, xField, isPercent));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bar.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BarOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip } from '../../adaptor/common';\nimport { deepAssign, flow } from '../../utils';\nimport { Axis } from '../../types';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nexport { meta } from '../column/adaptor';\nimport { BarOptions } from './types';\n\n/**\n * \n * 1. switch xField yField\n * 2. switch xAxis yAxis and adjust axis.position configuration\n */\nfunction defaultOptions(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { xField, yField, xAxis, yAxis } = options;\n\n  const position = {\n    left: 'bottom',\n    right: 'top',\n    top: 'left',\n    bottom: 'right',\n  };\n\n  const verticalAxis =\n    yAxis !== false\n      ? {\n          position: position[yAxis?.position || 'left'],\n          ...yAxis,\n        }\n      : false;\n  const horizontalAxis =\n    xAxis !== false\n      ? {\n          position: position[xAxis?.position || 'bottom'],\n          ...xAxis,\n        }\n      : false;\n\n  return {\n    ...params,\n    options: {\n      ...options,\n      xField: yField,\n      yField: xField,\n      //  xAxisyAxis  deepAssign\n      xAxis: verticalAxis as Axis,\n      yAxis: horizontalAxis as Axis,\n    },\n  };\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n  const { label } = options;\n  // label of bar charts default position is left, if plot has label\n  if (label && !label.position) {\n    label.position = 'left';\n    //  label layout  layout  position  layout\n    if (!label.layout) {\n      label.layout = [\n        { type: 'interval-adjust-position' },\n        { type: 'interval-hide-overlap' },\n        { type: 'adjust-color' },\n        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n      ];\n    }\n  }\n\n  return deepAssign({}, params, { options: { label } });\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BarOptions>): Params<BarOptions> {\n  const { options } = params;\n\n  //  legend \n  const { seriesField, isStack } = options;\n  let { legend } = options;\n  if (seriesField) {\n    if (legend !== false) {\n      legend = {\n        position: isStack ? 'top-left' : 'right-top',\n        ...(legend || {}),\n      };\n    }\n  } else {\n    legend = false;\n  }\n\n  return deepAssign({}, params, { options: { legend } });\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<BarOptions>): Params<BarOptions> {\n  // transpose column to bar  & y \n  const { options } = params;\n  const coordinateOptions = [{ type: 'transpose' }, { type: 'reflectY' }].concat(options.coordinate || []);\n  return deepAssign({}, params, { options: { coordinate: coordinateOptions } });\n}\n\n/**\n * \n * @param params\n */\nexport function geometry(params: Params<BarOptions>) {\n  const { chart, options } = params;\n\n  const { barStyle, barWidthRatio, minBarWidth, maxBarWidth, barBackground } = options;\n\n  return columnAdaptor(\n    {\n      chart,\n      options: {\n        ...options,\n        // rename attrs as column\n        columnStyle: barStyle,\n        columnWidthRatio: barWidthRatio,\n        minColumnWidth: minBarWidth,\n        maxColumnWidth: maxBarWidth,\n        columnBackground: barBackground,\n      },\n    },\n    true\n  ) as Params<BarOptions>;\n}\n\n/**\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BarOptions>): Params<BarOptions> {\n  // flow  G2 API\n  return flow<Params<BarOptions>>(defaultOptions, label, legend, tooltip, coordinate, geometry)(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { processIllegalData } from '../../utils';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { PieOptions } from './types';\nimport { isAllZero } from './utils';\nimport './interactions';\n\nexport type { PieOptions };\n\nexport class Pie extends Plot<PieOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<PieOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'pie';\n\n  /**\n   * \n   * @param data\n   */\n  public changeData(data: PieOptions['data']) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    const prevOptions = this.options;\n    const { angleField } = this.options;\n    const prevData = processIllegalData(prevOptions.data, angleField);\n    const curData = processIllegalData(data, angleField);\n    //  0\n    if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n      this.update({ data });\n    } else {\n      this.updateOption({ data });\n      this.chart.data(curData);\n      // todo  G2  afterrender  annotations\n      pieAnnotation({ chart: this.chart, options: this.options });\n      this.chart.render(true);\n    }\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<PieOptions> {\n    return Pie.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<PieOptions> {\n    return adaptor;\n  }\n}\n","import { isFunction, isString, isNil, get, isArray, isNumber, each, toString, isEmpty } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { legend, animation, theme, state, annotation } from '../../adaptor/common';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { interval } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { getLocale } from '../../core/locale';\nimport { Interaction } from '../../types/interaction';\nimport { flow, template, transformLabel, deepAssign, renderStatistic, processIllegalData } from '../../utils';\nimport { Data, Datum } from '../../types';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { adaptOffset, getTotalValue, isAllZero } from './utils';\nimport { PIE_STATISTIC } from './interactions';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { data, angleField, colorField, color, pieStyle } = options;\n\n  // \n  let processData = processIllegalData(data, angleField);\n\n  if (isAllZero(processData, angleField)) {\n    //  0  position \n    const percentageField = '$$percentage$$';\n    processData = processData.map((d) => ({ ...d, [percentageField]: 1 / processData.length }));\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: percentageField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  } else {\n    chart.data(processData);\n\n    const p = deepAssign({}, params, {\n      options: {\n        xField: '1',\n        yField: angleField,\n        seriesField: colorField,\n        isStack: true,\n        interval: {\n          color,\n          style: pieStyle,\n        },\n        args: {\n          zIndexReversed: true,\n          sortZIndex: true,\n        },\n      },\n    });\n\n    interval(p);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { meta, colorField } = options;\n\n  // meta  scale \n  const scales = deepAssign({}, meta);\n  chart.scale(scales, {\n    [colorField]: { type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'theta',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { label, colorField, angleField } = options;\n\n  const geometry = chart.geometries[0];\n  // label  false,   label\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    const labelCfg = transformLabel(cfg);\n\n    //   label content \n    if (labelCfg.content) {\n      const { content } = labelCfg;\n      labelCfg.content = (data: object, dataum: any, index: number) => {\n        const name = data[colorField];\n        const value = data[angleField];\n        // dymatic get scale, scale is ready this time\n        const angleScale = chart.getScaleByField(angleField);\n        const percent = angleScale?.scale(value);\n        return isFunction(content)\n          ? // append percent (number) to data, users can get origin data from `dataum._origin`\n            content({ ...data, percent }, dataum, index)\n          : isString(content)\n          ? template(content as string, {\n              value,\n              name,\n              // percentage (string), default keep 2\n              percentage: isNumber(percent) && !isNil(value) ? `${(percent * 100).toFixed(2)}%` : null,\n            })\n          : content;\n      };\n    }\n\n    const LABEL_LAYOUT_TYPE_MAP = {\n      inner: '',\n      outer: 'pie-outer',\n      spider: 'pie-spider',\n    };\n    const labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n    const labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n    labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n\n    geometry.label({\n      // fix: could not create scale, when field is undefinedattributes  fields  scale\n      fields: colorField ? [angleField, colorField] : [angleField],\n      callback,\n      cfg: {\n        ...labelCfg,\n        offset: adaptOffset(labelCfg.type, labelCfg.offset),\n        type: 'pie',\n      },\n    });\n  }\n  return params;\n}\n\n/**\n * statistic options \n * 1.  default options \n * 2.  meta  formatter\n */\nexport function transformStatisticOptions(options: PieOptions): PieOptions {\n  const { innerRadius, statistic, angleField, colorField, meta, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (innerRadius && statistic) {\n    let { title: titleOpt, content: contentOpt } = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic);\n    if (titleOpt !== false) {\n      titleOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum) => {\n            // \n            if (datum) {\n              return datum[colorField];\n            }\n            return !isNil(titleOpt.content) ? titleOpt.content : i18n.get(['statistic', 'total']);\n          },\n        },\n        titleOpt\n      );\n    }\n    if (contentOpt !== false) {\n      contentOpt = deepAssign(\n        {},\n        {\n          formatter: (datum: Datum, data: Data) => {\n            const dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n            const metaFormatter = get(meta, [angleField, 'formatter']) || ((v) => v);\n            // \n            if (datum) {\n              return metaFormatter(dataValue);\n            }\n            return !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(dataValue);\n          },\n        },\n        contentOpt\n      );\n    }\n\n    return deepAssign({}, { statistic: { title: titleOpt, content: contentOpt } }, options);\n  }\n  return options;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function pieAnnotation(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic } = transformStatisticOptions(options);\n  // \n  chart.getController('annotation').clear(true);\n\n  //  annotations\n  flow(annotation())(params);\n\n  /**   */\n  if (innerRadius && statistic) {\n    renderStatistic(chart, { statistic, plotType: 'pie' });\n  }\n\n  return params;\n}\n\n/**\n *  tooltip \n * 1.  tooltip.shared  false\n * @param params\n */\nfunction tooltip(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { tooltip, colorField, angleField, data } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n\n    //  all zero  all zero \n    if (isAllZero(data, angleField)) {\n      let fields = get(tooltip, 'fields');\n      let formatter = get(tooltip, 'formatter');\n\n      if (isEmpty(get(tooltip, 'fields'))) {\n        fields = [colorField, angleField];\n        formatter = formatter || ((datum) => ({ name: datum[colorField], value: toString(datum[angleField]) }));\n      }\n      chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n  }\n\n  return params;\n}\n\n/**\n * Interaction  ( interaction, \n * @param params\n */\nexport function interaction(params: Params<PieOptions>): Params<PieOptions> {\n  const { chart, options } = params;\n  const { interactions, statistic, annotations } = transformStatisticOptions(options);\n\n  each(interactions, (i: Interaction) => {\n    if (i.enable === false) {\n      chart.removeInteraction(i.type);\n    } else if (i.type === 'pie-statistic-active') {\n      //  start \n      let startStages = [];\n      if (!i.cfg?.start) {\n        startStages = [\n          {\n            trigger: 'element:mouseenter',\n            action: `${PIE_STATISTIC}:change`,\n            arg: { statistic, annotations },\n          },\n        ];\n      }\n      each(i.cfg?.start, (stage) => {\n        startStages.push({ ...stage, arg: { statistic, annotations } });\n      });\n      chart.interaction(i.type, deepAssign({}, i.cfg, { start: startStages }));\n    } else {\n      chart.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<PieOptions>) {\n  // flow  G2 API\n  return flow<Params<PieOptions>>(\n    pattern('pieStyle'),\n    geometry,\n    meta,\n    theme,\n    coordinate,\n    legend,\n    tooltip,\n    label,\n    state,\n    /**   */\n    pieAnnotation,\n    interaction,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  tooltip: {\n    shared: false,\n    showTitle: false,\n    showMarkers: false,\n  },\n  label: {\n    layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n  },\n  /** ,  */\n  pieStyle: {\n    stroke: 'white',\n    lineWidth: 1,\n  },\n  /**  */\n  statistic: {\n    title: {\n      style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n    },\n    content: {\n      style: {\n        fontWeight: 'bold',\n        color: 'rgba(44,53,66,0.85)',\n        textAlign: 'center',\n        fontSize: '32px',\n        lineHeight: 1,\n      },\n    },\n  },\n  /**  text-annotation  */\n  theme: {\n    components: {\n      annotation: {\n        text: {\n          animate: false,\n        },\n      },\n    },\n  },\n});\n","import { each, every, isString } from '@antv/util';\nimport { Data } from '../../types';\nimport { processIllegalData } from '../../utils';\nimport { PieOptions } from './types';\n\n/**\n * \n * @param data\n * @param field\n */\nexport function getTotalValue(data: Data, field: string) {\n  let total = null;\n  each(data, (item) => {\n    if (typeof item[field] === 'number') {\n      total += item[field];\n    }\n  });\n  return total;\n}\n\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type: string, offset?: string | number): string | number {\n  let defaultOffset;\n  switch (type) {\n    case 'inner':\n      defaultOffset = '-30%';\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n      }\n      return offset < 0 ? offset : defaultOffset;\n    case 'outer':\n      defaultOffset = 12;\n      if (isString(offset) && offset.endsWith('%')) {\n        return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n      }\n      return offset > 0 ? offset : defaultOffset;\n    default:\n      return offset;\n  }\n}\n\n/**\n *  0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data: PieOptions['data'], angleField: string): boolean {\n  return every(processIllegalData(data, angleField), (d) => d[angleField] === 0);\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './actions/legend-active';\nimport { StatisticAction } from './actions/statistic-active';\n\nexport const PIE_STATISTIC = 'pie-statistic';\n\nregisterAction(PIE_STATISTIC, StatisticAction);\nregisterInteraction('pie-statistic-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n  end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\n\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n  end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n","import { Util } from '@antv/g2';\n\nconst ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n/**\n * \n * @param actions\n * @param matrix\n */\nexport function transform(actions: any[][], matrix?: number[]) {\n  const ulMatrix = matrix ? [...matrix] : [...ORIGIN_MATRIX];\n  return Util.transform(ulMatrix, actions);\n}\n","import { Chart } from '@antv/g2';\r\nimport { Types } from '@antv/g2';\r\nimport { isArray, isFunction, isString } from '@antv/util';\r\nimport { normalPadding } from '../../utils/padding';\r\nimport { Params } from '../../core/adaptor';\r\nimport { Datum } from '../../types';\r\nimport { log, LEVEL, getContainerSize } from '../../utils';\r\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\r\nimport { Tag, Word, WordCloudOptions, WordStyle } from './types';\r\n\r\n/**\r\n *  DataSet \r\n * @param params\r\n */\r\nexport function transform(params: Params<WordCloudOptions>): Tag[] {\r\n  const { options: rawOptions, chart } = params;\r\n  const { width, height, padding: chartPadding, appendPadding, ele } = chart as Chart;\r\n  const {\r\n    data,\r\n    imageMask,\r\n    wordField,\r\n    weightField,\r\n    colorField,\r\n    wordStyle,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    autoFit = true,\r\n    placementStrategy,\r\n  } = rawOptions;\r\n  if (!data || !data.length) {\r\n    return [];\r\n  }\r\n  const { fontFamily, fontWeight, padding, fontSize } = wordStyle;\r\n  const arr = getSingleKeyValues(data, weightField);\r\n  const range = [min(arr), max(arr)] as [number, number];\r\n\r\n  //  text  value \r\n  const words = data.map(\r\n    (datum: Datum): Word => ({\r\n      text: datum[wordField],\r\n      value: datum[weightField],\r\n      color: datum[colorField],\r\n      datum, // \r\n    })\r\n  );\r\n\r\n  const options = {\r\n    imageMask: imageMask as HTMLImageElement,\r\n    font: fontFamily,\r\n    fontSize: getFontSizeMapping(fontSize, range),\r\n    fontWeight: fontWeight,\r\n    //  padding \r\n    size: getSize({\r\n      width,\r\n      height,\r\n      padding: chartPadding,\r\n      appendPadding,\r\n      autoFit,\r\n      container: ele,\r\n    }),\r\n    padding: padding,\r\n    timeInterval,\r\n    random,\r\n    spiral,\r\n    rotate: getRotate(rawOptions),\r\n  };\r\n\r\n  // \r\n  if (isFunction(placementStrategy)) {\r\n    const result = words.map((word: Word, index: number, words: Word[]) => ({\r\n      ...word,\r\n      hasText: !!word.text,\r\n      font: functor(options.font)(word, index, words),\r\n      weight: functor(options.fontWeight)(word, index, words),\r\n      rotate: functor(options.rotate)(word, index, words),\r\n      size: functor(options.fontSize)(word, index, words),\r\n      style: 'normal',\r\n      ...placementStrategy.call(chart, word, index, words),\r\n    }));\r\n\r\n    // \r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: 0,\r\n      y: 0,\r\n      opacity: 0,\r\n    });\r\n    result.push({\r\n      text: '',\r\n      value: 0,\r\n      x: options.size[0],\r\n      y: options.size[1],\r\n      opacity: 0,\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  // wordCloud \r\n  return wordCloud(words, options);\r\n}\r\n\r\n/**\r\n * [width, height]\r\n * @param chart\r\n */\r\nexport function getSize(options: {\r\n  width: number;\r\n  height: number;\r\n  padding: Types.ViewPadding;\r\n  appendPadding: Types.ViewAppendPadding;\r\n  autoFit: boolean;\r\n  container: HTMLElement;\r\n}): [number, number] {\r\n  let { width, height } = options;\r\n  const { container, autoFit, padding, appendPadding } = options;\r\n\r\n  //  DataSet \r\n  //  DataSet \r\n  //  DataSet \r\n  // \r\n  if (autoFit) {\r\n    const containerSize = getContainerSize(container);\r\n    width = containerSize.width;\r\n    height = containerSize.height;\r\n  }\r\n\r\n  //  0\r\n  width = width || 400;\r\n  height = height || 400;\r\n\r\n  const [top, right, bottom, left] = resolvePadding({ padding, appendPadding });\r\n  const result = [width - (left + right), height - (top + bottom)];\r\n\r\n  return result as [number, number];\r\n}\r\n\r\n/**\r\n *  padding  appendPadding  padding\r\n * @param chart\r\n */\r\nfunction resolvePadding(options: { padding: Types.ViewPadding; appendPadding: Types.ViewAppendPadding }) {\r\n  const padding = normalPadding(options.padding);\r\n  const appendPadding = normalPadding(options.appendPadding);\r\n  const top = padding[0] + appendPadding[0];\r\n  const right = padding[1] + appendPadding[1];\r\n  const bottom = padding[2] + appendPadding[2];\r\n  const left = padding[3] + appendPadding[3];\r\n\r\n  return [top, right, bottom, left];\r\n}\r\n\r\n/**\r\n *  imageMask  url \r\n * @param  {HTMLImageElement | string} img\r\n * @return {Promise}\r\n */\r\nexport function processImageMask(img: HTMLImageElement | string): Promise<HTMLImageElement> {\r\n  return new Promise((res, rej) => {\r\n    if (img instanceof HTMLImageElement) {\r\n      res(img);\r\n      return;\r\n    }\r\n    if (isString(img)) {\r\n      const image = new Image();\r\n      image.crossOrigin = 'anonymous';\r\n      image.src = img;\r\n      image.onload = () => {\r\n        res(image);\r\n      };\r\n      image.onerror = () => {\r\n        log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\r\n        rej();\r\n      };\r\n      return;\r\n    }\r\n    log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\r\n    rej();\r\n  });\r\n}\r\n\r\n/**\r\n *  fontSize  DataSet \r\n * @param options\r\n * @param range\r\n */\r\nexport function getFontSizeMapping(fontSize: WordStyle['fontSize'], range?: [number, number]) {\r\n  if (isFunction(fontSize)) {\r\n    return fontSize;\r\n  }\r\n  if (isArray(fontSize)) {\r\n    const [fMin, fMax] = fontSize;\r\n    if (!range) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    const [min, max] = range;\r\n    if (max === min) {\r\n      return () => (fMax + fMin) / 2;\r\n    }\r\n    return function fontSize({ value }) {\r\n      return ((fMax - fMin) / (max - min)) * (value - min) + fMin;\r\n    };\r\n  }\r\n  return () => fontSize;\r\n}\r\n\r\nexport function getSingleKeyValues(data: Datum[], key: string) {\r\n  return data\r\n    .map((v) => v[key])\r\n    .filter((v) => {\r\n      //  number\r\n      if (typeof v === 'number' && !isNaN(v)) return true;\r\n      return false;\r\n    });\r\n}\r\n\r\n/**\r\n *  DataSet \r\n * @param options\r\n */\r\nfunction getRotate(options: WordCloudOptions) {\r\n  const { rotation, rotationSteps } = resolveRotate(options);\r\n  if (!isArray(rotation)) return rotation;\r\n  const min = rotation[0];\r\n  const max = rotation[1];\r\n  //  1  0\r\n  const perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\r\n  return function rotate() {\r\n    if (max === min) return max;\r\n    return Math.floor(Math.random() * rotationSteps) * perSize;\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * @param options\r\n */\r\nfunction resolveRotate(options: WordCloudOptions) {\r\n  let { rotationSteps } = options.wordStyle;\r\n  if (rotationSteps < 1) {\r\n    log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\r\n    rotationSteps = 1;\r\n  }\r\n  return {\r\n    rotation: options.wordStyle.rotation,\r\n    rotationSteps,\r\n  };\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction min(numbers: number[]) {\r\n  return Math.min(...numbers);\r\n}\r\n\r\n/**\r\n * \r\n * \r\n * @param numbers\r\n */\r\nfunction max(numbers: number[]) {\r\n  return Math.max(...numbers);\r\n}\r\n","import { Plot } from '../../core/plot';\nimport { Datum } from '../../types';\nimport { deepAssign } from '../../utils';\n\n/**  color  */\nexport const WORD_CLOUD_COLOR_FIELD = 'color';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  timeInterval: 2000,\n  legend: false,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: false,\n    fields: ['text', 'value', WORD_CLOUD_COLOR_FIELD],\n    formatter: (datum: Datum) => {\n      return { name: datum.text, value: datum.value };\n    },\n  },\n  wordStyle: {\n    fontFamily: 'Verdana',\n    fontWeight: 'normal',\n    padding: 1,\n    fontSize: [12, 60],\n    rotation: [0, 90],\n    rotationSteps: 2,\n    rotateRatio: 0.5,\n  },\n});\n","import { BRUSH_FILTER_EVENTS, VIEW_LIFE_CIRCLE } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { ScatterOptions } from './types';\nimport { adaptor, transformOptions, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport './interactions';\n\nexport type { ScatterOptions };\n\nexport class Scatter extends Plot<ScatterOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ScatterOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'scatter';\n\n  constructor(container: string | HTMLElement, options: ScatterOptions) {\n    super(container, options);\n\n    //  brush  meta\n    this.on(VIEW_LIFE_CIRCLE.BEFORE_RENDER, (evt) => {\n      //  option\n      const { options, chart } = this;\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.FILTER) {\n        const filteredData = this.chart.filterData(this.chart.getData());\n        meta({ chart, options: { ...options, data: filteredData } });\n      }\n\n      if (evt.data?.source === BRUSH_FILTER_EVENTS.RESET) {\n        meta({ chart, options });\n      }\n    });\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: ScatterOptions['data']) {\n    this.updateOption(transformOptions(deepAssign({}, this.options, { data })));\n    const { options, chart } = this;\n    meta({ chart, options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ScatterOptions> {\n    return adaptor;\n  }\n\n  protected getDefaultOptions() {\n    return Scatter.getDefaultOptions();\n  }\n}\n","import { isNumber } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, pick } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { brushInteraction } from '../../adaptor/brush';\nimport { interaction, animation, theme, scale, annotation, slider, scrollbar } from '../../adaptor/common';\nimport { findGeometry, transformLabel } from '../../utils';\nimport { getQuadrantDefaultConfig, getPath, getMeta } from './util';\nimport { ScatterOptions } from './types';\n\n/**\n * \n *  data.length === 1   y    x \n * @param params\n * @returns params\n */\nexport function transformOptions(options: ScatterOptions): ScatterOptions {\n  const { data = [], xField, yField } = options;\n\n  if (data.length) {\n    // x y \n    let isOneX = true;\n    let isOneY = true;\n\n    let prev = data[0];\n    let curr;\n\n    for (let i = 1; i < data.length; i++) {\n      curr = data[i];\n\n      if (prev[xField] !== curr[xField]) {\n        isOneX = false;\n      }\n\n      if (prev[yField] !== curr[yField]) {\n        isOneY = false;\n      }\n\n      //  oneValue\n      if (!isOneX && !isOneY) {\n        break;\n      }\n\n      prev = curr;\n    }\n\n    const keys = [];\n    isOneX && keys.push(xField);\n    isOneY && keys.push(yField);\n\n    const meta = pick(getMeta(options), keys);\n\n    return deepAssign({}, options, { meta });\n  }\n\n  return options;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { data, type, color, shape, pointStyle, shapeField, colorField, xField, yField, sizeField } = options;\n  let { size } = options;\n\n  let { tooltip } = options;\n\n  if (sizeField) {\n    if (!size) {\n      size = [2, 8];\n    }\n    if (isNumber(size)) {\n      size = [size, size];\n    }\n  }\n\n  if (tooltip && !tooltip.fields) {\n    tooltip = {\n      ...tooltip,\n      fields: [xField, yField, colorField, sizeField, shapeField],\n    };\n  }\n  // \n  chart.data(data);\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        seriesField: colorField,\n        point: {\n          color,\n          shape,\n          size,\n          style: pointStyle,\n        },\n        tooltip,\n      },\n    })\n  );\n\n  const geometry = findGeometry(chart, 'point');\n\n  // \n  if (type) {\n    geometry.adjust(type);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  const newOptions = transformOptions(options);\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(deepAssign({}, params, { options: newOptions }));\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, shapeField, sizeField, shapeLegend, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  //  shapeLegend,  legend\n  if (shapeField) {\n    if (shapeLegend) {\n      chart.legend(shapeField, shapeLegend);\n    } else {\n      chart.legend(shapeField, shapeLegend === false ? false : legend);\n    }\n  }\n\n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend ? sizeLegend : false);\n  }\n\n  /**  shape  shapeLegend  undefined  */\n  /**  sizeField */\n  if (!showLegend && !shapeLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const scatterGeometry = findGeometry(chart, 'point');\n\n  // label  false,   label\n  if (!label) {\n    scatterGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    scatterGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * annotation \n * -  annotation: quadrant()\n * @param params\n */\nfunction scatterAnnotation(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options } = params;\n  const { quadrant } = options;\n\n  const annotationOptions = [];\n\n  if (quadrant) {\n    const { xBaseline = 0, yBaseline = 0, labels, regionStyle, lineStyle } = quadrant;\n    const defaultConfig = getQuadrantDefaultConfig(xBaseline, yBaseline);\n    // \n    const quadrants = new Array(4).join(',').split(',');\n    quadrants.forEach((_: string, index: number) => {\n      annotationOptions.push(\n        {\n          type: 'region',\n          top: false,\n          ...defaultConfig.regionStyle[index].position,\n          style: deepAssign({}, defaultConfig.regionStyle[index].style, regionStyle?.[index]),\n        },\n        {\n          type: 'text',\n          top: true,\n          ...deepAssign({}, defaultConfig.labelStyle[index], labels?.[index]),\n        }\n      );\n    });\n    // \n    annotationOptions.push(\n      {\n        type: 'line',\n        top: false,\n        start: ['min', yBaseline],\n        end: ['max', yBaseline],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      },\n      {\n        type: 'line',\n        top: false,\n        start: [xBaseline, 'min'],\n        end: [xBaseline, 'max'],\n        style: deepAssign({}, defaultConfig.lineStyle, lineStyle),\n      }\n    );\n  }\n\n  return flow(annotation(annotationOptions))(params);\n}\n\n// \nfunction regressionLine(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { options, chart } = params;\n  const { regressionLine } = options;\n  if (regressionLine) {\n    const { style, top = false } = regressionLine;\n    const defaultStyle = {\n      stroke: '#9ba29a',\n      lineWidth: 2,\n      opacity: 0.5,\n    };\n    chart.annotation().shape({\n      top,\n      render: (container, view) => {\n        const group = container.addGroup({\n          id: `${chart.id}-regression-line`,\n          name: 'regression-line-group',\n        });\n        const path = getPath({\n          view,\n          options,\n        });\n        group.addShape('path', {\n          name: 'regression-line',\n          attrs: {\n            path,\n            ...defaultStyle,\n            ...style,\n          },\n        });\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<ScatterOptions>): Params<ScatterOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ScatterOptions>) {\n  // flow  G2 API\n  return flow(\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    //  interaction \n    brushInteraction,\n    slider,\n    scrollbar,\n    interaction,\n    scatterAnnotation,\n    animation,\n    theme,\n    regressionLine\n  )(params);\n}\n","import { registerInteraction } from '@antv/g2';\n\nregisterInteraction('drag-move', {\n  start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n  processing: [\n    {\n      trigger: 'plot:mousemove',\n      action: 'scale-translate:translate',\n      throttle: { wait: 100, leading: true, trailing: false },\n    },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n","export const LEFT_AXES_VIEW = 'left-axes-view';\nexport const RIGHT_AXES_VIEW = 'right-axes-view';\n\nexport const DEFAULT_YAXIS_CONFIG = {\n  nice: true,\n  label: {\n    autoHide: true,\n    autoRotate: false,\n  },\n};\n\nexport const DEFAULT_LEFT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'left',\n};\n\nexport const DEFAULT_RIGHT_YAXIS_CONFIG = {\n  ...DEFAULT_YAXIS_CONFIG,\n  position: 'right',\n  grid: null,\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TinyLineOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getTinyData } from './utils';\n\nexport type { TinyLineOptions };\n\nexport class TinyLine extends Plot<TinyLineOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyLineOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-line';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyLineOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyLine.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyLineOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { TinyLineOptions } from './types';\nimport { X_FIELD, Y_FIELD } from './constants';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyLineOptions>): Params<TinyLineOptions> {\n  const { chart, options } = params;\n  const { data, color, lineStyle, point: pointMapping } = options;\n\n  const pointState = pointMapping?.state;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  // line geometry \n  const primary = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      line: {\n        color,\n        style: lineStyle,\n      },\n      point: pointMapping,\n    },\n  });\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n\n  chart.axis(false);\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyLineOptions>) {\n  return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n","import { Adaptor } from '../../core/adaptor';\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { TinyColumnOptions } from './types';\n\nexport type { TinyColumnOptions };\n\nexport class TinyColumn extends Plot<TinyColumnOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyColumnOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-column';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyColumnOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyColumn.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyColumnOptions> {\n    return adaptor;\n  }\n}\n","import { theme, animation, annotation, tooltip, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { meta } from '../tiny-area/adaptor';\nimport { TinyColumnOptions } from './types';\n\nexport { meta };\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TinyColumnOptions>): Params<TinyColumnOptions> {\n  const { chart, options } = params;\n  const { data, color, columnStyle, columnWidthRatio } = options;\n\n  const seriesData = getTinyData(data);\n\n  chart.data(seriesData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: columnStyle,\n        color,\n      },\n    },\n  });\n  interval(p);\n\n  chart.axis(false);\n  chart.legend(false);\n  chart.interaction('element-active');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TinyColumnOptions>) {\n  return flow(theme, pattern('columnStyle'), geometry, meta, tooltip, animation, annotation())(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getTinyData } from '../tiny-line/utils';\nimport { TinyAreaOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { TinyAreaOptions };\n\nexport class TinyArea extends Plot<TinyAreaOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<TinyAreaOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'tiny-area';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: TinyAreaOptions['data']) {\n    this.updateOption({ data });\n    const { chart, options } = this;\n    meta({ chart, options });\n    chart.changeData(getTinyData(data));\n  }\n\n  protected getDefaultOptions() {\n    return TinyArea.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<TinyAreaOptions> {\n    return adaptor;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { HistogramOptions };\n\nexport class Histogram extends Plot<HistogramOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<HistogramOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'histogram';\n\n  public changeData(data: HistogramOptions['data']) {\n    this.updateOption({ data });\n\n    const { binField, binNumber, binWidth, stackField } = this.options;\n    this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return Histogram.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HistogramOptions> {\n    return adaptor;\n  }\n}\n","import { clone, sortBy, valuesOfKey, getRange, each, hasKey, groupBy, isEmpty } from '@antv/util';\nimport { Data } from '../../types';\n\ntype StatisticData = {\n  range: Array<number>;\n  count: number;\n};\ntype StatisticBin = {\n  [key: string]: StatisticData;\n};\n\n//  range\nfunction getBinKey(value: number, binWidth: number, binNumber?: number): [number, number] {\n  // \n  if (binNumber === 1) {\n    return [0, binWidth];\n  }\n  const index = Math.floor(value / binWidth);\n  return [binWidth * index, binWidth * (index + 1)];\n}\n\n//  sturges \nfunction sturges(values: Array<number>): number {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data: Data, binField: string, binWidth: number, binNumber?: number, stackField?: string) {\n  const originData_copy = clone(data);\n\n  //  binField \n  sortBy(originData_copy, binField);\n\n  //  binField  range\n  const values = valuesOfKey(originData_copy, binField);\n  const range = getRange(values);\n  const rangeWidth = range.max - range.min;\n\n  //  binWidth binNumber  binWidth \n  let _binWidth = binWidth;\n  if (!binWidth && binNumber) {\n    _binWidth = binNumber > 1 ? rangeWidth / (binNumber - 1) : range.max;\n  }\n  //  binWidth  binNumber  Sturges formula  binWidth\n  if (!binWidth && !binNumber) {\n    const _defaultBinNumber = sturges(values);\n    _binWidth = rangeWidth / _defaultBinNumber;\n  }\n  //  key - StatisticData \n  const bins: StatisticBin = {};\n  const groups = groupBy(originData_copy, stackField);\n  //  stackField \n  if (isEmpty(groups)) {\n    each(originData_copy, (data: any) => {\n      const value = data[binField];\n      const bin = getBinKey(value, _binWidth, binNumber);\n      const binKey = `${bin[0]}-${bin[1]}`;\n      if (!hasKey(bins, binKey)) {\n        bins[binKey] = { range: bin, count: 0 };\n      }\n      bins[binKey].count += 1;\n    });\n  } else {\n    Object.keys(groups).forEach((groupKey: string) => {\n      each(groups[groupKey], (data: any) => {\n        const value = data[binField];\n        const bin = getBinKey(value, _binWidth, binNumber);\n        const binKey = `${bin[0]}-${bin[1]}`;\n        const groupKeyBinKey = `${binKey}-${groupKey}`;\n        if (!hasKey(bins, groupKeyBinKey)) {\n          bins[groupKeyBinKey] = { range: bin, count: 0 };\n          bins[groupKeyBinKey][stackField] = groupKey;\n        }\n        bins[groupKeyBinKey].count += 1;\n      });\n    });\n  }\n  //  plotData \n  const plotData: Array<StatisticData> = [];\n  each(bins, (bin: StatisticData) => {\n    plotData.push(bin);\n  });\n  return plotData;\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { findGeometry, deepAssign } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { HistogramOptions } from './types';\nimport { HISTOGRAM_X_FIELD, HISTOGRAM_Y_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { data, binField, binNumber, binWidth, color, stackField, legend, columnStyle } = options;\n\n  // \n  const plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n\n  chart.data(plotData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: HISTOGRAM_X_FIELD,\n      yField: HISTOGRAM_Y_FIELD,\n      seriesField: stackField,\n      isStack: true,\n      interval: {\n        color,\n        style: columnStyle,\n      },\n    },\n  });\n\n  interval(p);\n\n  // \n  if (legend && stackField) {\n    chart.legend(stackField, legend);\n  }\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { options } = params;\n  const { xAxis, yAxis } = options;\n\n  return flow(\n    scale({\n      [HISTOGRAM_X_FIELD]: xAxis,\n      [HISTOGRAM_Y_FIELD]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(HISTOGRAM_X_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(HISTOGRAM_Y_FIELD, false);\n  } else {\n    chart.axis(HISTOGRAM_Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<HistogramOptions>): Params<HistogramOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [HISTOGRAM_Y_FIELD],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HistogramOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('columnStyle'),\n    geometry,\n    meta,\n    axis,\n    state,\n    label,\n    tooltip,\n    interaction,\n    animation\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**  xField */\nexport const HISTOGRAM_X_FIELD = 'range';\n/**  yField */\nexport const HISTOGRAM_Y_FIELD = 'count';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnStyle: {\n    stroke: '#FFFFFF',\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ProgressOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getProgressData } from './utils';\n\nexport type { ProgressOptions };\n\nexport class Progress extends Plot<ProgressOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.updateOption({ percent });\n    this.chart.changeData(getProgressData(percent));\n  }\n\n  protected getDefaultOptions() {\n    return Progress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ProgressOptions> {\n    return adaptor;\n  }\n}\n","export const DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  color: DEFAULT_COLOR,\n  animation: {},\n};\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { getProgressData } from '../progress/utils';\nimport { RingProgressOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n\nexport type { RingProgressOptions };\n\nexport class RingProgress extends Plot<RingProgressOptions> {\n  /**\n   * \n   * \n   */\n  static getDefaultOptions(): Partial<RingProgressOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'ring-process';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getProgressData(percent));\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return RingProgress.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RingProgressOptions> {\n    return adaptor;\n  }\n}\n","import { get, isNil } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, renderStatistic } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { geometry } from '../progress/adaptor';\nimport { RingProgressOptions } from './types';\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RingProgressOptions>): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius } = options;\n\n  // coordinate\n  chart.coordinate('theta', {\n    innerRadius,\n    radius,\n  });\n\n  return params;\n}\n\n/**\n * statistic \n * @param params\n */\nexport function statistic(params: Params<RingProgressOptions>, updated?: boolean): Params<RingProgressOptions> {\n  const { chart, options } = params;\n  const { innerRadius, statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  /**   */\n  if (innerRadius && statistic) {\n    const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n    let contentOpt = statistic.content;\n    if (contentOpt) {\n      contentOpt = deepAssign({}, contentOpt, {\n        content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n      });\n    }\n    renderStatistic(\n      chart,\n      { statistic: { ...statistic, content: contentOpt }, plotType: 'ring-progress' },\n      { percent }\n    );\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RingProgressOptions>) {\n  return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n","import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\nimport { BoxOptions } from './types';\n\n/**\n * @desc  box ,yField,datadata,data\n * @param data\n * @param yField\n */\nexport const transformData = (data: BoxOptions['data'], yField: BoxOptions['yField']) => {\n  let newData = data;\n  // formate data when `yField` is Array\n  if (Array.isArray(yField)) {\n    const [low, q1, median, q3, high] = yField;\n    newData = map(data, (obj) => {\n      obj[BOX_RANGE] = [obj[low], obj[q1], obj[median], obj[q3], obj[high]];\n      return obj;\n    });\n  }\n\n  return newData;\n};\n","import { groupBy, min, max } from '@antv/util';\nimport pdf from 'pdfast';\nimport { quantile } from '../../utils/transform/quantile';\nimport { ViolinOptions } from './types';\n\nexport type ViolinData = {\n  /** X */\n  x: string;\n\n  /**  size  */\n  violinSize: number[];\n  /**  y  */\n  violinY: number[];\n\n  // \n  /**  */\n  high: number;\n  /**  */\n  low: number;\n  /**  */\n  q1: number;\n  /**  */\n  q3: number;\n  /**  */\n  median: number[];\n\n  /**  */\n  minMax: number[];\n  /**  */\n  quantile: number[];\n};\n\nexport type PdfOptions = {\n  min: number;\n  max: number;\n  size: number;\n  width: number;\n};\n\nexport const toBoxValue = (values: number[]) => {\n  return {\n    low: min(values),\n    high: max(values),\n    q1: quantile(values, 0.25),\n    q3: quantile(values, 0.75),\n    median: quantile(values, [0.5]),\n    minMax: [min(values), max(values)],\n    quantile: [quantile(values, 0.25), quantile(values, 0.75)],\n  };\n};\n\nexport const toViolinValue = (values: number[], pdfOptions: PdfOptions) => {\n  const pdfResults: Array<{ x: number; y: number }> = pdf.create(values, pdfOptions);\n  return {\n    violinSize: pdfResults.map((result) => result.y),\n    violinY: pdfResults.map((result) => result.x),\n  };\n};\n\nexport const transformViolinData = (options: ViolinOptions): ViolinData[] => {\n  const { xField, yField, seriesField, data, kde } = options;\n\n  /**  */\n  const pdfOptions: PdfOptions = {\n    min: kde.min,\n    max: kde.max,\n    size: kde.sampleSize,\n    width: kde.width,\n  };\n\n  // \n  if (!seriesField) {\n    const group = groupBy(data, xField);\n    return Object.keys(group).map((x) => {\n      const records = group[x];\n      const values = records.map((record) => record[yField]);\n      return {\n        x,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      };\n    });\n  }\n\n  // \n  const resultList: ViolinData[] = [];\n  const seriesGroup = groupBy(data, seriesField);\n  Object.keys(seriesGroup).forEach((series) => {\n    const group = groupBy(seriesGroup[series], xField);\n    return Object.keys(group).forEach((key) => {\n      const records = group[key];\n      const values = records.map((record) => record[yField]);\n      resultList.push({\n        x: key,\n        [seriesField]: series,\n        ...toViolinValue(values, pdfOptions),\n        ...toBoxValue(values),\n      });\n    });\n  });\n  return resultList;\n};\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { ViolinOptions } from './types';\n\nexport const X_FIELD = 'x';\nexport const VIOLIN_Y_FIELD = 'violinY';\nexport const VIOLIN_SIZE_FIELD = 'violinSize';\nexport const MIN_MAX_FIELD = 'minMax';\nexport const QUANTILE_FIELD = 'quantile';\nexport const MEDIAN_FIELD = 'median';\n\nexport const VIOLIN_VIEW_ID = 'violin_view';\nexport const MIN_MAX_VIEW_ID = 'min_max_view';\nexport const QUANTILE_VIEW_ID = 'quantile_view';\nexport const MEDIAN_VIEW_ID = 'median_view';\n\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  //  view  view padding \n  syncViewPadding: true,\n  // \n  kde: {\n    type: 'triangular',\n    sampleSize: 32,\n    width: 3,\n  },\n\n  // \n  violinStyle: {\n    lineWidth: 1,\n    fillOpacity: 0.3,\n    strokeOpacity: 0.75,\n  },\n  // \n  xAxis: {\n    grid: {\n      line: null,\n    },\n    tickLine: {\n      alignTick: false,\n    },\n  },\n  yAxis: {\n    grid: {\n      line: {\n        style: {\n          lineWidth: 0.5,\n          lineDash: [4, 4],\n        },\n      },\n    },\n  },\n  // \n  legend: {\n    position: 'top-left',\n  },\n  // Tooltip\n  tooltip: {\n    showMarkers: false,\n  },\n  // \n  // interactions: [{ type: 'active-region' }],\n} as Partial<ViolinOptions>);\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (factory((global.fmin = global.fmin || {})));\n}(this, function (exports) { 'use strict';\n\n    /** finds the zeros of a function, given two starting points (which must\n     * have opposite signs */\n    function bisect(f, a, b, parameters) {\n        parameters = parameters || {};\n        var maxIterations = parameters.maxIterations || 100,\n            tolerance = parameters.tolerance || 1e-10,\n            fA = f(a),\n            fB = f(b),\n            delta = b - a;\n\n        if (fA * fB > 0) {\n            throw \"Initial bisect points must have opposite signs\";\n        }\n\n        if (fA === 0) return a;\n        if (fB === 0) return b;\n\n        for (var i = 0; i < maxIterations; ++i) {\n            delta /= 2;\n            var mid = a + delta,\n                fMid = f(mid);\n\n            if (fMid * fA >= 0) {\n                a = mid;\n            }\n\n            if ((Math.abs(delta) < tolerance) || (fMid === 0)) {\n                return mid;\n            }\n        }\n        return a + delta;\n    }\n\n    // need some basic operations on vectors, rather than adding a dependency,\n    // just define here\n    function zeros(x) { var r = new Array(x); for (var i = 0; i < x; ++i) { r[i] = 0; } return r; }\n    function zerosM(x,y) { return zeros(x).map(function() { return zeros(y); }); }\n\n    function dot(a, b) {\n        var ret = 0;\n        for (var i = 0; i < a.length; ++i) {\n            ret += a[i] * b[i];\n        }\n        return ret;\n    }\n\n    function norm2(a)  {\n        return Math.sqrt(dot(a, a));\n    }\n\n    function scale(ret, value, c) {\n        for (var i = 0; i < value.length; ++i) {\n            ret[i] = value[i] * c;\n        }\n    }\n\n    function weightedSum(ret, w1, v1, w2, v2) {\n        for (var j = 0; j < ret.length; ++j) {\n            ret[j] = w1 * v1[j] + w2 * v2[j];\n        }\n    }\n\n    /** minimizes a function using the downhill simplex method */\n    function nelderMead(f, x0, parameters) {\n        parameters = parameters || {};\n\n        var maxIterations = parameters.maxIterations || x0.length * 200,\n            nonZeroDelta = parameters.nonZeroDelta || 1.05,\n            zeroDelta = parameters.zeroDelta || 0.001,\n            minErrorDelta = parameters.minErrorDelta || 1e-6,\n            minTolerance = parameters.minErrorDelta || 1e-5,\n            rho = (parameters.rho !== undefined) ? parameters.rho : 1,\n            chi = (parameters.chi !== undefined) ? parameters.chi : 2,\n            psi = (parameters.psi !== undefined) ? parameters.psi : -0.5,\n            sigma = (parameters.sigma !== undefined) ? parameters.sigma : 0.5,\n            maxDiff;\n\n        // initialize simplex.\n        var N = x0.length,\n            simplex = new Array(N + 1);\n        simplex[0] = x0;\n        simplex[0].fx = f(x0);\n        simplex[0].id = 0;\n        for (var i = 0; i < N; ++i) {\n            var point = x0.slice();\n            point[i] = point[i] ? point[i] * nonZeroDelta : zeroDelta;\n            simplex[i+1] = point;\n            simplex[i+1].fx = f(point);\n            simplex[i+1].id = i+1;\n        }\n\n        function updateSimplex(value) {\n            for (var i = 0; i < value.length; i++) {\n                simplex[N][i] = value[i];\n            }\n            simplex[N].fx = value.fx;\n        }\n\n        var sortOrder = function(a, b) { return a.fx - b.fx; };\n\n        var centroid = x0.slice(),\n            reflected = x0.slice(),\n            contracted = x0.slice(),\n            expanded = x0.slice();\n\n        for (var iteration = 0; iteration < maxIterations; ++iteration) {\n            simplex.sort(sortOrder);\n\n            if (parameters.history) {\n                // copy the simplex (since later iterations will mutate) and\n                // sort it to have a consistent order between iterations\n                var sortedSimplex = simplex.map(function (x) {\n                    var state = x.slice();\n                    state.fx = x.fx;\n                    state.id = x.id;\n                    return state;\n                });\n                sortedSimplex.sort(function(a,b) { return a.id - b.id; });\n\n                parameters.history.push({x: simplex[0].slice(),\n                                         fx: simplex[0].fx,\n                                         simplex: sortedSimplex});\n            }\n\n            maxDiff = 0;\n            for (i = 0; i < N; ++i) {\n                maxDiff = Math.max(maxDiff, Math.abs(simplex[0][i] - simplex[1][i]));\n            }\n\n            if ((Math.abs(simplex[0].fx - simplex[N].fx) < minErrorDelta) &&\n                (maxDiff < minTolerance)) {\n                break;\n            }\n\n            // compute the centroid of all but the worst point in the simplex\n            for (i = 0; i < N; ++i) {\n                centroid[i] = 0;\n                for (var j = 0; j < N; ++j) {\n                    centroid[i] += simplex[j][i];\n                }\n                centroid[i] /= N;\n            }\n\n            // reflect the worst point past the centroid  and compute loss at reflected\n            // point\n            var worst = simplex[N];\n            weightedSum(reflected, 1+rho, centroid, -rho, worst);\n            reflected.fx = f(reflected);\n\n            // if the reflected point is the best seen, then possibly expand\n            if (reflected.fx < simplex[0].fx) {\n                weightedSum(expanded, 1+chi, centroid, -chi, worst);\n                expanded.fx = f(expanded);\n                if (expanded.fx < reflected.fx) {\n                    updateSimplex(expanded);\n                }  else {\n                    updateSimplex(reflected);\n                }\n            }\n\n            // if the reflected point is worse than the second worst, we need to\n            // contract\n            else if (reflected.fx >= simplex[N-1].fx) {\n                var shouldReduce = false;\n\n                if (reflected.fx > worst.fx) {\n                    // do an inside contraction\n                    weightedSum(contracted, 1+psi, centroid, -psi, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < worst.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                } else {\n                    // do an outside contraction\n                    weightedSum(contracted, 1-psi * rho, centroid, psi*rho, worst);\n                    contracted.fx = f(contracted);\n                    if (contracted.fx < reflected.fx) {\n                        updateSimplex(contracted);\n                    } else {\n                        shouldReduce = true;\n                    }\n                }\n\n                if (shouldReduce) {\n                    // if we don't contract here, we're done\n                    if (sigma >= 1) break;\n\n                    // do a reduction\n                    for (i = 1; i < simplex.length; ++i) {\n                        weightedSum(simplex[i], 1 - sigma, simplex[0], sigma, simplex[i]);\n                        simplex[i].fx = f(simplex[i]);\n                    }\n                }\n            } else {\n                updateSimplex(reflected);\n            }\n        }\n\n        simplex.sort(sortOrder);\n        return {fx : simplex[0].fx,\n                x : simplex[0]};\n    }\n\n    /// searches along line 'pk' for a point that satifies the wolfe conditions\n    /// See 'Numerical Optimization' by Nocedal and Wright p59-60\n    /// f : objective function\n    /// pk : search direction\n    /// current: object containing current gradient/loss\n    /// next: output: contains next gradient/loss\n    /// returns a: step size taken\n    function wolfeLineSearch(f, pk, current, next, a, c1, c2) {\n        var phi0 = current.fx, phiPrime0 = dot(current.fxprime, pk),\n            phi = phi0, phi_old = phi0,\n            phiPrime = phiPrime0,\n            a0 = 0;\n\n        a = a || 1;\n        c1 = c1 || 1e-6;\n        c2 = c2 || 0.1;\n\n        function zoom(a_lo, a_high, phi_lo) {\n            for (var iteration = 0; iteration < 16; ++iteration) {\n                a = (a_lo + a_high)/2;\n                weightedSum(next.x, 1.0, current.x, a, pk);\n                phi = next.fx = f(next.x, next.fxprime);\n                phiPrime = dot(next.fxprime, pk);\n\n                if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                    (phi >= phi_lo)) {\n                    a_high = a;\n\n                } else  {\n                    if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                        return a;\n                    }\n\n                    if (phiPrime * (a_high - a_lo) >=0) {\n                        a_high = a_lo;\n                    }\n\n                    a_lo = a;\n                    phi_lo = phi;\n                }\n            }\n\n            return 0;\n        }\n\n        for (var iteration = 0; iteration < 10; ++iteration) {\n            weightedSum(next.x, 1.0, current.x, a, pk);\n            phi = next.fx = f(next.x, next.fxprime);\n            phiPrime = dot(next.fxprime, pk);\n            if ((phi > (phi0 + c1 * a * phiPrime0)) ||\n                (iteration && (phi >= phi_old))) {\n                return zoom(a0, a, phi_old);\n            }\n\n            if (Math.abs(phiPrime) <= -c2 * phiPrime0) {\n                return a;\n            }\n\n            if (phiPrime >= 0 ) {\n                return zoom(a, a0, phi);\n            }\n\n            phi_old = phi;\n            a0 = a;\n            a *= 2;\n        }\n\n        return a;\n    }\n\n    function conjugateGradient(f, initial, params) {\n        // allocate all memory up front here, keep out of the loop for perfomance\n        // reasons\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            yk = initial.slice(),\n            pk, temp,\n            a = 1,\n            maxIterations;\n\n        params = params || {};\n        maxIterations = params.maxIterations || initial.length * 20;\n\n        current.fx = f(current.x, current.fxprime);\n        pk = current.fxprime.slice();\n        scale(pk, current.fxprime,-1);\n\n        for (var i = 0; i < maxIterations; ++i) {\n            a = wolfeLineSearch(f, pk, current, next, a);\n\n            // todo: history in wrong spot?\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     alpha: a});\n            }\n\n            if (!a) {\n                // faiiled to find point that satifies wolfe conditions.\n                // reset direction for next iteration\n                scale(pk, current.fxprime, -1);\n\n            } else {\n                // update direction using PolakRibiere CG method\n                weightedSum(yk, 1, next.fxprime, -1, current.fxprime);\n\n                var delta_k = dot(current.fxprime, current.fxprime),\n                    beta_k = Math.max(0, dot(yk, next.fxprime) / delta_k);\n\n                weightedSum(pk, beta_k, pk, -1, next.fxprime);\n\n                temp = current;\n                current = next;\n                next = temp;\n            }\n\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        if (params.history) {\n            params.history.push({x: current.x.slice(),\n                                 fx: current.fx,\n                                 fxprime: current.fxprime.slice(),\n                                 alpha: a});\n        }\n\n        return current;\n    }\n\n    function gradientDescent(f, initial, params) {\n        params = params || {};\n        var maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 0.001,\n            current = {x: initial.slice(), fx: 0, fxprime: initial.slice()};\n\n        for (var i = 0; i < maxIterations; ++i) {\n            current.fx = f(current.x, current.fxprime);\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice()});\n            }\n\n            weightedSum(current.x, 1, current.x, -learnRate, current.fxprime);\n            if (norm2(current.fxprime) <= 1e-5) {\n                break;\n            }\n        }\n\n        return current;\n    }\n\n    function gradientDescentLineSearch(f, initial, params) {\n        params = params || {};\n        var current = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            next = {x: initial.slice(), fx: 0, fxprime: initial.slice()},\n            maxIterations = params.maxIterations || initial.length * 100,\n            learnRate = params.learnRate || 1,\n            pk = initial.slice(),\n            c1 = params.c1 || 1e-3,\n            c2 = params.c2 || 0.1,\n            temp,\n            functionCalls = [];\n\n        if (params.history) {\n            // wrap the function call to track linesearch samples\n            var inner = f;\n            f = function(x, fxprime) {\n                functionCalls.push(x.slice());\n                return inner(x, fxprime);\n            };\n        }\n\n        current.fx = f(current.x, current.fxprime);\n        for (var i = 0; i < maxIterations; ++i) {\n            scale(pk, current.fxprime, -1);\n            learnRate = wolfeLineSearch(f, pk, current, next, learnRate, c1, c2);\n\n            if (params.history) {\n                params.history.push({x: current.x.slice(),\n                                     fx: current.fx,\n                                     fxprime: current.fxprime.slice(),\n                                     functionCalls: functionCalls,\n                                     learnRate: learnRate,\n                                     alpha: learnRate});\n                functionCalls = [];\n            }\n\n\n            temp = current;\n            current = next;\n            next = temp;\n\n            if ((learnRate === 0) || (norm2(current.fxprime) < 1e-5)) break;\n        }\n\n        return current;\n    }\n\n    exports.bisect = bisect;\n    exports.nelderMead = nelderMead;\n    exports.conjugateGradient = conjugateGradient;\n    exports.gradientDescent = gradientDescent;\n    exports.gradientDescentLineSearch = gradientDescentLineSearch;\n    exports.zeros = zeros;\n    exports.zerosM = zerosM;\n    exports.norm2 = norm2;\n    exports.weightedSum = weightedSum;\n    exports.scale = scale;\n\n}));","const SMALL = 1e-10;\n\n/** Returns the intersection area of a bunch of circles (where each circle\n is an object having an x,y and radius property) */\nexport function intersectionArea(circles, stats?: any) {\n  // get all the intersection points of the circles\n  const intersectionPoints = getIntersectionPoints(circles);\n\n  // filter out points that aren't included in all the circles\n  const innerPoints = intersectionPoints.filter(function (p) {\n    return containedInCircles(p, circles);\n  });\n\n  let arcArea = 0,\n    polygonArea = 0,\n    i;\n  const arcs = [];\n  // if we have intersection points that are within all the circles,\n  // then figure out the area contained by them\n  if (innerPoints.length > 1) {\n    // sort the points by angle from the center of the polygon, which lets\n    // us just iterate over points to get the edges\n    const center = getCenter(innerPoints);\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p = innerPoints[i];\n      p.angle = Math.atan2(p.x - center.x, p.y - center.y);\n    }\n    innerPoints.sort(function (a, b) {\n      return b.angle - a.angle;\n    });\n\n    // iterate over all points, get arc between the points\n    // and update the areas\n    let p2 = innerPoints[innerPoints.length - 1];\n    for (i = 0; i < innerPoints.length; ++i) {\n      const p1 = innerPoints[i];\n\n      // polygon area updates easily ...\n      polygonArea += (p2.x + p1.x) * (p1.y - p2.y);\n\n      // updating the arc area is a little more involved\n      const midPoint = { x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 };\n      let arc = null;\n\n      for (let j = 0; j < p1.parentIndex.length; ++j) {\n        if (p2.parentIndex.indexOf(p1.parentIndex[j]) > -1) {\n          // figure out the angle halfway between the two points\n          // on the current circle\n          const circle = circles[p1.parentIndex[j]],\n            a1 = Math.atan2(p1.x - circle.x, p1.y - circle.y),\n            a2 = Math.atan2(p2.x - circle.x, p2.y - circle.y);\n\n          let angleDiff = a2 - a1;\n          if (angleDiff < 0) {\n            angleDiff += 2 * Math.PI;\n          }\n\n          // and use that angle to figure out the width of the\n          // arc\n          const a = a2 - angleDiff / 2;\n          let width = distance(midPoint, {\n            x: circle.x + circle.radius * Math.sin(a),\n            y: circle.y + circle.radius * Math.cos(a),\n          });\n\n          // clamp the width to the largest is can actually be\n          // (sometimes slightly overflows because of FP errors)\n          if (width > circle.radius * 2) {\n            width = circle.radius * 2;\n          }\n\n          // pick the circle whose arc has the smallest width\n          if (arc === null || arc.width > width) {\n            arc = { circle: circle, width: width, p1: p1, p2: p2 };\n          }\n        }\n      }\n\n      if (arc !== null) {\n        arcs.push(arc);\n        arcArea += circleArea(arc.circle.radius, arc.width);\n        p2 = p1;\n      }\n    }\n  } else {\n    // no intersection points, is either disjoint - or is completely\n    // overlapped. figure out which by examining the smallest circle\n    let smallest = circles[0];\n    for (i = 1; i < circles.length; ++i) {\n      if (circles[i].radius < smallest.radius) {\n        smallest = circles[i];\n      }\n    }\n\n    // make sure the smallest circle is completely contained in all\n    // the other circles\n    let disjoint = false;\n    for (i = 0; i < circles.length; ++i) {\n      if (distance(circles[i], smallest) > Math.abs(smallest.radius - circles[i].radius)) {\n        disjoint = true;\n        break;\n      }\n    }\n\n    if (disjoint) {\n      arcArea = polygonArea = 0;\n    } else {\n      arcArea = smallest.radius * smallest.radius * Math.PI;\n      arcs.push({\n        circle: smallest,\n        p1: { x: smallest.x, y: smallest.y + smallest.radius },\n        p2: { x: smallest.x - SMALL, y: smallest.y + smallest.radius },\n        width: smallest.radius * 2,\n      });\n    }\n  }\n\n  polygonArea /= 2;\n  if (stats) {\n    stats.area = arcArea + polygonArea;\n    stats.arcArea = arcArea;\n    stats.polygonArea = polygonArea;\n    stats.arcs = arcs;\n    stats.innerPoints = innerPoints;\n    stats.intersectionPoints = intersectionPoints;\n  }\n\n  return arcArea + polygonArea;\n}\n\n/** returns whether a point is contained by all of a list of circles */\nexport function containedInCircles(point, circles) {\n  for (let i = 0; i < circles.length; ++i) {\n    if (distance(point, circles[i]) > circles[i].radius + SMALL) {\n      return false;\n    }\n  }\n  return true;\n}\n\n/** Gets all intersection points between a bunch of circles */\nfunction getIntersectionPoints(circles) {\n  const ret = [];\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const intersect = circleCircleIntersection(circles[i], circles[j]);\n      for (let k = 0; k < intersect.length; ++k) {\n        const p: any = intersect[k];\n        p.parentIndex = [i, j];\n        ret.push(p);\n      }\n    }\n  }\n  return ret;\n}\n\n/** Circular segment area calculation. See http://mathworld.wolfram.com/CircularSegment.html */\nexport function circleArea(r, width) {\n  return r * r * Math.acos(1 - width / r) - (r - width) * Math.sqrt(width * (2 * r - width));\n}\n\n/** euclidean distance between two points */\nexport function distance(p1, p2) {\n  return Math.sqrt((p1.x - p2.x) * (p1.x - p2.x) + (p1.y - p2.y) * (p1.y - p2.y));\n}\n\n/** Returns the overlap area of two circles of radius r1 and r2 - that\nhave their centers separated by distance d. Simpler faster\ncircle intersection for only two circles */\nexport function circleOverlap(r1, r2, d) {\n  // no overlap\n  if (d >= r1 + r2) {\n    return 0;\n  }\n\n  // completely overlapped\n  if (d <= Math.abs(r1 - r2)) {\n    return Math.PI * Math.min(r1, r2) * Math.min(r1, r2);\n  }\n\n  const w1 = r1 - (d * d - r2 * r2 + r1 * r1) / (2 * d),\n    w2 = r2 - (d * d - r1 * r1 + r2 * r2) / (2 * d);\n  return circleArea(r1, w1) + circleArea(r2, w2);\n}\n\n/** Given two circles (containing a x/y/radius attributes),\nreturns the intersecting points if possible.\nnote: doesn't handle cases where there are infinitely many\nintersection points (circles are equivalent):, or only one intersection point*/\nexport function circleCircleIntersection(p1, p2) {\n  const d = distance(p1, p2),\n    r1 = p1.radius,\n    r2 = p2.radius;\n\n  // if to far away, or self contained - can't be done\n  if (d >= r1 + r2 || d <= Math.abs(r1 - r2)) {\n    return [];\n  }\n\n  const a = (r1 * r1 - r2 * r2 + d * d) / (2 * d),\n    h = Math.sqrt(r1 * r1 - a * a),\n    x0 = p1.x + (a * (p2.x - p1.x)) / d,\n    y0 = p1.y + (a * (p2.y - p1.y)) / d,\n    rx = -(p2.y - p1.y) * (h / d),\n    ry = -(p2.x - p1.x) * (h / d);\n\n  return [\n    { x: x0 + rx, y: y0 - ry },\n    { x: x0 - rx, y: y0 + ry },\n  ];\n}\n\n/** Returns the center of a bunch of points */\nexport function getCenter(points) {\n  const center = { x: 0, y: 0 };\n  for (let i = 0; i < points.length; ++i) {\n    center.x += points[i].x;\n    center.y += points[i].y;\n  }\n  center.x /= points.length;\n  center.y /= points.length;\n  return center;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StockOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { getStockData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { StockOptions };\n\nexport class Stock extends Plot<StockOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<StockOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'stock';\n\n  /**\n   * \n   *  g2/g2plot    -->         -->          -->      \n   */\n  protected getDefaultOptions(): Partial<StockOptions> {\n    return Stock.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<StockOptions> {\n    return adaptor;\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: StockOptions['data']) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n    this.chart.changeData(getStockData(data, yField));\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, annotation, slider } from '../../adaptor/common';\nimport { schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\n\nimport { Y_FIELD, TREND_FIELD, TREND_UP, TREND_DOWN } from './constant';\nimport { StockOptions } from './types';\nimport { getStockData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { yField } = options;\n\n  const { data, risingFill, fallingFill, tooltip, stockStyle } = options;\n\n  chart.data(getStockData(data, yField));\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: yField }, tooltipOptions);\n  }\n\n  schema(\n    deepAssign({}, params, {\n      options: {\n        schema: {\n          shape: 'candle',\n          color: [risingFill, fallingFill],\n          style: stockStyle,\n        },\n        yField: Y_FIELD,\n        seriesField: TREND_FIELD,\n        rawFields: yField,\n        tooltip: tooltipOptions,\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField } = options;\n\n  const baseMeta = {\n    [xField]: {\n      type: 'timeCat',\n      tickCount: 6,\n    },\n    [TREND_FIELD]: {\n      values: [TREND_UP, TREND_DOWN],\n    },\n  };\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [Y_FIELD]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip(tooltip);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<StockOptions>): Params<StockOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend) {\n    chart.legend(TREND_FIELD, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * K\n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<StockOptions>) {\n  // flow  G2 API\n  flow(theme, geometry, meta, axis, tooltip, legend, interaction, animation, annotation(), slider)(params);\n}\n","import { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n\n/**\n * @desc \n * @param data\n * @param yField\n */\nexport function getStockData(data, yField) {\n  return map(data, (obj) => {\n    if (isArray(yField)) {\n      const [open, close, high, low] = yField;\n      obj[TREND_FIELD] = obj[open] <= obj[close] ? TREND_UP : TREND_DOWN;\n      obj[Y_FIELD] = [obj[open], obj[close], obj[high], obj[low]];\n    }\n    return obj;\n  });\n}\n","import { each } from '@antv/util';\nimport { Element } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { StateName, StateCondition, StateObject } from '../..';\nimport { getAllElementsRecursively } from '../../utils';\nimport { FunnelOptions } from './types';\nimport { adaptor } from './adaptor';\nimport {\n  DEFAULT_OPTIONS,\n  FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD,\n  FUNNEL_PERCENT,\n  FUNNEL_TOTAL_PERCENT,\n} from './constant';\n\nexport type { FunnelOptions };\n\nexport { FUNNEL_CONVERSATION_FIELD };\n\nexport class Funnel extends Plot<FunnelOptions> {\n  /**  */\n  public type: string = 'funnel';\n\n  static getDefaultOptions(): Partial<FunnelOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  // \n  /**    */\n  static CONVERSATION_FIELD = FUNNEL_CONVERSATION_FIELD;\n  /**    */\n  static PERCENT_FIELD = FUNNEL_PERCENT;\n  /**    */\n  static TOTAL_PERCENT_FIELD = FUNNEL_TOTAL_PERCENT;\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<FunnelOptions> {\n    //  defaultOption  core.getDefaultOptions funnel  defaulOption  adaptor  defaultOption \n    return Funnel.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FunnelOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   * @param type  'active' | 'inactive' | 'selected' \n   * @param conditions \n   * @param status  true\n   */\n  public setState(type: StateName, condition: StateCondition, status: boolean = true) {\n    const elements = getAllElementsRecursively(this.chart);\n\n    each(elements, (ele: Element) => {\n      if (condition(ele.getData())) {\n        ele.setState(type, status);\n      }\n    });\n  }\n\n  /**\n   * \n   */\n  public getStates(): StateObject[] {\n    const elements = getAllElementsRecursively(this.chart);\n\n    const stateObjects: StateObject[] = [];\n    each(elements, (element: Element) => {\n      const data = element.getData();\n      const states = element.getStates();\n      each(states, (state) => {\n        stateObjects.push({ data, state, geometry: element.geometry, element });\n      });\n    });\n\n    return stateObjects;\n  }\n}\n","import { isFunction, clone } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, scale, annotation, tooltip } from '../../adaptor/common';\nimport { getLocale } from '../../core/locale';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { FunnelOptions } from './types';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { facetFunnel } from './geometries/facet';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT } from './constant';\n\n/**\n *\n * geometry,\n * 1. interval.shape('funnel')\n * 2. \n * 3. polypon\n * 4.  + list \n* /\n\n/**\n * options \n * @param params\n */\nfunction defaultOptions(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, xField, yField, locale, funnelStyle, data } = options;\n  const i18n = getLocale(locale);\n\n  const defaultOption = {\n    label: compareField\n      ? {\n          fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          formatter: (datum) => `${datum[yField]}`,\n        }\n      : {\n          fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n          offset: 0,\n          position: 'middle',\n          formatter: (datum) => `${datum[xField]} ${datum[yField]}`,\n        },\n    tooltip: {\n      title: xField,\n      formatter: (datum) => {\n        return { name: datum[xField], value: datum[yField] };\n      },\n    },\n    conversionTag: {\n      // conversionTag \n      formatter: (datum) =>\n        `${i18n.get(['conversionTag', 'label'])}: ${conversionTagFormatter(\n          ...(datum[FUNNEL_CONVERSATION] as [number, number])\n        )}`,\n    },\n  };\n\n  // \n  let style;\n  if (compareField || funnelStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        // \n        compareField && { lineWidth: 1, stroke: '#fff' },\n        isFunction(funnelStyle) ? funnelStyle(datum) : funnelStyle\n      );\n    };\n  }\n\n  return deepAssign({ options: defaultOption }, params, { options: { funnelStyle: style, data: clone(data) } });\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { compareField, dynamicHeight, seriesField } = options;\n  if (seriesField) {\n    return facetFunnel(params);\n  }\n  if (compareField) {\n    return compareFunnel(params);\n  }\n  if (dynamicHeight) {\n    return dynamicHeightFunnel(params);\n  }\n\n  return basicFunnel(params);\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    chart.legend(legend);\n    // TODO FIX: legend-click \n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FunnelOptions>) {\n  return flow(\n    defaultOptions,\n    geometry,\n    meta,\n    axis,\n    tooltip,\n    interaction,\n    legend,\n    animation,\n    theme,\n    annotation()\n  )(params);\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, findGeometry } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField, maxSize, minSize } = options;\n  const formatData = transformData(data, data, {\n    yField,\n    maxSize,\n    minSize,\n  });\n\n  // \n  chart.data(formatData);\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, shape = 'funnel', funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n\n  baseGeometry({\n    chart,\n    options: {\n      type: 'interval',\n      xField: xField,\n      yField: FUNNEL_MAPPING_VALUE,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      mapping: {\n        shape,\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n      label,\n      state,\n    },\n  });\n\n  const geo = findGeometry(params.chart, 'interval');\n  geo.adjust('symmetric');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { options } = params;\n  const { maxSize } = options;\n\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    const percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n    return {\n      ...initLineOption,\n      start: [datumIndex - 0.5, percent],\n      end: [datumIndex - 0.5, percent + 0.05],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function basicFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","const CAT_VALUE = 'liquid';\n\n/**\n * \n */\nexport function getLiquidData(percent: number) {\n  return [{ percent, type: CAT_VALUE }];\n}\n","import { registerShape } from '@antv/g2';\nimport { IGroup, IShape } from '@antv/g-base';\nimport { reduce, isNumber, mix } from '@antv/util';\nimport { transform } from '../../../utils/matrix';\nimport { Point, ShapeStyle } from '../../../types';\nimport { LiquidOptions, CustomInfo } from '../types';\n\nconst DURATION = 5000;\n\n/**\n * \n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min: number, max: number, factor: number) {\n  return min + (max - min) * factor;\n}\n\n/**\n *  attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg: ShapeStyle) {\n  const attrs = { opacity: 1, ...cfg.style };\n\n  if (cfg.color && !attrs.fill) {\n    attrs.fill = cfg.color;\n  }\n\n  return attrs;\n}\n\n/**\n * shape  attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg: ShapeStyle) {\n  const defaultAttrs = {\n    fill: '#fff',\n    fillOpacity: 0,\n    lineWidth: 4,\n  };\n  const attrs = mix({}, defaultAttrs, cfg.style);\n\n  if (cfg.color && !attrs.stroke) {\n    attrs.stroke = cfg.color;\n  }\n  if (isNumber(cfg.opacity)) {\n    attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n  }\n\n  return attrs;\n}\n\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \n */\nfunction getWaterWavePositions(x: number, stage: number, waveLength: number, amplitude: number) {\n  if (stage === 0) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n      [x + waveLength / 4, amplitude],\n    ];\n  }\n  if (stage === 1) {\n    return [\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n      [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n      [x + waveLength / 4, 0],\n    ];\n  }\n  if (stage === 2) {\n    return [\n      [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n      [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n      [x + waveLength / 4, -amplitude],\n    ];\n  }\n  return [\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n    [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n    [x + waveLength / 4, 0],\n  ];\n}\n/**\n * \n * @param radius          \n * @param waterLevel      \n * @param waveLength      \n * @param phase           \n * @param amplitude       \n * @param cx              x\n * @param cy              y\n * @return path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(\n  radius: number,\n  waterLevel: number,\n  waveLength: number,\n  phase: number,\n  amplitude: number,\n  cx: number,\n  cy: number\n) {\n  const curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n  const path = [];\n  let _phase = phase;\n\n  // map phase to [-Math.PI * 2, 0]\n  while (_phase < -Math.PI * 2) {\n    _phase += Math.PI * 2;\n  }\n  while (_phase > 0) {\n    _phase -= Math.PI * 2;\n  }\n  _phase = (_phase / Math.PI / 2) * waveLength;\n\n  const left = cx - radius + _phase - radius * 2;\n  /**\n   * top-left corner as start point\n   *\n   * draws this point\n   *  |\n   * \\|/\n   *  ~~~~~~~~\n   *  |      |\n   *  +------+\n   */\n  path.push(['M', left, waterLevel]);\n\n  /**\n   * top wave\n   *\n   * ~~~~~~~~ <- draws this sine wave\n   * |      |\n   * +------+\n   */\n  let waveRight = 0;\n  for (let c = 0; c < curves; ++c) {\n    const stage = c % 4;\n    const pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n    path.push([\n      'C',\n      pos[0][0] + left,\n      -pos[0][1] + waterLevel,\n      pos[1][0] + left,\n      -pos[1][1] + waterLevel,\n      pos[2][0] + left,\n      -pos[2][1] + waterLevel,\n    ]);\n\n    if (c === curves - 1) {\n      waveRight = pos[2][0];\n    }\n  }\n\n  /**\n   * top-right corner\n   *\n   *                       ~~~~~~~~\n   * 3. draws this line -> |      | <- 1. draws this line\n   *                       +------+\n   *                          ^\n   *                          |\n   *                  2. draws this line\n   */\n  path.push(['L', waveRight + left, cy + radius]);\n  path.push(['L', left, cy + radius]);\n  path.push(['Z']);\n  // path.push(['L', left, waterLevel]);\n  return path;\n}\n\n/**\n * \n * @param x           x\n * @param y           y\n * @param level        01\n * @param waveCount   \n * @param waveAttrs      \n * @param group       \n * @param clip        \n * @param radius      \n * @param waveLength  \n */\nexport function addWaterWave(\n  x: number,\n  y: number,\n  level: number,\n  waveCount: number,\n  waveAttrs: ShapeStyle,\n  group: IGroup,\n  clip: IShape,\n  radius: number,\n  waveLength: number,\n  animation: LiquidOptions['animation']\n) {\n  //   \n  const { fill, opacity } = waveAttrs;\n  const bbox = clip.getBBox();\n  const width = bbox.maxX - bbox.minX;\n  const height = bbox.maxY - bbox.minY;\n\n  //  waveCount \n  for (let idx = 0; idx < waveCount; idx++) {\n    const factor = waveCount <= 1 ? 0 : idx / (waveCount - 1);\n\n    // \n    const wave = group.addShape('path', {\n      name: `waterwave-path`,\n      attrs: {\n        // \n        path: getWaterWavePath(\n          radius,\n          bbox.minY + height * level,\n          waveLength,\n          0,\n          width / 32, // \n          x,\n          y\n        ),\n        fill,\n        opacity: lerp(0.2, 0.9, factor) * opacity,\n      },\n    });\n\n    try {\n      //  underfind \n      if (animation === false) return;\n      const matrix = transform([['t', waveLength, 0]]);\n\n      wave.stopAnimate();\n      wave.animate(\n        { matrix },\n        {\n          duration: lerp(0.5 * DURATION, DURATION, factor),\n          repeat: true,\n        }\n      );\n    } catch (e) {\n      // TODO off-screen canvas  canvas\n      console.warn('off-screen group animate error!');\n    }\n  }\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction pin(x: number, y: number, width: number, height: number) {\n  const w = (width * 2) / 3;\n  const h = Math.max(w, height);\n  const r = w / 2;\n\n  // attrs of the upper circle\n  const cx = x;\n  const cy = r + y - h / 2;\n  const theta = Math.asin(r / ((h - r) * 0.85));\n  const dy = Math.sin(theta) * r;\n  const dx = Math.cos(theta) * r;\n\n  // the start point of the path\n  const x0 = cx - dx;\n  const y0 = cy + dy;\n\n  // control point\n  const cpX = x;\n  const cpY = cy + r / Math.sin(theta);\n\n  return `\n      M ${x0} ${y0}\n      A ${r} ${r} 0 1 1 ${x0 + dx * 2} ${y0}\n      Q ${cpX} ${cpY} ${x} ${y + h / 2}\n      Q ${cpX} ${cpY} ${x0} ${y0}\n      Z \n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction circle(x: number, y: number, width: number, height: number) {\n  const rx = width / 2;\n  const ry = height / 2;\n  return `\n      M ${x} ${y - ry} \n      a ${rx} ${ry} 0 1 0 0 ${ry * 2}\n      a ${rx} ${ry} 0 1 0 0 ${-ry * 2}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction diamond(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y}\n      L ${x} ${y + h}\n      L ${x - w} ${y}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction triangle(x: number, y: number, width: number, height: number) {\n  const h = height / 2;\n  const w = width / 2;\n  return `\n      M ${x} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\n/**\n *\n * @param x  x\n * @param y  y\n * @param width \n * @param height \n */\nfunction rect(x: number, y: number, width: number, height: number) {\n  const GOLDEN_SECTION_RATIO = 0.618;\n  const h = height / 2;\n  const w = (width / 2) * GOLDEN_SECTION_RATIO;\n  return `\n      M ${x - w} ${y - h}\n      L ${x + w} ${y - h}\n      L ${x + w} ${y + h}\n      L ${x - w} ${y + h}\n      Z\n    `;\n}\n\nconst builtInShapeByName = {\n  pin,\n  circle,\n  diamond,\n  triangle,\n  rect,\n};\n\nregisterShape('interval', 'liquid-fill-gauge', {\n  draw(cfg: any, container: IGroup) {\n    const cx = 0.5;\n    const cy = 0.5;\n\n    const { customInfo } = cfg;\n    const { radius: radio, shape, background, animation } = customInfo as CustomInfo;\n    const outline: LiquidOptions['outline'] = customInfo.outline;\n    const wave: LiquidOptions['wave'] = customInfo.wave;\n    const { border, distance } = outline;\n    const { count: waveCount, length: waveLength } = wave;\n\n    //  minX\n    const minX = reduce(\n      cfg.points as Point[],\n      (r: number, p: Point) => {\n        return Math.min(r, p.x);\n      },\n      Infinity\n    );\n\n    const center = this.parsePoint({ x: cx, y: cy });\n    const minXPoint = this.parsePoint({ x: minX, y: cy });\n    const halfWidth = center.x - minXPoint.x;\n\n    //   radius \n    const radius = Math.min(halfWidth, minXPoint.y * radio);\n    const waveAttrs = getFillAttrs(cfg);\n    const outlineAttrs = getLineAttrs(mix({}, cfg, outline));\n    const innerRadius = radius - border / 2;\n\n    const buildPath = typeof shape === 'function' ? shape : builtInShapeByName[shape] || builtInShapeByName['circle'];\n    const shapePath = buildPath(center.x, center.y, innerRadius * 2, innerRadius * 2);\n\n    // 1. \n    const waves = container.addGroup({\n      name: 'waves',\n    });\n\n    // 3.  clip \n    const clipPath = waves.setClip({\n      type: 'path',\n      attrs: {\n        path: shapePath,\n      },\n    });\n\n    // 4. \n    addWaterWave(\n      center.x,\n      center.y,\n      1 - (cfg.points[1] as Point).y,\n      waveCount,\n      waveAttrs,\n      waves,\n      clipPath,\n      radius * 2,\n      waveLength,\n      animation\n    );\n\n    // 2.  distance  border\n    container.addShape('path', {\n      name: 'distance',\n      attrs: {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border + distance * 2,\n        stroke: background === 'transparent' ? '#fff' : background,\n      },\n    });\n\n    // 3.  border  border\n    container.addShape('path', {\n      name: 'wrap',\n      attrs: mix(outlineAttrs, {\n        path: shapePath,\n        fill: 'transparent',\n        lineWidth: border,\n      }),\n    });\n\n    return container;\n  },\n});\n","import { BulletOptions } from './types';\n\ntype TransformData = {\n  min: number;\n  max: number;\n  ds: any[];\n};\n/**\n * bullet \n * @param options\n */\nexport function transformData(options: BulletOptions): TransformData {\n  const { data, xField, measureField, rangeField, targetField, layout } = options;\n  const ds: any[] = [];\n  const scales: number[] = [];\n  data.forEach((item: any, index: number) => {\n    //  title * range\n    item[rangeField].sort((a: number, b: number) => a - b);\n    item[rangeField].forEach((d: number, i: number) => {\n      const range = i === 0 ? d : item[rangeField][i] - item[rangeField][i - 1];\n      ds.push({\n        rKey: `${rangeField}_${i}`,\n        [xField]: xField ? item[xField] : String(index), // xField\n        [rangeField]: range,\n      });\n    });\n    //  title * measure\n    item[measureField].forEach((d: number, i: number) => {\n      ds.push({\n        mKey: item[measureField].length > 1 ? `${measureField}_${i}` : `${measureField}`, // \n        [xField]: xField ? item[xField] : String(index),\n        [measureField]: d,\n      });\n    });\n    //  title * target\n    ds.push({\n      tKey: `${targetField}`,\n      [xField]: xField ? item[xField] : String(index),\n      [targetField]: item[targetField],\n    });\n    // \n    scales.push(item[rangeField], item[measureField], item[targetField]);\n  });\n  // scales \n  let min = Math.min(...scales.flat(Infinity));\n  const max = Math.max(...scales.flat(Infinity));\n  // min  0  0 \n  min = min > 0 ? 0 : min;\n\n  // \n  if (layout === 'vertical') {\n    ds.reverse();\n  }\n  return { min, max, ds };\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { HierarchyOption } from './types';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: HierarchyOption = {\n  field: 'value',\n  tile: 'treemapSquarify', // treemapBinary, treemapDice, treemapSlice, treemapSliceDice, treemapSquarify, treemapResquarify\n  size: [1, 1], // width, height\n  round: false,\n  ignoreParentValue: true,\n  padding: 0,\n  paddingInner: 0,\n  paddingOuter: 0,\n  paddingTop: 0,\n  paddingRight: 0,\n  paddingBottom: 0,\n  paddingLeft: 0,\n  as: ['x', 'y'],\n  // \n  sort: (a, b) => b.value - a.value,\n  // , treemapSquarify \n  ratio: 0.5 * (1 + Math.sqrt(5)),\n};\n\nexport function getTileMethod(tile: string, ratio: number) {\n  return tile === 'treemapSquarify' ? d3Hierarchy[tile].ratio(ratio) : d3Hierarchy[tile];\n}\n\nexport function treemap(data: any, options: HierarchyOption): any[] {\n  options = assign({} as HierarchyOption, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const tileMethod = getTileMethod(options.tile, options.ratio);\n\n  const partition = (data) =>\n    d3Hierarchy\n      .treemap()\n      .tile(tileMethod)\n      .size(options.size)\n      .round(options.round)\n      .padding(options.padding)\n      .paddingInner(options.paddingInner)\n      .paddingOuter(options.paddingOuter)\n      .paddingTop(options.paddingTop)\n      .paddingRight(options.paddingRight)\n      .paddingBottom(options.paddingBottom)\n      .paddingLeft(options.paddingLeft)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * ignoreParentValue  true()  0 + 5 + 5 = 10\n       * ignoreParentValue  false   10 + 5 + 5 = 20\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => (options.ignoreParentValue && d.children ? 0 : d[field]))\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { GaugeOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { INDICATEOR_VIEW_ID, RANGE_VIEW_ID, DEFAULT_OPTIONS } from './constants';\nimport { getIndicatorData, getRangeData } from './utils';\n\n//  shape\nimport './shapes/indicator';\nimport './shapes/meter-gauge';\n\nexport type { GaugeOptions };\n\n/**\n * \n */\nexport class Gauge extends Plot<GaugeOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<GaugeOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'gauge';\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    this.updateOption({ percent });\n    const indicatorView = this.chart.views.find((v) => v.id === INDICATEOR_VIEW_ID);\n    if (indicatorView) {\n      indicatorView.data(getIndicatorData(percent));\n    }\n\n    const rangeView = this.chart.views.find((v) => v.id === RANGE_VIEW_ID);\n    if (rangeView) {\n      rangeView.data(getRangeData(percent, this.options.range));\n    }\n    // todo  G2  afterrender  annotations\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   *  base \n   */\n  protected getDefaultOptions() {\n    return Gauge.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<GaugeOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isString } from '@antv/util';\nimport { interaction, animation, theme, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { RANGE_TYPE, RANGE_VALUE, PERCENT, DEFAULT_COLOR, INDICATEOR_VIEW_ID, RANGE_VIEW_ID } from './constants';\nimport { GaugeOptions } from './types';\nimport { getIndicatorData, getRangeData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { percent, range, radius, innerRadius, startAngle, endAngle, axis, indicator, gaugeStyle, type, meter } =\n    options;\n  const { color, width: rangeWidth } = range;\n\n  //  & \n  // \n  if (indicator) {\n    const indicatorData = getIndicatorData(percent);\n\n    const v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n    v1.data(indicatorData);\n\n    v1.point()\n      .position(`${PERCENT}*1`)\n      .shape(indicator.shape || 'gauge-indicator')\n      //  shape \n      .customInfo({\n        defaultColor: chart.getTheme().defaultColor,\n        indicator,\n      });\n\n    v1.coordinate('polar', {\n      startAngle,\n      endAngle,\n      radius: innerRadius * radius, //  innerRadius * radius =  radius\n    });\n\n    v1.axis(PERCENT, axis);\n    //  scale \n    v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n  }\n\n  //  range\n  // [{ range: 1, type: '0', percent:  }]\n  const rangeData = getRangeData(percent, options.range);\n  const v2 = chart.createView({ id: RANGE_VIEW_ID });\n  v2.data(rangeData);\n\n  const rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n\n  const { ext } = interval({\n    chart: v2,\n    options: {\n      xField: '1',\n      yField: RANGE_VALUE,\n      seriesField: RANGE_TYPE,\n      rawFields: [PERCENT],\n      isStack: true,\n      interval: {\n        color: rangeColor,\n        style: gaugeStyle,\n        shape: type === 'meter' ? 'meter-gauge' : null,\n      },\n      args: {\n        zIndexReversed: true,\n        sortZIndex: true,\n      },\n      minColumnWidth: rangeWidth,\n      maxColumnWidth: rangeWidth,\n    },\n  });\n\n  const geometry = ext.geometry as Geometry;\n  //  shape \n  geometry.customInfo({ meter });\n\n  v2.coordinate('polar', {\n    innerRadius,\n    radius,\n    startAngle,\n    endAngle,\n  }).transpose();\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  return flow(\n    scale({\n      range: {\n        min: 0,\n        max: 1,\n        maxLimit: 1,\n        minLimit: 0,\n      },\n      [PERCENT]: {},\n    })\n  )(params);\n}\n\n/**\n * \n * @param params\n */\nfunction statistic(params: Params<GaugeOptions>, updated?: boolean): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { statistic, percent } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n  if (statistic) {\n    const { content: contentOption } = statistic;\n    let transformContent;\n    //  content \n    if (contentOption) {\n      transformContent = deepAssign(\n        {},\n        {\n          content: `${(percent * 100).toFixed(2)}%`,\n          style: {\n            opacity: 0.75,\n            fontSize: '30px',\n            lineHeight: 1,\n            textAlign: 'center',\n            color: 'rgba(44,53,66,0.85)',\n          },\n        },\n        contentOption\n      );\n    }\n    renderGaugeStatistic(chart, { statistic: { ...statistic, content: transformContent } }, { percent });\n  }\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n */\nfunction tooltip(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip) {\n    chart.tooltip(\n      deepAssign(\n        {\n          showTitle: false,\n          showMarkers: false,\n          containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n          domStyles: {\n            'g2-tooltip': {\n              padding: '4px 8px',\n              fontSize: '10px',\n            },\n          },\n          customContent: (x: string, data: any[]) => {\n            const percent = get(data, [0, 'data', PERCENT], 0);\n            return `${(percent * 100).toFixed(2)}%`;\n          },\n        },\n        tooltip\n      )\n    );\n  } else {\n    //  tooltip\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * other \n * @param params\n */\nfunction other(params: Params<GaugeOptions>): Params<GaugeOptions> {\n  const { chart } = params;\n\n  chart.legend(false);\n\n  return params;\n}\n\n/**\n *  adaptor\n */\nexport { statistic };\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<GaugeOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    // animation  createView  View \n    animation,\n    geometry,\n    meta,\n    tooltip,\n    statistic,\n    interaction,\n    annotation(),\n    other\n    // ...  adaptor flow\n  )(params);\n}\n","import { clamp, get, size } from '@antv/util';\nimport { Data, Datum } from '../../types';\nimport { RANGE_VALUE, RANGE_TYPE, PERCENT } from './constants';\nimport { GaugeOptions, GaugeRangeData } from './types';\n\n/**\n *  range  data \n * @param range\n * @param key\n * @returns {GaugeRangeData}\n */\nexport function processRangeData(range: number[], percent: GaugeOptions['percent']): GaugeRangeData {\n  return (\n    range\n      //  stack \n      .map((r: number, idx: number) => {\n        return { [RANGE_VALUE]: r - (range[idx - 1] || 0), [RANGE_TYPE]: `${idx}`, [PERCENT]: percent };\n      })\n      //  0 \n      .filter((d: Datum) => !!d[RANGE_VALUE])\n  );\n}\n\n/**\n *   \n * @param percent\n */\nexport function getIndicatorData(percent: GaugeOptions['percent']): Data {\n  return [{ [PERCENT]: clamp(percent, 0, 1) }];\n}\n\n/**\n *  \n * @param percent\n * @param range\n */\nexport function getRangeData(percent: GaugeOptions['percent'], range?: GaugeOptions['range']): GaugeRangeData {\n  const ticks = get(range, ['ticks'], []);\n\n  const clampTicks = size(ticks) ? ticks : [0, clamp(percent, 0, 1), 1];\n  return processRangeData(clampTicks as number[], percent);\n}\n","import { isUndefined, isNumber, get, reduce, isObject } from '@antv/util';\nimport { Options } from '../../types';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constant';\n\n/**\n * @desc [start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  newYField: string,\n  total?: false | { label?: string }\n) {\n  const newData = [];\n  reduce(\n    data,\n    (r, d) => {\n      // \n      log(LEVEL.WARN, isNumber(d[yField]), `${d[yField]} is not a valid number`);\n      const value = isUndefined(d[yField]) ? null : d[yField];\n      newData.push({ ...d, [newYField]: [r, r + value] });\n\n      return r + value;\n    },\n    0\n  );\n  // \n  if (newData.length && total) {\n    const sum = get(newData, [[data.length - 1], newYField, [1]]);\n    newData.push({\n      [xField]: total.label,\n      [yField]: sum,\n      [newYField]: [0, sum],\n    });\n  }\n  return newData;\n}\n\n/**\n *   \n */\nexport function transformData(\n  data: Options['data'],\n  xField: string,\n  yField: string,\n  total?: false | { label?: string }\n) {\n  const processed = processData(data, xField, yField, Y_FIELD, total);\n  return processed.map((d, dIdx) => {\n    if (!isObject(d)) {\n      return d;\n    }\n    return {\n      ...d,\n      [ABSOLUTE_FIELD]: d[Y_FIELD][1],\n      [DIFF_FIELD]: d[Y_FIELD][1] - d[Y_FIELD][0],\n      [IS_TOTAL]: dIdx === data.length,\n    };\n  });\n}\n","export const FIRST_AXES_VIEW = 'first-axes-view';\nexport const SECOND_AXES_VIEW = 'second-axes-view';\n/**  key  */\nexport const SERIES_FIELD_KEY = 'series-field-key';\n","import { groupBy } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Datum } from '../../types';\nimport { BidirectionalBarOptions } from './types';\n\ntype TransformData = {\n  [key: string]: string | number;\n}[];\n\n/**\n * bidirectional-bar ,  SERIES_FIELD_KEY \n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(\n  xField: string,\n  yField: string[],\n  seriesField: string,\n  data: Datum,\n  reverse?: boolean\n): Types.Data[] {\n  const hopeData: TransformData = [];\n  yField.forEach((d: string) => {\n    data.forEach((k: any) => {\n      const obj = {\n        [xField]: k[xField],\n        [seriesField]: d,\n        [d]: k[d],\n      };\n      hopeData.push(obj);\n    });\n  });\n  const groupData = Object.values(groupBy(hopeData, seriesField));\n  const [data1 = [], data2 = []] = groupData;\n  return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n\n/**\n * \n * @param layout\n */\nexport function isHorizontal(layout: BidirectionalBarOptions['layout']) {\n  return layout !== 'vertical';\n}\n\n/**\n *  view  padding \n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart: any, views: any, p: any) {\n  const [v1, v2] = views;\n  const p1 = v1.autoPadding;\n  const p2 = v2.autoPadding;\n  const { layout, position } = chart.__axisPosition;\n  //  layout\n  if (isHorizontal(layout) && position === 'top') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position top  v1  0\n     */\n    v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n  }\n  if (isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 right  v1 \n     * position bottom  v1 v1 right = right / 2  v2 left = right / 2\n     * + 5  \n     */\n    v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n    v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n  }\n  if (!isHorizontal(layout) && position === 'bottom') {\n    /**\n     *  v1  left  v2 left  left \n     * position bottom  v1 v1 bottom = bottom / 2  v2 top = bottom / 2\n     * + 5  \n     */\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n    v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n  }\n  // position  top \n  if (!isHorizontal(layout) && position === 'top') {\n    const left = p1.left >= p2.left ? p1.left : p2.left;\n    v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n    v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n  }\n}\n","import { isArray, get } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { Interaction } from '../../types/interaction';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { TreemapOptions } from './types';\n\nexport function findInteraction(\n  interactions: TreemapOptions['interactions'],\n  interactionType: string\n): undefined | Interaction {\n  if (!isArray(interactions)) return undefined;\n  return interactions.find((i) => i.type === interactionType);\n}\n\nexport function enableInteraction(interactions: TreemapOptions['interactions'], interactionType: string): boolean {\n  const interaction = findInteraction(interactions, interactionType);\n  return interaction && interaction.enable !== false;\n}\n\n/**\n * \n * @param interactions\n * @param interactionType\n * @returns\n */\nexport function enableDrillInteraction(options: TreemapOptions): boolean {\n  const { interactions, drilldown } = options;\n  // , treemap-drill-down\n  return get(drilldown, 'enabled') || enableInteraction(interactions, 'treemap-drill-down');\n}\n\nexport function resetDrillDown(chart: View) {\n  const drillDownInteraction = chart.interactions['drill-down'];\n\n  if (!drillDownInteraction) return;\n\n  // @ts-ignore\n  const drillDownAction = drillDownInteraction.context.actions.find((i) => i.name === 'drill-down-action');\n\n  drillDownAction.reset();\n}\n\ninterface TransformDataOptions {\n  data: TreemapOptions['data'];\n  colorField: TreemapOptions['colorField'];\n  enableDrillDown: boolean;\n  hierarchyConfig: TreemapOptions['hierarchyConfig'];\n}\n\nexport function transformData(options: TransformDataOptions) {\n  const { data, colorField, enableDrillDown, hierarchyConfig } = options;\n\n  const nodes = treemap(data, {\n    ...hierarchyConfig,\n    // @ts-ignore\n    type: 'hierarchy.treemap',\n    field: 'value',\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n\n    //  depth === 1 \n    if (enableDrillDown && node.depth !== 1) {\n      return null;\n    }\n\n    // \n    if (!enableDrillDown && node.children) {\n      return null;\n    }\n\n    // path (x, y), ( depth)\n    const curPath = node.ancestors().map((n) => ({\n      data: n.data,\n      height: n.height,\n      value: n.value,\n    }));\n    // data.path) \n    const path = enableDrillDown && isArray(data.path) ? curPath.concat(data.path.slice(1)) : curPath;\n\n    const nodeInfo = Object.assign({}, node.data, {\n      x: node.x,\n      y: node.y,\n      depth: node.depth,\n      value: node.value,\n      path,\n      ...node,\n    });\n    if (!node.data[colorField] && node.parent) {\n      const ancestorNode = node.ancestors().find((n) => n.data[colorField]);\n      nodeInfo[colorField] = ancestorNode?.data[colorField];\n    } else {\n      nodeInfo[colorField] = node.data[colorField];\n    }\n\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, enableDrillDown };\n    result.push(nodeInfo);\n  });\n  return result;\n}\n","import { isRealNumber, pick } from '../../utils';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { Data } from '../../types';\nimport { sankeyLayout, SankeyLayoutInputData } from './layout';\nimport { cutoffCircle } from './circle';\nimport { SankeyOptions } from './types';\n\n/**\n *  node-link \n * @param dataTyp\n * @returns\n */\nfunction isNodeLink(dataType: string) {\n  return dataType === 'node-link';\n}\n\nexport function getNodeWidthRatio(nodeWidth: number, nodeWidthRatio: number, width: number) {\n  return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\n\nexport function getNodePaddingRatio(nodePadding: number, nodePaddingRatio: number, height: number) {\n  return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n\n/**\n *  layout view \n * @param options\n * @param width\n * @param height\n */\nexport function transformToViewsData(options: SankeyOptions, width: number, height: number) {\n  const {\n    dataType,\n    data,\n    sourceField,\n    targetField,\n    weightField,\n    nodeAlign,\n    nodeSort,\n    nodePadding,\n    nodePaddingRatio,\n    nodeWidth,\n    nodeWidthRatio,\n    nodeDepth,\n    rawFields = [],\n  } = options;\n\n  let sankeyLayoutInputData: unknown;\n\n  if (!isNodeLink(dataType)) {\n    sankeyLayoutInputData = transformDataToNodeLinkData(\n      cutoffCircle(data as Data, sourceField, targetField),\n      sourceField,\n      targetField,\n      weightField,\n      rawFields\n    );\n  } else {\n    sankeyLayoutInputData = data;\n  }\n\n  // 3. layout \n  const { nodes, links } = sankeyLayout(\n    {\n      nodeAlign,\n      nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, height),\n      nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, width),\n      nodeSort,\n      nodeDepth,\n    },\n    sankeyLayoutInputData as SankeyLayoutInputData\n  );\n\n  // 4. \n  return {\n    nodes: nodes.map((node) => {\n      return {\n        ...pick(node, ['x', 'y', 'name', ...rawFields]),\n        isNode: true,\n      };\n    }),\n    edges: links.map((link) => {\n      return {\n        source: link.source.name,\n        target: link.target.name,\n        name: link.source.name || link.target.name,\n        ...pick(link, ['x', 'y', 'value', ...rawFields]),\n        isNode: false,\n      };\n    }),\n  };\n}\n","import { minBy } from '@antv/util';\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth : node.sourceLinks.length ? minBy(node.sourceLinks, targetDepth) - 1 : 0;\n}\n","import { get } from '@antv/util';\nimport { Datum } from '../../types';\n\nexport const X_FIELD = 'x';\nexport const Y_FIELD = 'y';\nexport const NODE_COLOR_FIELD = 'name';\nexport const EDGE_COLOR_FIELD = 'source';\n\nexport const DEFAULT_OPTIONS = {\n  nodeStyle: {\n    opacity: 1,\n    fillOpacity: 1,\n    lineWidth: 1,\n  },\n  edgeStyle: {\n    opacity: 0.5,\n    lineWidth: 2,\n  },\n  label: {\n    fields: ['x', 'name'],\n    callback: (x: number[], name: string) => {\n      const centerX = (x[0] + x[1]) / 2;\n      const offsetX = centerX > 0.5 ? -4 : 4;\n      return {\n        labelEmit: true,\n        style: {\n          fill: '#8c8c8c',\n        },\n        offsetX,\n        content: name,\n      };\n    },\n  },\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    fields: ['source', 'target', 'value', 'isNode'],\n    // node  tooltip ()edge  tooltip\n    showContent: (items) => {\n      return !get(items, [0, 'data', 'isNode']);\n    },\n    formatter: (datum: Datum) => {\n      const { source, target, value } = datum;\n      return {\n        name: `${source} -> ${target}`,\n        value,\n      };\n    },\n  },\n  interactions: [\n    {\n      type: 'element-active',\n    },\n  ],\n  weight: true,\n  nodePaddingRatio: 0.1,\n  nodeWidthRatio: 0.05,\n};\n","import { CirclePackingOptions } from './types';\n\n/**  */\nexport const RAW_FIELDS = ['x', 'y', 'r', 'name', 'value', 'path', 'depth'];\n\nexport const DEFAULT_OPTIONS: Partial<CirclePackingOptions> = {\n  //  name \n  colorField: 'name',\n  autoFit: true,\n  pointStyle: {\n    lineWidth: 0,\n    stroke: '#fff',\n  },\n  // \n  legend: false,\n  hierarchyConfig: {\n    size: [1, 1] as [number, number], // width, height\n    padding: 0,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: { enabled: false },\n};\n","import { View } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { adaptor as tinyAreaAdaptor } from '../tiny-area/adaptor';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { adaptor as scatterAdaptor } from '../scatter/adaptor';\nimport { adaptor as histogramAdaptor } from '../histogram/adaptor';\nimport { adaptor as funnelAdaptor } from '../funnel/adaptor';\nimport { adaptor as stockAdaptor } from '../stock/adaptor';\nimport { Line, LineOptions } from '../line';\nimport { Pie, PieOptions } from '../pie';\nimport { Bar, BarOptions } from '../bar';\nimport { Column, ColumnOptions } from '../column';\nimport { Area, AreaOptions } from '../area';\nimport { Gauge, GaugeOptions } from '../gauge';\nimport { TinyLine, TinyLineOptions } from '../tiny-line';\nimport { TinyArea, TinyAreaOptions } from '../tiny-area';\nimport { TinyColumn, TinyColumnOptions } from '../tiny-column';\nimport { RingProgress, RingProgressOptions } from '../ring-progress';\nimport { Progress, ProgressOptions } from '../progress';\nimport { Scatter, ScatterOptions } from '../scatter';\nimport { Histogram, HistogramOptions } from '../histogram';\nimport { Funnel, FunnelOptions } from '../funnel';\nimport { Stock, StockOptions } from '../stock';\nimport { Options } from '../../types';\n\n/**\n *  options  widthheight ,  options  data \n */\ntype PlotOptions<T> = Omit<T, 'width' | 'height' | 'data'> & Partial<Pick<T extends Options ? T : never, 'data'>>;\n\n/**\n * multi-view  plots  options \n */\nexport type IPlotTypes =\n  | {\n      /**\n       * plot \n       */\n      readonly type: 'line';\n      /**\n       * plot \n       */\n      readonly options: PlotOptions<LineOptions>;\n    }\n  | {\n      readonly type: 'pie';\n      readonly options: PlotOptions<PieOptions>;\n    }\n  | {\n      readonly type: 'bar';\n      readonly options: PlotOptions<BarOptions>;\n    }\n  | {\n      readonly type: 'column';\n      readonly options: PlotOptions<ColumnOptions>;\n    }\n  | {\n      readonly type: 'area';\n      readonly options: PlotOptions<AreaOptions>;\n    }\n  | {\n      readonly type: 'gauge';\n      readonly options: PlotOptions<GaugeOptions>;\n    }\n  | {\n      readonly type: 'tiny-line';\n      readonly options: PlotOptions<TinyLineOptions>;\n    }\n  | {\n      readonly type: 'tiny-area';\n      readonly options: PlotOptions<TinyAreaOptions>;\n    }\n  | {\n      readonly type: 'tiny-column';\n      readonly options: PlotOptions<TinyColumnOptions>;\n    }\n  | {\n      readonly type: 'ring-progress';\n      readonly options: PlotOptions<RingProgressOptions>;\n    }\n  | {\n      readonly type: 'progress';\n      readonly options: PlotOptions<ProgressOptions>;\n    }\n  | {\n      readonly type: 'histogram';\n      readonly options: PlotOptions<HistogramOptions>;\n    }\n  | {\n      readonly type: 'scatter';\n      readonly options: PlotOptions<ScatterOptions>;\n    }\n  | {\n      readonly type: 'funnel';\n      readonly options: PlotOptions<FunnelOptions>;\n    }\n  | {\n      readonly type: 'stock';\n      readonly options: PlotOptions<StockOptions>;\n    };\n\n/**\n *  multi-view  plots\n */\nconst PLOT_ADAPTORS = {\n  line: lineAdaptor,\n  pie: pieAdaptor,\n  column: columnAdaptor,\n  bar: barAdaptor,\n  area: areaAdaptor,\n  gauge: gaugeAdaptor,\n  'tiny-line': tinyLineAdaptor,\n  'tiny-column': tinyColumnAdaptor,\n  'tiny-area': tinyAreaAdaptor,\n  'ring-progress': ringProgressAdaptor,\n  progress: progressAdaptor,\n  scatter: scatterAdaptor,\n  histogram: histogramAdaptor,\n  funnel: funnelAdaptor,\n  stock: stockAdaptor,\n};\n\n/**\n *  plot  class contructor\n * @param {string} plot\n */\nconst PLOT_CONSTRUCTOR = {\n  line: Line,\n  pie: Pie,\n  column: Column,\n  bar: Bar,\n  area: Area,\n  gauge: Gauge,\n  'tiny-line': TinyLine,\n  'tiny-column': TinyColumn,\n  'tiny-area': TinyArea,\n  'ring-progress': RingProgress,\n  progress: Progress,\n  scatter: Scatter,\n  histogram: Histogram,\n  funnel: Funnel,\n  stock: Stock,\n};\n\n/**\n *  mix  facet defaultOptions \n */\nconst DEFAULT_OPTIONS_MAP = {\n  pie: { label: false },\n  column: { tooltip: { showMarkers: false } },\n  bar: { tooltip: { showMarkers: false } },\n};\n\n/**\n *  plot  adaptor,  defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor<T extends IPlotTypes['type']>(\n  plot: T,\n  view: View,\n  options: IPlotTypes['options']\n): void {\n  const cls = PLOT_CONSTRUCTOR[plot];\n  if (!cls) {\n    console.error(`could not find ${plot} plot`);\n    return;\n  }\n  const module = PLOT_ADAPTORS[plot];\n  module({\n    chart: view,\n    options: deepAssign({}, cls.getDefaultOptions(), get(DEFAULT_OPTIONS_MAP, plot, {}), options),\n  });\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"export const version = '2.4.15';\n\n// G2 \nimport * as G2 from '@antv/g2';\nexport { G2 };\n\n// \nimport { registerLocale } from './core/locale';\nimport { EN_US_LOCALE } from './locales/en_US';\nimport { ZH_CN_LOCALE } from './locales/zh_CN';\n/** default locale register */\nregisterLocale('en-US', EN_US_LOCALE);\nregisterLocale('zh-CN', ZH_CN_LOCALE);\n/**    */\nexport { registerLocale };\n\n/**  */\nexport { setGlobal } from './core/global';\n\n/** G2Plot  Plot  */\nexport { Plot } from './core/plot';\n\n/** Adaptor  */\nexport type { Adaptor, Params } from './core/adaptor';\n\n// \nexport * from './types';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Line } from './plots/line';\nexport type { LineOptions } from './plots/line';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Area } from './plots/area';\nexport type { AreaOptions } from './plots/area';\n\n//  | author by [zqlu](https://github.com/zqlu)\nexport { Column } from './plots/column';\nexport type { ColumnOptions } from './plots/column';\n\n//  | author by [BBSQQ](https://github.com/BBSQQ)\nexport { Bar } from './plots/bar';\nexport type { BarOptions } from './plots/bar';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Pie } from './plots/pie';\nexport type { PieOptions } from './plots/pie';\n\n//  | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { Rose } from './plots/rose';\nexport type { RoseOptions } from './plots/rose';\n\n//  | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { WordCloud } from './plots/word-cloud';\nexport type { WordCloudOptions } from './plots/word-cloud';\n\n//  | author by [lxfu1](https://github.com/lxfu1)\nexport { Scatter } from './plots/scatter';\nexport type { ScatterOptions } from './plots/scatter';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Radar } from './plots/radar';\nexport type { RadarOptions } from './plots/radar';\n\n//  | author by [liuzhenying](https://github.com/liuzhenying)\nexport { DualAxes } from './plots/dual-axes';\nexport type { DualAxesOptions } from './plots/dual-axes';\n\n//  | author by [connono](https://github.com/connono)\nexport { TinyLine } from './plots/tiny-line';\nexport type { TinyLineOptions } from './plots/tiny-line';\n\n//  | author by [connono](https://github.com/connono)\nexport { TinyColumn } from './plots/tiny-column';\nexport type { TinyColumnOptions } from './plots/tiny-column';\n\n//  | author by [connono](https://github.com/connono)\nexport { TinyArea } from './plots/tiny-area';\nexport type { TinyAreaOptions } from './plots/tiny-area';\n\n//  | author by [arcsin1](https://github.com/arcsin1), [visiky](https://github.com/visiky)\nexport { Histogram } from './plots/histogram';\nexport type { HistogramOptions } from './plots/histogram';\n\n//  | author by [connono](https://github.com/connono)\nexport { Progress } from './plots/progress';\nexport type { ProgressOptions } from './plots/progress';\n\n//  | author by [connono](https://github.com/connono)\nexport { RingProgress } from './plots/ring-progress';\nexport type { RingProgressOptions } from './plots/ring-progress';\n\n//  | author by [jiazhewang](https://github.com/jiazhewang)\nexport { Heatmap } from './plots/heatmap';\nexport type { HeatmapOptions } from './plots/heatmap';\n\n//  | author by [BBSQQ](https://github.com/BBSQQ), [visiky](https://github.com/visiky)\nexport { Box } from './plots/box';\nexport type { BoxOptions } from './plots/box';\n\n//  | author by [YiSiWang](https://github.com/YiSiWang), [visiky](https://github.com/visiky)\nexport { Violin } from './plots/violin';\nexport type { ViolinOptions } from './plots/violin';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Venn } from './plots/venn';\nexport type { VennOptions } from './plots/venn';\n\n// K | author by [jhwong](https://github.com/jinhuiWong), [visiky](https://github.com/visiky)\nexport { Stock } from './plots/stock';\nexport type { StockOptions } from './plots/stock';\n\n// \nexport { Funnel, FUNNEL_CONVERSATION_FIELD } from './plots/funnel';\nexport type { FunnelOptions } from './plots/funnel';\n\n//  | author by [CarisL](https://github.com/CarisL), [hustcc](https://github.com/hustcc), [pearmini](https://github.com/pearmini)\nexport { Liquid, addWaterWave } from './plots/liquid';\nexport type { LiquidOptions } from './plots/liquid';\n\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { Bullet } from './plots/bullet';\nexport type { BulletOptions } from './plots/bullet';\n\n//  | author by [lxfu1](https://github.com/lxfu1), [visiky](https://github.com/visiky)\nexport { Sunburst } from './plots/sunburst';\nexport type { SunburstOptions } from './plots/sunburst';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Gauge } from './plots/gauge';\nexport type { GaugeOptions } from './plots/gauge';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Waterfall } from './plots/waterfall';\nexport type { WaterfallOptions } from './plots/waterfall';\n\n//  | author by [yujs](https://github.com/yujs) | updated by [visiky](https://github.com/visiky)\nexport { RadialBar } from './plots/radial-bar';\nexport type { RadialBarOptions } from './plots/radial-bar';\n\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { BidirectionalBar } from './plots/bidirectional-bar';\nexport type { BidirectionalBarOptions } from './plots/bidirectional-bar';\n\n// \nexport { Treemap } from './plots/treemap';\nexport type { TreemapOptions } from './plots/treemap';\n\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Sankey } from './plots/sankey';\nexport type { SankeyOptions } from './plots/sankey';\n\n//  | author by [MrSmallLiu](https://github.com/MrSmallLiu), [visiky](https://github.com/visiky)\nexport { Chord } from './plots/chord';\nexport type { ChordOptions } from './plots/chord';\n\n// circle-packing  | author by [visiky](https://github.com/visiky), [Angeli](https://github.com/Angelii)\nexport { CirclePacking } from './plots/circle-packing';\nexport type { CirclePackingOptions } from './plots/circle-packing';\n\n// \n/**  G2Plot.P  G2Plot.P  */\nexport { P } from './plugin';\n\n/**  getCanvasPatterng  */\nexport { getCanvasPattern } from './utils/pattern';\n\n//  Mix\nexport { Mix as MultiView } from './plots/mix';\nexport type { MixOptions as MultiViewOptions } from './plots/mix';\n/**  (mix) */\nexport { Mix as Mix } from './plots/mix';\nexport type { MixOptions } from './plots/mix';\n\n//  | author by [visiky](https://github.com/visiky)\nexport { Facet } from './plots/facet';\nexport type { FacetOptions } from './plots/facet';\n\n/**  adaptor  */\nexport { flow, measureTextWidth } from './utils';\n\n/**  geometry  adaptor */\nexport { line, interval, area, point, polygon, schema } from './adaptor/geometries';\nexport type {\n  LineGeometryOptions,\n  IntervalGeometryOptions,\n  AreaGeometryOptions,\n  PointGeometryOptions,\n  PolygonGeometryOptions,\n  SchemaGeometryOptions,\n} from './adaptor/geometries';\n/**  adaptor  */\nimport { scale, legend, tooltip, annotation, interaction, theme, animation } from './adaptor/common';\nexport const adaptors = { scale, legend, tooltip, annotation, interaction, theme, animation };\n\n/**  Lab  export */\nexport { Lab } from './lab';\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","type FlowFunction<P> = (param: P) => P;\n\n/**\n *  lodash.flow \n * @param flows\n */\nexport function flow<P>(...flows: FlowFunction<P>[]): FlowFunction<P> {\n  return (param: P) => {\n    return flows.reduce((result: P, f: FlowFunction<P>) => {\n      return f(result);\n    }, param);\n  };\n}\n","import { reduce } from '@antv/util';\n/**\n * \n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source: string, data?: object): string {\n  if (!data) {\n    return source;\n  }\n  return reduce(\n    // @ts-ignore\n    data,\n    (r: string, v: string, k: string) => r.replace(new RegExp(`{\\\\s*${k}\\\\s*}`, 'g'), v),\n    source\n  );\n}\n","import { Size } from '../types';\n\n/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele: HTMLElement): Size {\n  if (!ele) {\n    return { width: 0, height: 0 };\n  }\n  const style = getComputedStyle(ele);\n\n  return {\n    width:\n      (ele.clientWidth || parseInt(style.width, 10)) -\n      parseInt(style.paddingLeft, 10) -\n      parseInt(style.paddingRight, 10),\n    height:\n      (ele.clientHeight || parseInt(style.height, 10)) -\n      parseInt(style.paddingTop, 10) -\n      parseInt(style.paddingBottom, 10),\n  };\n}\n","import { Geometry, View, Element } from '@antv/g2';\nimport { reduce, get } from '@antv/util';\n\n/**\n *  View  type  geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view: View, type: string): Geometry {\n  return view.geometries.find((g: Geometry) => g.type === type);\n}\n\n/**\n *  View   elements\n */\nexport function getAllElements(view: View): Element[] {\n  return reduce(\n    view.geometries,\n    (r: Element[], geometry: Geometry) => {\n      return r.concat(geometry.elements);\n    },\n    []\n  );\n}\n\n/**\n *  View   elements,  View  View\n */\nexport function getAllElementsRecursively(view: View): Element[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return getAllElements(view);\n  }\n\n  return reduce(\n    view.views,\n    (ele: Element[], subView: View) => {\n      return ele.concat(getAllElementsRecursively(subView));\n    },\n    getAllElements(view)\n  );\n}\n\n/**\n *  View   geometries,  View  View\n */\nexport function getAllGeometriesRecursively(view: View): Geometry[] {\n  if (get(view, ['views', 'length'], 0) <= 0) {\n    return view.geometries;\n  }\n\n  return reduce(\n    view.views,\n    (ele: Geometry[], subView: View) => {\n      return ele.concat(subView.geometries);\n    },\n    view.geometries\n  );\n}\n","import { isType } from '@antv/util';\n/**\n *  v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions: any) {\n  if (!isType(labelOptions, 'Object')) {\n    return labelOptions;\n  }\n  const label = { ...labelOptions };\n  if (label.formatter && !label.content) {\n    label.content = label.formatter;\n  }\n  return label;\n}\n","import { vec2 } from '@antv/matrix-util';\nimport { Position, Point } from '../types/common';\n\nexport function points2Path(points: Point[], isInCircle: boolean) {\n  const path = [];\n  if (points.length) {\n    path.push(['M', points[0].x, points[0].y]);\n    for (let i = 1, length = points.length; i < length; i += 1) {\n      const item = points[i];\n      path.push(['L', item.x, item.y]);\n    }\n    if (isInCircle) {\n      path.push(['Z']);\n    }\n  }\n  return path;\n}\n\n/**\n * @ignore\n * \n */\nexport const smoothBezier = (\n  points: Position[],\n  smooth: number,\n  isLoop: boolean,\n  constraint: Position[]\n): Position[] => {\n  const cps = [];\n  let prevPoint: Position;\n  let nextPoint: Position;\n  const hasConstraint = !!constraint;\n  let min: Position;\n  let max: Position;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (let i = 0, l = points.length; i < l; i++) {\n      const point = points[i];\n      min = vec2.min([0, 0], min, point) as [number, number];\n      max = vec2.max([0, 0], max, point) as [number, number];\n    }\n    min = vec2.min([0, 0], min, constraint[0]) as [number, number];\n    max = vec2.max([0, 0], max, constraint[1]) as [number, number];\n  }\n\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(point);\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n    let v: [number, number] = [0, 0];\n    v = vec2.sub(v, nextPoint, prevPoint) as [number, number];\n    v = vec2.scale(v, v, smooth) as [number, number];\n\n    let d0 = vec2.distance(point, prevPoint);\n    let d1 = vec2.distance(point, nextPoint);\n\n    const sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    const v1 = vec2.scale([0, 0], v, -d0);\n    const v2 = vec2.scale([0, 0], v, d1);\n\n    let cp0 = vec2.add([0, 0], point, v1);\n    let cp1 = vec2.add([0, 0], point, v2);\n\n    if (hasConstraint) {\n      cp0 = vec2.max([0, 0], cp0, min);\n      cp0 = vec2.min([0, 0], cp0, max);\n      cp1 = vec2.max([0, 0], cp1, min);\n      cp1 = vec2.min([0, 0], cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n};\n\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp: number[], z: boolean, constraint: Position[]) {\n  const isLoop = !!z;\n  const pointList = [];\n  for (let i = 0, l = crp.length; i < l; i += 2) {\n    pointList.push([crp[i], crp[i + 1]]);\n  }\n\n  const controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  const len = pointList.length;\n  const d1 = [];\n\n  let cp1: Position;\n  let cp2: Position;\n  let p: Position;\n\n  for (let i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n  }\n  return d1;\n}\n\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points: Point[], isInCircle?: boolean, constaint?: Position[]) {\n  const data = [];\n  const first = points[0];\n  let prePoint = null;\n  if (points.length <= 2) {\n    // \n    return points2Path(points, isInCircle);\n  }\n  for (let i = 0, len = points.length; i < len; i++) {\n    const point = points[i];\n    if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n      data.push(point.x);\n      data.push(point.y);\n      prePoint = point;\n    }\n  }\n  const constraint = constaint || [\n    // \n    [0, 0],\n    [1, 1],\n  ];\n  const splinePath = catmullRom2bezier(data, isInCircle, constraint);\n  splinePath.unshift(['M', first.x, first.y]);\n  return splinePath;\n}\n","/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word: string) {\n  if (!word) {\n    return word;\n  }\n  const result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n  return result.map((s: string) => s.toLowerCase()).join('-');\n}\n","import { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n\n/**\n * \n * @param text \n * @param font \n */\nexport const measureTextWidth = memoize(\n  (text: string, font: any = {}): number => {\n    const { fontSize, fontFamily = 'sans-serif', fontWeight, fontStyle, fontVariant } = font;\n    const ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, `${fontSize}px`, fontFamily].join(' ');\n    const metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n  },\n  (text: string, font = {}) => [text, ...values(font)].join('')\n);\n","let ctx: CanvasRenderingContext2D;\n\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n  if (!ctx) {\n    ctx = document.createElement('canvas').getContext('2d');\n  }\n\n  return ctx;\n}\n","import { Locale } from '../types/locale';\n\nexport const EN_US_LOCALE: Locale = {\n  locale: 'en-US',\n\n  // General\n  general: {\n    increase: 'Increase',\n    decrease: 'Decrease',\n    root: 'Root',\n  },\n\n  // Plot Components\n  /** statistic text component */\n  statistic: {\n    total: 'Total',\n  },\n  /** conversionTag component */\n  conversionTag: {\n    label: 'Rate',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // Plots\n  waterfall: {\n    total: 'Total',\n  },\n};\n","import { Locale } from '../types/locale';\n\nexport const ZH_CN_LOCALE: Locale = {\n  locale: 'zh-CN',\n\n  // \n  general: {\n    increase: '',\n    decrease: '',\n    root: '',\n  },\n\n  // \n  /**  */\n  statistic: {\n    total: '',\n  },\n  /**  */\n  conversionTag: {\n    label: '',\n  },\n  legend: {},\n  tooltip: {},\n  slider: {},\n  scrollbar: {},\n\n  // \n  waterfall: {\n    total: '',\n  },\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\n\nvar _sensorPool = require(\"./sensorPool\");\n\n/**\n * Created by hustcc on 18/6/9.[]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback\n\n  sensor.bind(cb); // return unbind function\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\n\n\nexports.bind = bind;\n\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nexports.clear = clear;\nvar ver = \"1.0.1\";\nexports.ver = ver;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = void 0;\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _sensors = require(\"./sensors\");\n\nvar _constant = require(\"./constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\n\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. not exist, then create one\n\n\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n *  sensor\n * @param sensor\n */\n\n\nexports.getSensor = getSensor;\n\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used\n\n  sensor.destroy(); // exist, then remove from pool\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};\n\nexports.removeSensor = removeSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar id = 1;\n/**\n * generate unique id in application\n * @return {string}\n */\n\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\n\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _object = require(\"./object\");\n\nvar _resizeObserver = require(\"./resizeObserver\");\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); //  resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * trigger listeners\n   */\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener); // listen element\n\n    s.observe(element); // trigger once\n\n    resizeListener();\n    return s;\n  };\n  /**\n   * listen with callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * cancel bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","export * from './common';\nexport * from './tooltip';\nexport * from './state';\nexport * from './attr';\nexport * from './statistic';\nexport * from './meta';\nexport * from './axis';\nexport * from './interaction';\nexport * from './annotation';\nexport * from './locale';\nexport * from './button';\n\n/**  readonly  */\nexport type Writable<T> = { -readonly [P in keyof T]: T[P] };\n","import { DotPatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * dotPattern\n */\nexport const defaultDotPatternCfg = {\n  size: 6,\n  padding: 2,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n  isStagger: true,\n};\n\n/**\n * \n *\n * @param context\n * @param cfg\n * @param x x\n * @param y y\n */\nexport function drawDot(context: CanvasRenderingContext2D, cfg: DotPatternCfg, x: number, y: number) {\n  const { size, fill, lineWidth, stroke, fillOpacity } = cfg;\n\n  context.beginPath();\n  context.globalAlpha = fillOpacity;\n  context.fillStyle = fill;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.arc(x, y, size / 2, 0, 2 * Math.PI, false);\n  context.fill();\n  if (lineWidth) {\n    context.stroke();\n  }\n  context.closePath();\n}\n\n/**\n *  dot pattern HTMLCanvasElement\n *\n * @param cfg\n * @returns HTMLCanvasElement\n */\nexport function createDotPattern(cfg?: DotPatternCfg): CanvasPattern {\n  const dotCfg = deepAssign({}, defaultDotPatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = dotCfg;\n\n  //  dots\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const dots = getSymbolsPosition(unitSize, isStagger);\n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgrounddots\n  drawBackground(ctx, dotCfg, unitSize);\n  for (const [x, y] of dots) {\n    drawDot(ctx, dotCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { LinePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport { initCanvas, drawBackground, transformMatrix, getPixelRatio } from './util';\n\n/**\n * linePattern  \n */\nexport const defaultLinePatternCfg = {\n  rotation: 45,\n  spacing: 5,\n  opacity: 1,\n  backgroundColor: 'transparent',\n  strokeOpacity: 0.5,\n  stroke: '#fff',\n  lineWidth: 2,\n};\n\n/**\n * line\n *\n * @param context canvasContext\n * @param cfg linePattern \n * @param d  path  d\n */\nexport function drawLine(context: CanvasRenderingContext2D, cfg: LinePatternCfg, d: string) {\n  const { stroke, lineWidth, strokeOpacity } = cfg;\n  const path = new Path2D(d);\n\n  context.globalAlpha = strokeOpacity;\n  context.lineCap = 'square';\n  context.strokeStyle = lineWidth ? stroke : 'transparent';\n  context.lineWidth = lineWidth;\n  context.stroke(path);\n}\n\n/**\n *  linePattern\n */\nexport function createLinePattern(cfg?: LinePatternCfg): CanvasPattern {\n  const lineCfg = deepAssign({}, defaultLinePatternCfg, cfg);\n\n  const { spacing, rotation, lineWidth } = lineCfg;\n\n  //  pattern  path  d\n  const width = spacing + lineWidth || 1;\n  const height = spacing + lineWidth || 1;\n  const d = `\n            M 0 0 L ${width} 0\n            M 0 ${height} L ${width} ${height}\n            `;\n\n  //  patternCanvas\n  const canvas = initCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundline\n  drawBackground(ctx, lineCfg, width, height);\n  drawLine(ctx, lineCfg, d);\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  //  Pattern \n  return pattern;\n}\n","import { SquarePatternCfg } from '../../types/pattern';\nimport { deepAssign } from '../../utils';\nimport {\n  getUnitPatternSize,\n  initCanvas,\n  drawBackground,\n  getSymbolsPosition,\n  transformMatrix,\n  getPixelRatio,\n} from './util';\n\n/**\n * squarePattern  \n */\nexport const defaultSquarePatternCfg = {\n  size: 6,\n  padding: 1,\n  isStagger: true,\n  backgroundColor: 'transparent',\n  opacity: 1,\n  rotation: 0,\n  fill: '#fff',\n  fillOpacity: 0.5,\n  stroke: 'transparent',\n  lineWidth: 0,\n};\n\n/**\n * square\n *\n * @param context canvasContext\n * @param cfg squarePattern \n * @param xy square\n */\nexport function drawSquare(context: CanvasRenderingContext2D, cfg: SquarePatternCfg, x: number, y: number) {\n  const { stroke, size, fill, lineWidth, fillOpacity } = cfg;\n\n  context.globalAlpha = fillOpacity;\n  context.strokeStyle = stroke;\n  context.lineWidth = lineWidth;\n  context.fillStyle = fill;\n  // xy\n  context.strokeRect(x - size / 2, y - size / 2, size, size);\n  context.fillRect(x - size / 2, y - size / 2, size, size);\n}\n\n/**\n *  squarePattern\n */\nexport function createSquarePattern(cfg?: SquarePatternCfg): CanvasPattern {\n  const squareCfg = deepAssign({}, defaultSquarePatternCfg, cfg);\n\n  const { size, padding, isStagger, rotation } = squareCfg;\n\n  //  squares\n  const unitSize = getUnitPatternSize(size, padding, isStagger);\n  const squares = getSymbolsPosition(unitSize, isStagger); //  dots \n\n  //  patternCanvas\n  const canvas = initCanvas(unitSize, unitSize);\n  const ctx = canvas.getContext('2d');\n\n  //  backgroundsquares\n  drawBackground(ctx, squareCfg, unitSize);\n  for (const [x, y] of squares) {\n    drawSquare(ctx, squareCfg, x, y);\n  }\n\n  const pattern = ctx.createPattern(canvas, 'repeat');\n\n  if (pattern) {\n    const dpr = getPixelRatio();\n    const matrix = transformMatrix(dpr, rotation);\n    pattern.setTransform(matrix);\n  }\n\n  return pattern;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface AreaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /** area  */\n  readonly area?: MappingOptions;\n}\n\n/**\n * area geometry \n * @param params\n */\nexport function area<O extends AreaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { area, xField, yField, seriesField, smooth, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return area\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'area',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              shape: smooth ? 'smooth' : 'area',\n              tooltip: formatter,\n              ...area,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { deepMix } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { GeometryOptions, geometry, MappingOptions } from './base';\n\nexport interface LineGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /**  */\n  readonly smooth?: boolean;\n  /**  */\n  readonly connectNulls?: boolean;\n  /** line  */\n  readonly line?: MappingOptions;\n  /**  */\n  readonly stepType?: string;\n}\n\n/**\n * line \n * @param params\n */\nexport function line<O extends LineGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { line, stepType, xField, yField, seriesField, smooth, connectNulls, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  // \n  return line\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'line',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: deepMix(\n              {\n                shape: stepType || (smooth ? 'smooth' : 'line'),\n                tooltip: formatter,\n              },\n              line\n            ),\n            args: { connectNulls },\n          },\n        })\n      )\n    : params;\n}\n","import { Geometry, getTheme, ShapeAttrs } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { GeometryOptions, MappingOptions, geometry } from './base';\n\nexport interface IntervalGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField: string;\n  /** y  */\n  readonly yField: string;\n  /**  groupFieldcolorField stackFieldcolorField  */\n  readonly seriesField?: string;\n  /**  */\n  readonly isGroup?: boolean;\n  /**  */\n  readonly isStack?: boolean;\n  /**  [0-1] */\n  readonly widthRatio?: number;\n  /** () */\n  readonly intervalPadding?: number;\n  /**  [0-1] */\n  readonly marginRatio?: number;\n  /** () */\n  readonly dodgePadding?: number;\n  /**  */\n  readonly minColumnWidth?: number;\n  /**  */\n  readonly maxColumnWidth?: number;\n  /**  */\n  readonly columnBackground?: { style: ShapeAttrs };\n  /**  colorshapesizestyletooltip */\n  readonly interval?: MappingOptions;\n  /**  seriesField , isGroup: true  groupField */\n  readonly groupField?: string;\n}\n\n/**\n *  adaptor\n * @param params\n */\nfunction otherAdaptor<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { chart, options, ext } = params;\n  const { seriesField, isGroup, isStack, marginRatio, widthRatio, groupField, theme } = options;\n\n  /**\n   * adjust\n   */\n  const adjust = [];\n  if (seriesField) {\n    // group\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        marginRatio,\n      });\n    }\n    // stack\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n        marginRatio,\n      });\n    }\n  }\n\n  if (adjust.length && ext?.geometry) {\n    const g = ext?.geometry as Geometry;\n    g.adjust(adjust);\n  }\n\n  // widthRatio\n  if (!isNil(widthRatio)) {\n    chart.theme(\n      deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n        // columWidthRatio  theme \n        columnWidthRatio: widthRatio,\n      })\n    );\n  }\n\n  return params;\n}\n\nexport function interval<O extends IntervalGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const {\n    xField,\n    yField,\n    interval,\n    seriesField,\n    tooltip,\n    minColumnWidth,\n    maxColumnWidth,\n    columnBackground,\n    dodgePadding,\n    intervalPadding,\n  } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  //  interval \n  const { ext } = interval\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'interval',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...interval,\n            },\n            args: { dodgePadding, intervalPadding, minColumnWidth, maxColumnWidth, background: columnBackground },\n          },\n        })\n      )\n    : params;\n\n  return otherAdaptor({\n    ...params,\n    ext,\n  });\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface EdgeGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** edge  */\n  readonly edge?: MappingOptions;\n}\n\n/**\n * edge \n * @param params\n */\nexport function edge<O extends EdgeGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { edge, xField, yField, seriesField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return edge\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'edge',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...edge,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface SchemaGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y  */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** point  */\n  readonly schema?: MappingOptions;\n}\n\n/**\n * schema \n * @param params\n */\nexport function schema<O extends SchemaGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { schema, xField, yField, seriesField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField]);\n\n  return schema\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'schema',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...schema,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Params } from '../../core/adaptor';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry, MappingOptions, GeometryOptions } from './base';\n\nexport interface ViolinGeometryOptions extends GeometryOptions {\n  /** x  */\n  readonly xField?: string;\n  /** y Y */\n  readonly yField?: string;\n  /**  */\n  readonly seriesField?: string;\n  /** size  */\n  readonly sizeField?: string;\n  /** violin  */\n  readonly violin?: MappingOptions;\n}\n\n/**\n * violin \n * @param params\n */\nexport function violin<O extends ViolinGeometryOptions>(params: Params<O>): Params<O> {\n  const { options } = params;\n  const { violin, xField, yField, seriesField, sizeField, tooltip } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField]);\n\n  return violin\n    ? geometry(\n        deepAssign({}, params, {\n          options: {\n            type: 'violin',\n            colorField: seriesField,\n            tooltipFields: fields,\n            mapping: {\n              tooltip: formatter,\n              ...violin,\n            },\n          },\n        })\n      )\n    : params;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n  isStack: false,\n});\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\n\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n  start: [\n    {\n      trigger: 'tooltip:show',\n      action: 'marker-active:active',\n    },\n  ],\n  end: [\n    {\n      trigger: 'tooltip:hide',\n      action: 'marker-active:reset',\n    },\n  ],\n});\n","import { each, findIndex } from '@antv/util';\nimport { InteractionAction, View, Geometry } from '@antv/g2';\n\nexport class MarkerActiveAction extends InteractionAction {\n  public active() {\n    const view = this.getView();\n    const evt = this.context.event;\n    if (evt.data) {\n      // items:  tooltip \n      const { items } = evt.data;\n      const points = view.geometries.filter((geom) => geom.type === 'point');\n      each(points, (point: Geometry) => {\n        each(point.elements, (element) => {\n          const active = findIndex(items, (item) => (item as any).data === element.data) !== -1;\n          element.setState('active', active);\n        });\n      });\n    }\n  }\n\n  public reset() {\n    const view = this.getView();\n    const points = view.geometries.filter((geom) => geom.type === 'point');\n    each(points, (point: Geometry) => {\n      each(point.elements, (element) => {\n        element.setState('active', false);\n      });\n    });\n  }\n\n  private getView(): View {\n    return this.context.view;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  tooltip: {\n    shared: true,\n    showMarkers: true,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'x',\n    },\n  },\n  isStack: true,\n  // \n  line: {},\n  legend: {\n    position: 'top-left',\n    radio: {},\n  },\n});\n","import { map, find, each, isObject } from '@antv/util';\nimport { Coordinate, IGroup, ShapeAttrs, Element, Geometry, View, getTheme } from '@antv/g2';\nimport { Params } from '../core/adaptor';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\nimport { Options } from '../types';\n\n/**  */\nexport interface ConversionTagOptions {\n  /** tag  */\n  size?: number;\n  /** tag  */\n  spacing?: number;\n  /** tag  */\n  offset?: number;\n  /**  */\n  arrow?:\n    | {\n        /**  */\n        headSize?: number;\n        /**  */\n        style?: ShapeAttrs;\n      }\n    | false;\n  /**  */\n  text?:\n    | {\n        /**  */\n        size?: number;\n        /**  */\n        style?: ShapeAttrs;\n        /**  */\n        formatter?: (prev: number, next: number) => string;\n      }\n    | false;\n}\n\nexport interface OptionWithConversionTag {\n  conversionTag?: ConversionTagOptions | false;\n}\n\n/**  */\ntype TagRenderConfig = {\n  /**  View */\n  view: View;\n  /**  geometry */\n  geometry: Geometry;\n  /**  group */\n  group: IGroup;\n  /**  */\n  options: ConversionTagOptions;\n  /**  */\n  field: string;\n  /** / */\n  horizontal: boolean;\n};\n\nfunction getConversionTagOptionsWithDefaults(options: ConversionTagOptions, horizontal: boolean): ConversionTagOptions {\n  return deepAssign(\n    {\n      size: horizontal ? 32 : 80,\n      spacing: horizontal ? 8 : 12,\n      offset: horizontal ? 32 : 0,\n      arrow: options.arrow !== false && {\n        headSize: 12,\n        style: {\n          fill: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n      text: options.text !== false && {\n        style: {\n          fontSize: 12,\n          fill: 'rgba(0, 0, 0, 0.85)',\n          textAlign: 'center',\n          textBaseline: 'middle',\n        },\n        formatter: conversionTagFormatter,\n      },\n    },\n    options\n  );\n}\n\nfunction parsePoints(coordinate: Coordinate, element: Element): { x: number; y: number }[] {\n  // @ts-ignore\n  return map(element.getModel().points, (point) => coordinate.convertPoint(point));\n}\n\nfunction renderArrowTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, horizontal } = config;\n  const { offset, size, arrow } = options;\n  const coordinate = view.getCoordinate();\n  const pointPrev = parsePoints(coordinate, elemPrev)[3];\n  const pointNext = parsePoints(coordinate, elemNext)[0];\n  const totalHeight = pointNext.y - pointPrev.y;\n  const totalWidth = pointNext.x - pointPrev.x;\n\n  if (typeof arrow === 'boolean') {\n    return;\n  }\n  const { headSize } = arrow;\n  let spacing = options.spacing;\n  let points;\n\n  if (horizontal) {\n    if ((totalWidth - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalWidth - headSize) / 2);\n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + spacing, pointPrev.y - offset],\n        [pointPrev.x + spacing, pointPrev.y - offset - size],\n        [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n        [pointNext.x - spacing, pointNext.y - offset - size / 2],\n        [pointNext.x - spacing - headSize, pointNext.y - offset],\n      ];\n    }\n  } else {\n    if ((totalHeight - headSize) / 2 < spacing) {\n      // \n      spacing = Math.max(1, (totalHeight - headSize) / 2);\n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n      ];\n    } else {\n      // \n      points = [\n        [pointPrev.x + offset, pointPrev.y + spacing],\n        [pointPrev.x + offset + size, pointPrev.y + spacing],\n        [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n        [pointNext.x + offset + size / 2, pointNext.y - spacing],\n        [pointNext.x + offset, pointNext.y - spacing - headSize],\n      ];\n    }\n  }\n\n  group.addShape('polygon', {\n    id: `${view.id}-conversion-tag-arrow-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-arrow',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(arrow.style || {}),\n      points,\n    },\n  });\n}\n\nfunction renderTextTag(config: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  const { view, geometry, group, options, field, horizontal } = config;\n  const { offset, size } = options;\n  if (typeof options.text === 'boolean') {\n    return;\n  }\n  const coordinate = view.getCoordinate();\n  const text = options.text?.formatter && options.text?.formatter(elemPrev.getData()[field], elemNext.getData()[field]);\n\n  const pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n  const pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n\n  const textShape = group.addShape('text', {\n    id: `${view.id}-conversion-tag-text-${geometry.getElementId(elemPrev.getModel().mappingData)}`,\n    name: 'conversion-tag-text',\n    origin: {\n      element: elemPrev,\n      nextElement: elemNext,\n    },\n    attrs: {\n      ...(options.text?.style || {}),\n      text,\n      x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2,\n      y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2,\n    },\n  });\n\n  if (horizontal) {\n    const totalWidth = pointNext.x - pointPrev.x;\n    const { width: textWidth } = textShape.getBBox();\n    if (textWidth > totalWidth) {\n      const cWidth = textWidth / text.length;\n      const cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n      const textAdjusted = `${text.slice(0, cEnd)}...`;\n      textShape.attr('text', textAdjusted);\n    }\n  }\n}\n\nfunction renderTag(options: TagRenderConfig, elemPrev: Element, elemNext: Element): void {\n  renderArrowTag(options, elemPrev, elemNext);\n  renderTextTag(options, elemPrev, elemNext);\n}\n\n/**\n *  adaptor/\n * @param field \n * @param horizontal \n * @param disabled \n */\nexport function conversionTag<O extends OptionWithConversionTag & Options>(\n  field: string,\n  horizontal = true,\n  disabled = false\n) {\n  return function (params: Params<O>): Params<O> {\n    const { options, chart } = params;\n    const { conversionTag, theme } = options;\n\n    if (conversionTag && !disabled) {\n      //  1/3\n      chart.theme(\n        deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n          columnWidthRatio: 1 / 3,\n        })\n      );\n      //   shape annotation \n      chart.annotation().shape({\n        render: (container, view) => {\n          const group = container.addGroup({\n            id: `${chart.id}-conversion-tag-group`,\n            name: 'conversion-tag-group',\n          });\n          const interval = find(chart.geometries, (geom: Geometry) => geom.type === 'interval');\n          const config: TagRenderConfig = {\n            view,\n            geometry: interval,\n            group,\n            field,\n            horizontal,\n            options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n          };\n          const elements = interval.elements;\n          each(elements, (elem: Element, idx: number) => {\n            if (idx > 0) {\n              renderTag(config, elements[idx - 1], elem);\n            }\n          });\n        },\n      });\n    }\n\n    return params;\n  };\n}\n","import { registerInteraction, ShapeAttrs, Element } from '@antv/g2';\nimport { Params } from '../core/adaptor';\n\nexport interface ConnectedAreaOptions {\n  /** ,  hover */\n  trigger?: 'hover' | 'click';\n  /**  */\n  style?: ShapeAttrs | ((style: ShapeAttrs, element: Element) => ShapeAttrs);\n}\n\n/**  */\nexport interface OptionWithConnectedArea {\n  connectedArea?: ConnectedAreaOptions | false;\n}\n\nconst INTERACTION_MAP = {\n  hover: '__interval-connected-area-hover__',\n  click: '__interval-connected-area-click__',\n};\n\nconst getStartStages = (trigger: string, style?: ConnectedAreaOptions['style']) => {\n  if (trigger === 'hover') {\n    return [\n      {\n        trigger: `interval:mouseenter`,\n        action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        arg: [null, { style }],\n      },\n    ];\n  }\n  return [\n    {\n      trigger: `interval:click`,\n      action: [\n        'element-highlight-by-color:clear',\n        'element-highlight-by-color:highlight',\n        'element-link-by-color:clear',\n        'element-link-by-color:unlink',\n        'element-link-by-color:link',\n      ],\n      arg: [null, null, null, null, { style }],\n    },\n  ];\n};\n\n/** hover  */\nregisterInteraction(INTERACTION_MAP.hover, {\n  start: getStartStages(INTERACTION_MAP.hover),\n  end: [\n    {\n      trigger: 'interval:mouseleave',\n      action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n    },\n  ],\n});\n\n/** click  */\nregisterInteraction(INTERACTION_MAP.click, {\n  start: getStartStages(INTERACTION_MAP.click),\n  end: [\n    {\n      trigger: 'document:mousedown',\n      action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n    },\n  ],\n});\n\n/**\n *  adaptor/\n * @param disable\n */\nexport function connectedArea<O extends OptionWithConnectedArea>(disable = false) {\n  return function (params: Params<O>): Params<O> {\n    const { chart, options } = params;\n    const { connectedArea } = options;\n\n    const clear = () => {\n      chart.removeInteraction(INTERACTION_MAP.hover);\n      chart.removeInteraction(INTERACTION_MAP.click);\n    };\n\n    if (!disable && connectedArea) {\n      const trigger = connectedArea.trigger || 'hover';\n      clear();\n      chart.interaction(INTERACTION_MAP[trigger], {\n        start: getStartStages(trigger, connectedArea.style),\n      });\n    } else {\n      clear();\n    }\n\n    return params;\n  };\n}\n","import { Action, IGroup, Util } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { BBox, ButtonCfg } from '../../types';\nimport { deepAssign, normalPadding } from '../../utils';\n\nconst PADDING_RIGHT = 10;\nconst PADDING_TOP = 5;\n\n/**\n * Action  Button \n *\n * brush filter\n */\nexport const BUTTON_ACTION_CONFIG: ButtonCfg = {\n  padding: [8, 10],\n  text: 'reset',\n  textStyle: {\n    default: {\n      x: 0,\n      y: 0,\n      fontSize: 12,\n      fill: '#333333',\n      cursor: 'pointer',\n    },\n  },\n  buttonStyle: {\n    default: {\n      fill: '#f7f7f7',\n      stroke: '#cccccc',\n      cursor: 'pointer',\n    },\n    active: {\n      fill: '#e6e6e6',\n    },\n  },\n};\n\n/**\n * @override  G2 Button Action,  GUI\n */\nclass ButtonAction extends Action {\n  private buttonGroup: IGroup = null;\n  private buttonCfg = {\n    name: 'button',\n    ...BUTTON_ACTION_CONFIG,\n  };\n\n  /**\n   *  mix \n   */\n  private getButtonCfg(): ButtonCfg & { name: string } {\n    const { view } = this.context;\n    const buttonCfg: ButtonCfg = get(view, ['interactions', 'filter-action', 'cfg', 'buttonConfig']);\n\n    return deepAssign(this.buttonCfg, buttonCfg, this.cfg);\n  }\n\n  /**\n   *  Button  \n   */\n  private drawButton() {\n    const config = this.getButtonCfg();\n    const group = this.context.view.foregroundGroup.addGroup({\n      name: config.name,\n    });\n    const textShape = this.drawText(group);\n    this.drawBackground(group, textShape.getBBox());\n\n    this.buttonGroup = group;\n  }\n\n  /**\n   * \n   */\n  private drawText(group: IGroup) {\n    const config = this.getButtonCfg();\n    // \n    return group.addShape({\n      type: 'text',\n      name: 'button-text',\n      attrs: {\n        text: config.text,\n        ...config.textStyle?.default,\n      },\n    });\n  }\n\n  private drawBackground(group: IGroup, bbox: BBox) {\n    const config = this.getButtonCfg();\n    const padding = normalPadding(config.padding);\n    // \n    const buttonShape = group.addShape({\n      type: 'rect',\n      name: 'button-rect',\n      attrs: {\n        x: bbox.x - padding[3],\n        y: bbox.y - padding[0],\n        width: bbox.width + padding[1] + padding[3],\n        height: bbox.height + padding[0] + padding[2],\n        ...config.buttonStyle?.default,\n      },\n    });\n    buttonShape.toBack(); // \n\n    // active \n    group.on('mouseenter', () => {\n      buttonShape.attr(config.buttonStyle?.active);\n    });\n    group.on('mouseleave', () => {\n      buttonShape.attr(config.buttonStyle?.default);\n    });\n\n    return buttonShape;\n  }\n\n  // \n  private resetPosition() {\n    const view = this.context.view;\n    const coord = view.getCoordinate();\n    const point = coord.convert({ x: 1, y: 1 }); // \n    const buttonGroup = this.buttonGroup;\n    const bbox = buttonGroup.getBBox();\n    const matrix = Util.transform(null, [\n      ['t', point.x - bbox.width - PADDING_RIGHT, point.y + bbox.height + PADDING_TOP],\n    ]);\n    buttonGroup.setMatrix(matrix);\n  }\n\n  /**\n   * \n   */\n  public show() {\n    if (!this.buttonGroup) {\n      this.drawButton();\n    }\n    this.resetPosition();\n    this.buttonGroup.show();\n  }\n\n  /**\n   * \n   */\n  public hide() {\n    if (this.buttonGroup) {\n      this.buttonGroup.hide();\n    }\n  }\n\n  /**\n   * \n   */\n  public destroy() {\n    const buttonGroup = this.buttonGroup;\n    if (buttonGroup) {\n      buttonGroup.remove();\n    }\n    super.destroy();\n  }\n}\n\nexport { ButtonAction };\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  columnWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  barWidthRatio: 0.6,\n  marginRatio: 1 / 32,\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n    offset: 20,\n  },\n  legend: {\n    radio: {},\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { IElement, IGroup } from '@antv/g-base';\nimport { Util, Element, Action } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../../utils/matrix';\n\n/**\n *   action\n */\nexport class PieLegendAction extends Action {\n  /**\n   * \n   */\n  private getActiveElements(): Element[] {\n    const delegateObject = Util.getDelegationObject(this.context);\n    if (delegateObject) {\n      const view = this.context.view;\n      const { component, item } = delegateObject;\n      const field = component.get('field');\n      if (field) {\n        const elements = view.geometries[0].elements;\n        return elements.filter((ele) => ele.getModel().data[field] === item.value);\n      }\n    }\n    return [];\n  }\n\n  /**\n   * \n   */\n  private getActiveElementLabels(): (IElement | IGroup)[] {\n    const view = this.context.view;\n    const elements = this.getActiveElements();\n    const labels = view.geometries[0].labelsContainer.getChildren();\n    return labels.filter((label) => elements.find((ele) => isEqual(ele.getData(), label.get('data'))));\n  }\n\n  protected transfrom(offset: number = 7.5) {\n    const elements = this.getActiveElements();\n    const elementLabels = this.getActiveElementLabels();\n    elements.forEach((element, idx) => {\n      const labelShape = elementLabels[idx];\n      const coordinate = element.geometry.coordinate;\n      if (coordinate.isPolar && coordinate.isTransposed) {\n        const { startAngle, endAngle } = Util.getAngle(element.getModel(), coordinate);\n        const middleAngle = (startAngle + endAngle) / 2;\n        const r = offset;\n        const x = r * Math.cos(middleAngle);\n        const y = r * Math.sin(middleAngle);\n        element.shape.setMatrix(transform([['t', x, y]]));\n        labelShape.setMatrix(transform([['t', x, y]]));\n      }\n    });\n  }\n\n  public active() {\n    this.transfrom();\n  }\n\n  /**\n   * \n   */\n  public reset() {\n    this.transfrom(0);\n  }\n}\n","import { View, Action, Util, Types } from '@antv/g2';\nimport { each, get } from '@antv/util';\nimport { Annotation } from '../../../../types/annotation';\nimport { renderStatistic } from '../../../../utils/statistic';\nimport { PieOptions } from '../../types';\nimport { getCurrentElement } from '../util';\n\n/**\n * Pie  Action\n */\nexport class StatisticAction extends Action {\n  private initialAnnotation;\n\n  private getAnnotations(_view?: View): object[] {\n    const view = _view || this.context.view;\n    // @ts-ignore\n    return view.getController('annotation').option;\n  }\n\n  private getInitialAnnotation(): Types.ComponentOption[] | null {\n    return this.initialAnnotation;\n  }\n\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n\n    view.on('afterchangesize', () => {\n      const annotations = this.getAnnotations(view);\n      this.initialAnnotation = annotations;\n    });\n  }\n\n  public change(arg?: Pick<PieOptions, 'annotations' | 'statistic'>) {\n    const { view, event } = this.context;\n    if (!this.initialAnnotation) {\n      this.initialAnnotation = this.getAnnotations();\n    }\n\n    let data = get(event, ['data', 'data']);\n    if (event.type.match('legend-item')) {\n      const delegateObject = Util.getDelegationObject(this.context);\n      // @ts-ignore\n      const colorField = view.getGroupedFields()[0];\n      if (delegateObject && colorField) {\n        const { item } = delegateObject;\n        data = view.getData().find((d) => d[colorField] === item.value);\n      }\n    }\n\n    if (data) {\n      const annotations = get(arg, 'annotations', []);\n      const statistic = get(arg, 'statistic', {});\n      // \n      view.getController('annotation').clear(true);\n      //  annotations\n      each(annotations, (annotation: Annotation) => {\n        if (typeof annotation === 'object') {\n          view.annotation()[annotation.type](annotation);\n        }\n      });\n      renderStatistic(view, { statistic, plotType: 'pie' }, data);\n      view.render(true);\n    }\n\n    //  shape \n    const ele = getCurrentElement(this.context);\n    if (ele) {\n      ele.shape.toFront();\n    }\n  }\n\n  public reset() {\n    const { view } = this.context;\n    const annotationController = view.getController('annotation');\n    annotationController.clear(true);\n    const initialStatistic = this.getInitialAnnotation();\n    each(initialStatistic, (a) => {\n      view.annotation()[a.type](a);\n    });\n    view.render(true);\n  }\n}\n","import { Element } from '@antv/g2';\n\n/**\n * \n * @param context \n * @ignore\n */\nexport function getCurrentElement(context): Element | undefined {\n  const event = context.event;\n  let element;\n  const target = event.target;\n  if (target) {\n    element = target.get('element');\n  }\n  return element;\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RoseOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RoseOptions };\n\nexport class Rose extends Plot<RoseOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<RoseOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'rose';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<RoseOptions> {\n    return Rose.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RoseOptions> {\n    return adaptor;\n  }\n}\n","import { filter, isObject, isArray } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { flow, findGeometry, log, LEVEL, transformLabel, deepAssign } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { RoseOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { data, sectorStyle, color } = options;\n\n  // \n  chart.data(data);\n\n  flow(interval)(\n    deepAssign({}, params, {\n      options: {\n        marginRatio: 1,\n        interval: {\n          style: sectorStyle,\n          color,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { label, xField } = options;\n  const geometry = findGeometry(chart, 'interval');\n\n  // label  false  label\n  if (label === false) {\n    geometry.label(false);\n  } else if (isObject(label)) {\n    const { callback, fields, ...cfg } = label;\n    const { offset } = cfg;\n    let layout = cfg.layout;\n\n    //  label  shape  'limit-in-shape' \n    //  label \n    if (offset === undefined || offset >= 0) {\n      layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n      cfg.layout = filter(layout, (v) => v.type !== 'limit-in-shape');\n      cfg.layout.length || delete cfg.layout;\n    }\n\n    geometry.label({\n      fields: fields || [xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  } else {\n    log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n    geometry.label({ fields: [xField] });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (seriesField) {\n    chart.legend(seriesField, legend);\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart.coordinate({\n    type: 'polar',\n    cfg: {\n      radius,\n      innerRadius,\n      startAngle,\n      endAngle,\n    },\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RoseOptions>): Params<RoseOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  falsy \n  if (!xAxis) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (!yAxis) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RoseOptions>) {\n  // flow  G2 API\n  flow(\n    pattern('sectorStyle'),\n    geometry,\n    meta,\n    label,\n    coordinate,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    theme,\n    annotation(),\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  xAxis: false,\n  yAxis: false,\n  legend: {\n    position: 'right',\n    radio: {},\n  },\n  sectorStyle: {\n    stroke: '#fff',\n    lineWidth: 1,\n  },\n  label: {\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    shared: true,\n    showMarkers: false,\n  },\n  interactions: [{ type: 'active-region' }],\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WordCloudOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { processImageMask, transform } from './utils';\n// shape\nimport './shapes/word-cloud';\n\nexport type { WordCloudOptions };\n\nexport class WordCloud extends Plot<WordCloudOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WordCloudOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'word-cloud';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    if (this.options.imageMask) {\n      this.render();\n    } else {\n      this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n    }\n  }\n\n  /**\n   *  options \n   */\n  protected getDefaultOptions(): Partial<WordCloudOptions> {\n    return WordCloud.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  public render() {\n    return new Promise<void>((res) => {\n      const { imageMask } = this.options;\n\n      if (!imageMask) {\n        // \n        super.render();\n        res();\n        return;\n      }\n\n      const handler = (img: HTMLImageElement) => {\n        this.options = {\n          ...this.options,\n          imageMask: img || null,\n        };\n\n        // \n        super.render();\n        res();\n      };\n\n      processImageMask(imageMask).then(handler).catch(handler);\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WordCloudOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      //  adaptor\n      // \n      this.execAdaptor();\n\n      // \n      // TODO: \n      window.setTimeout(() => {\n        // \n        super.triggerResize();\n      });\n    }\n  }\n}\n","import { isFunction, get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { WordCloudOptions } from './types';\nimport { transform } from './utils';\nimport { WORD_CLOUD_COLOR_FIELD } from './constant';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { colorField, color } = options;\n  const data = transform(params);\n\n  chart.data(data);\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'x',\n      yField: 'y',\n      seriesField: colorField && WORD_CLOUD_COLOR_FIELD,\n      rawFields: isFunction(color) && [...get(options, 'rawFields', []), 'datum'],\n      point: {\n        color,\n        shape: 'word-cloud',\n      },\n    },\n  });\n\n  const { ext } = point(p);\n  ext.geometry.label(false);\n\n  chart.coordinate().reflect('y');\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  return flow(\n    scale({\n      x: { nice: false },\n      y: { nice: false },\n    })\n  )(params);\n}\n\n/**\n *  legend \n * @param params\n */\nexport function legend(params: Params<WordCloudOptions>): Params<WordCloudOptions> {\n  const { chart, options } = params;\n  const { legend, colorField } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (colorField) {\n    chart.legend(WORD_CLOUD_COLOR_FIELD, legend);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<WordCloudOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n","import { isNil, isFunction, assign } from '@antv/util';\r\nimport { Tag, Word } from '../../plots/word-cloud/types';\r\n\r\ntype FontWeight = number | 'normal' | 'bold' | 'bolder' | 'lighter';\r\n\r\nexport interface Options {\r\n  size: [number, number];\r\n  font?: string | ((row: Word, index?: number, words?: Word[]) => string);\r\n  fontSize?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  fontWeight?: FontWeight | ((row: Word, index?: number, words?: Word[]) => FontWeight);\r\n  rotate?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  padding?: number | ((row: Word, index?: number, words?: Word[]) => number);\r\n  spiral?: 'archimedean' | 'rectangular' | ((size: [number, number]) => (t: number) => number[]);\r\n  random?: number | (() => number);\r\n  timeInterval?: number;\r\n  imageMask?: HTMLImageElement;\r\n}\r\n\r\nconst DEFAULT_OPTIONS: Options = {\r\n  font: () => 'serif',\r\n  padding: 1,\r\n  size: [500, 500],\r\n  spiral: 'archimedean', // 'archimedean' || 'rectangular' || {function}\r\n  // timeInterval: Infinity // max execute time\r\n  timeInterval: 3000, // max execute time\r\n  // imageMask: '', // instance of Image, must be loaded\r\n};\r\n\r\n/**\r\n * \r\n * \r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function wordCloud(words: Word[], options?: Partial<Options>): Tag[] {\r\n  // \r\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\r\n  return transform(words, options as Options);\r\n}\r\n\r\n/**\r\n * \r\n * @param words\r\n * @param options\r\n */\r\nexport function transform(words: Word[], options: Options) {\r\n  // \r\n  const layout = tagCloud();\r\n  ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(\r\n    (key: string) => {\r\n      if (!isNil(options[key])) {\r\n        layout[key](options[key]);\r\n      }\r\n    }\r\n  );\r\n\r\n  layout.words(words);\r\n  if (options.imageMask) {\r\n    layout.createMask(options.imageMask);\r\n  }\r\n\r\n  const result = layout.start();\r\n  const tags: any[] = result._tags;\r\n\r\n  tags.forEach((tag) => {\r\n    tag.x += options.size[0] / 2;\r\n    tag.y += options.size[1] / 2;\r\n  });\r\n\r\n  const [w, h] = options.size;\r\n  // \r\n  // \r\n  // \r\n  // \r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: 0,\r\n    y: 0,\r\n    opacity: 0,\r\n  });\r\n  tags.push({\r\n    text: '',\r\n    value: 0,\r\n    x: w,\r\n    y: h,\r\n    opacity: 0,\r\n  });\r\n\r\n  return tags;\r\n}\r\n\r\n/*\r\n * Synchronous version of d3-cloud\r\n */\r\n// Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\r\n// Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\r\n/* eslint-disable no-return-assign, no-cond-assign */\r\n\r\ninterface Item {\r\n  value: number;\r\n  text: string;\r\n  sprite: boolean;\r\n}\r\n\r\nconst cloudRadians = Math.PI / 180,\r\n  cw = (1 << 11) >> 5,\r\n  ch = 1 << 11;\r\n\r\nfunction cloudText(d: Item) {\r\n  return d.text;\r\n}\r\n\r\nfunction cloudFont() {\r\n  return 'serif';\r\n}\r\n\r\nfunction cloudFontNormal() {\r\n  return 'normal';\r\n}\r\n\r\nfunction cloudFontSize(d: Item) {\r\n  return d.value;\r\n}\r\n\r\nfunction cloudRotate() {\r\n  return ~~(Math.random() * 2) * 90;\r\n}\r\n\r\nfunction cloudPadding() {\r\n  return 1;\r\n}\r\n\r\n// Fetches a monochrome sprite bitmap for the specified text.\r\n// Load in batches for speed.\r\nfunction cloudSprite(contextAndRatio, d, data, di) {\r\n  if (d.sprite) return;\r\n  const c = contextAndRatio.context,\r\n    ratio = contextAndRatio.ratio;\r\n\r\n  c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\r\n  let x = 0,\r\n    y = 0,\r\n    maxh = 0;\r\n  const n = data.length;\r\n  --di;\r\n  while (++di < n) {\r\n    d = data[di];\r\n    c.save();\r\n    c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\r\n    let w = c.measureText(d.text + 'm').width * ratio,\r\n      h = d.size << 1;\r\n    if (d.rotate) {\r\n      const sr = Math.sin(d.rotate * cloudRadians),\r\n        cr = Math.cos(d.rotate * cloudRadians),\r\n        wcr = w * cr,\r\n        wsr = w * sr,\r\n        hcr = h * cr,\r\n        hsr = h * sr;\r\n      w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\r\n      h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\r\n    } else {\r\n      w = ((w + 0x1f) >> 5) << 5;\r\n    }\r\n    if (h > maxh) maxh = h;\r\n    if (x + w >= cw << 5) {\r\n      x = 0;\r\n      y += maxh;\r\n      maxh = 0;\r\n    }\r\n    if (y + h >= ch) break;\r\n    c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\r\n    if (d.rotate) c.rotate(d.rotate * cloudRadians);\r\n    c.fillText(d.text, 0, 0);\r\n    if (d.padding) {\r\n      c.lineWidth = 2 * d.padding;\r\n      c.strokeText(d.text, 0, 0);\r\n    }\r\n    c.restore();\r\n    d.width = w;\r\n    d.height = h;\r\n    d.xoff = x;\r\n    d.yoff = y;\r\n    d.x1 = w >> 1;\r\n    d.y1 = h >> 1;\r\n    d.x0 = -d.x1;\r\n    d.y0 = -d.y1;\r\n    d.hasText = true;\r\n    x += w;\r\n  }\r\n  const pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\r\n    sprite = [];\r\n  while (--di >= 0) {\r\n    d = data[di];\r\n    if (!d.hasText) continue;\r\n    const w = d.width,\r\n      w32 = w >> 5;\r\n    let h = d.y1 - d.y0;\r\n    // Zero the buffer\r\n    for (let i = 0; i < h * w32; i++) sprite[i] = 0;\r\n    x = d.xoff;\r\n    if (x == null) return;\r\n    y = d.yoff;\r\n    let seen = 0,\r\n      seenRow = -1;\r\n    for (let j = 0; j < h; j++) {\r\n      for (let i = 0; i < w; i++) {\r\n        const k = w32 * j + (i >> 5),\r\n          m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\r\n        sprite[k] |= m;\r\n        seen |= m;\r\n      }\r\n      if (seen) seenRow = j;\r\n      else {\r\n        d.y0++;\r\n        h--;\r\n        j--;\r\n        y++;\r\n      }\r\n    }\r\n    d.y1 = d.y0 + seenRow;\r\n    d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\r\n  }\r\n}\r\n\r\n// Use mask-based collision detection.\r\nfunction cloudCollide(tag, board, sw) {\r\n  sw >>= 5;\r\n  const sprite = tag.sprite,\r\n    w = tag.width >> 5,\r\n    lx = tag.x - (w << 4),\r\n    sx = lx & 0x7f,\r\n    msx = 32 - sx,\r\n    h = tag.y1 - tag.y0;\r\n  let x = (tag.y + tag.y0) * sw + (lx >> 5),\r\n    last;\r\n  for (let j = 0; j < h; j++) {\r\n    last = 0;\r\n    for (let i = 0; i <= w; i++) {\r\n      if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i]) return true;\r\n    }\r\n    x += sw;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction cloudBounds(bounds, d) {\r\n  const b0 = bounds[0],\r\n    b1 = bounds[1];\r\n  if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\r\n  if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\r\n  if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\r\n  if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\r\n}\r\n\r\nfunction collideRects(a, b) {\r\n  return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\r\n}\r\n\r\nfunction archimedeanSpiral(size) {\r\n  const e = size[0] / size[1];\r\n  return function (t) {\r\n    return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\r\n  };\r\n}\r\n\r\nfunction rectangularSpiral(size) {\r\n  const dy = 4,\r\n    dx = (dy * size[0]) / size[1];\r\n  let x = 0,\r\n    y = 0;\r\n  return function (t) {\r\n    const sign = t < 0 ? -1 : 1;\r\n    // See triangular numbers: T_n = n * (n + 1) / 2.\r\n    switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\r\n      case 0:\r\n        x += dx;\r\n        break;\r\n      case 1:\r\n        y += dy;\r\n        break;\r\n      case 2:\r\n        x -= dx;\r\n        break;\r\n      default:\r\n        y -= dy;\r\n        break;\r\n    }\r\n    return [x, y];\r\n  };\r\n}\r\n\r\n// TODO reuse arrays?\r\nfunction zeroArray(n) {\r\n  const a = [];\r\n  let i = -1;\r\n  while (++i < n) a[i] = 0;\r\n  return a;\r\n}\r\n\r\nfunction cloudCanvas() {\r\n  return document.createElement('canvas');\r\n}\r\n\r\nexport function functor(d) {\r\n  return isFunction(d)\r\n    ? d\r\n    : function () {\r\n        return d;\r\n      };\r\n}\r\n\r\nconst spirals = {\r\n  archimedean: archimedeanSpiral,\r\n  rectangular: rectangularSpiral,\r\n};\r\n\r\nfunction tagCloud() {\r\n  let size = [256, 256],\r\n    font = cloudFont,\r\n    fontSize = cloudFontSize,\r\n    fontWeight = cloudFontNormal,\r\n    rotate = cloudRotate,\r\n    padding = cloudPadding,\r\n    spiral = archimedeanSpiral,\r\n    random = Math.random,\r\n    words = [],\r\n    timeInterval = Infinity;\r\n\r\n  const text = cloudText;\r\n  const fontStyle = cloudFontNormal;\r\n  const canvas = cloudCanvas;\r\n  const cloud: any = {};\r\n\r\n  cloud.start = function () {\r\n    const [width, height] = size;\r\n    const contextAndRatio = getContext(canvas()),\r\n      board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]),\r\n      n = words.length,\r\n      tags = [],\r\n      data = words\r\n        .map(function (d, i, data) {\r\n          d.text = text.call(this, d, i, data);\r\n          d.font = font.call(this, d, i, data);\r\n          d.style = fontStyle.call(this, d, i, data);\r\n          d.weight = fontWeight.call(this, d, i, data);\r\n          d.rotate = rotate.call(this, d, i, data);\r\n          d.size = ~~fontSize.call(this, d, i, data);\r\n          d.padding = padding.call(this, d, i, data);\r\n          return d;\r\n        })\r\n        .sort(function (a, b) {\r\n          return b.size - a.size;\r\n        });\r\n    let i = -1,\r\n      bounds = !cloud.board\r\n        ? null\r\n        : [\r\n            {\r\n              x: 0,\r\n              y: 0,\r\n            },\r\n            {\r\n              x: width,\r\n              y: height,\r\n            },\r\n          ];\r\n\r\n    step();\r\n\r\n    function step() {\r\n      const start = Date.now();\r\n      while (Date.now() - start < timeInterval && ++i < n) {\r\n        const d = data[i];\r\n        d.x = (width * (random() + 0.5)) >> 1;\r\n        d.y = (height * (random() + 0.5)) >> 1;\r\n        cloudSprite(contextAndRatio, d, data, i);\r\n        if (d.hasText && place(board, d, bounds)) {\r\n          tags.push(d);\r\n          if (bounds) {\r\n            if (!cloud.hasImage) {\r\n              // update bounds if image mask not set\r\n              cloudBounds(bounds, d);\r\n            }\r\n          } else {\r\n            bounds = [\r\n              { x: d.x + d.x0, y: d.y + d.y0 },\r\n              { x: d.x + d.x1, y: d.y + d.y1 },\r\n            ];\r\n          }\r\n          // Temporary hack\r\n          d.x -= size[0] >> 1;\r\n          d.y -= size[1] >> 1;\r\n        }\r\n      }\r\n      cloud._tags = tags;\r\n      cloud._bounds = bounds;\r\n    }\r\n\r\n    return cloud;\r\n  };\r\n\r\n  function getContext(canvas: HTMLCanvasElement) {\r\n    canvas.width = canvas.height = 1;\r\n    const ratio = Math.sqrt(canvas.getContext('2d')!.getImageData(0, 0, 1, 1).data.length >> 2);\r\n    canvas.width = (cw << 5) / ratio;\r\n    canvas.height = ch / ratio;\r\n\r\n    const context = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n    context.fillStyle = context.strokeStyle = 'red';\r\n    context.textAlign = 'center';\r\n    return { context, ratio };\r\n  }\r\n\r\n  function place(board, tag, bounds) {\r\n    // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\r\n    const startX = tag.x,\r\n      startY = tag.y,\r\n      maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\r\n      s = spiral(size),\r\n      dt = random() < 0.5 ? 1 : -1;\r\n    let dxdy,\r\n      t = -dt,\r\n      dx,\r\n      dy;\r\n\r\n    while ((dxdy = s((t += dt)))) {\r\n      dx = ~~dxdy[0];\r\n      dy = ~~dxdy[1];\r\n\r\n      if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\r\n\r\n      tag.x = startX + dx;\r\n      tag.y = startY + dy;\r\n\r\n      if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\r\n      // TODO only check for collisions within current bounds.\r\n      if (!bounds || !cloudCollide(tag, board, size[0])) {\r\n        if (!bounds || collideRects(tag, bounds)) {\r\n          const sprite = tag.sprite,\r\n            w = tag.width >> 5,\r\n            sw = size[0] >> 5,\r\n            lx = tag.x - (w << 4),\r\n            sx = lx & 0x7f,\r\n            msx = 32 - sx,\r\n            h = tag.y1 - tag.y0;\r\n          let last,\r\n            x = (tag.y + tag.y0) * sw + (lx >> 5);\r\n          for (let j = 0; j < h; j++) {\r\n            last = 0;\r\n            for (let i = 0; i <= w; i++) {\r\n              board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\r\n            }\r\n            x += sw;\r\n          }\r\n          delete tag.sprite;\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  cloud.createMask = (img: HTMLImageElement) => {\r\n    const can: HTMLCanvasElement = document.createElement('canvas');\r\n    const [width, height] = size;\r\n\r\n    //  width  height  0  cxt.getImageData \r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const w32 = width >> 5;\r\n    const board = zeroArray((width >> 5) * height);\r\n    can.width = width;\r\n    can.height = height;\r\n    const cxt = can.getContext('2d') as CanvasRenderingContext2D;\r\n    cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\r\n    const imageData = cxt.getImageData(0, 0, width, height).data;\r\n    for (let j = 0; j < height; j++) {\r\n      for (let i = 0; i < width; i++) {\r\n        const k = w32 * j + (i >> 5);\r\n        const tmp = (j * width + i) << 2;\r\n        const flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\r\n        const m = flag ? 1 << (31 - (i % 32)) : 0;\r\n        board[k] |= m;\r\n      }\r\n    }\r\n    cloud.board = board;\r\n    cloud.hasImage = true;\r\n  };\r\n\r\n  cloud.timeInterval = function (_) {\r\n    timeInterval = _ == null ? Infinity : _;\r\n  };\r\n\r\n  cloud.words = function (_) {\r\n    words = _;\r\n  };\r\n\r\n  cloud.size = function (_) {\r\n    size = [+_[0], +_[1]];\r\n  };\r\n\r\n  cloud.font = function (_) {\r\n    font = functor(_);\r\n  };\r\n\r\n  cloud.fontWeight = function (_) {\r\n    fontWeight = functor(_);\r\n  };\r\n\r\n  cloud.rotate = function (_) {\r\n    rotate = functor(_);\r\n  };\r\n\r\n  cloud.spiral = function (_) {\r\n    spiral = spirals[_] || _;\r\n  };\r\n\r\n  cloud.fontSize = function (_) {\r\n    fontSize = functor(_);\r\n  };\r\n\r\n  cloud.padding = function (_) {\r\n    padding = functor(_);\r\n  };\r\n\r\n  cloud.random = function (_) {\r\n    random = functor(_);\r\n  };\r\n\r\n  return cloud;\r\n}\r\n","import { registerShape, Util, Types, IGroup, ShapeAttrs } from '@antv/g2';\nimport { Tag } from '../types';\n\ntype Config = Types.ShapeInfo & { data: Tag };\n\nregisterShape('point', 'word-cloud', {\n  draw(cfg: Config, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const shape = group.addShape('text', {\n      attrs: {\n        ...getTextAttrs(cfg),\n        x: cx,\n        y: cy,\n      },\n    });\n    const rotate = cfg.data.rotate;\n    if (typeof rotate === 'number') {\n      Util.rotate(shape, (rotate * Math.PI) / 180);\n    }\n\n    return shape;\n  },\n});\n\nfunction getTextAttrs(cfg: Config): ShapeAttrs {\n  return {\n    fontSize: cfg.data.size,\n    text: cfg.data.text,\n    textAlign: 'center',\n    fontFamily: cfg.data.font,\n    fontWeight: cfg.data.weight,\n    fill: cfg.color || cfg.defaultStyle.stroke,\n    textBaseline: 'alphabetic',\n  };\n}\n","import {\n  regressionLinear,\n  regressionExp,\n  regressionLoess,\n  regressionLog,\n  regressionPoly,\n  regressionPow,\n  regressionQuad,\n} from 'd3-regression';\nimport { isArray, get, isNumber } from '@antv/util';\nimport { View } from '@antv/g2';\nimport { getSplinePath } from '../../utils';\nimport { ScatterOptions } from './types';\n\nconst REGRESSION_MAP = {\n  exp: regressionExp,\n  linear: regressionLinear,\n  loess: regressionLoess,\n  log: regressionLog,\n  poly: regressionPoly,\n  pow: regressionPow,\n  quad: regressionQuad,\n};\n\ntype RenderOptions = {\n  view: View;\n  options: ScatterOptions;\n};\n\n/**\n * \n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline: number, yBaseline: number) {\n  // \n  const textOffset = 10;\n  // \n  const defaultConfig: { [key: string]: any } = {\n    regionStyle: [\n      {\n        position: {\n          start: [xBaseline, 'max'],\n          end: ['max', yBaseline],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', 'max'],\n          end: [xBaseline, yBaseline],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: ['min', yBaseline],\n          end: [xBaseline, 'min'],\n        },\n        style: {\n          fill: '#d8d0c0',\n          opacity: 0.4,\n        },\n      },\n      {\n        position: {\n          start: [xBaseline, yBaseline],\n          end: ['max', 'min'],\n        },\n        style: {\n          fill: '#a3dda1',\n          opacity: 0.4,\n        },\n      },\n    ],\n    lineStyle: {\n      stroke: '#9ba29a',\n      lineWidth: 1,\n    },\n    labelStyle: [\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: -textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'bottom',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['min', yBaseline],\n        offsetX: textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'left',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n      {\n        position: ['max', yBaseline],\n        offsetX: -textOffset,\n        offsetY: textOffset,\n        style: {\n          textAlign: 'right',\n          textBaseline: 'top',\n          fontSize: 14,\n          fill: '#ccc',\n        },\n      },\n    ],\n  };\n  return defaultConfig;\n}\n\nconst splinePath = (data: number[][], config: RenderOptions) => {\n  const {\n    view,\n    options: { xField, yField },\n  } = config;\n  const xScaleView = view.getScaleByField(xField);\n  const yScaleView = view.getScaleByField(yField);\n  const pathData = data.map((d: [number, number]) =>\n    view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) })\n  );\n  return getSplinePath(pathData, false);\n};\n\nexport const getPath = (config: RenderOptions) => {\n  const { options } = config;\n  const { xField, yField, data, regressionLine } = options;\n  const { type = 'linear', algorithm } = regressionLine;\n  let pathData: Array<[number, number]>;\n  if (algorithm) {\n    pathData = isArray(algorithm) ? algorithm : algorithm(data);\n  } else {\n    const reg = REGRESSION_MAP[type]()\n      .x((d) => d[xField])\n      .y((d) => d[yField]);\n    pathData = reg(data);\n  }\n  return splinePath(pathData, config);\n};\n\n/**\n *  meta: { min, max }  data.length === 1   y    x \n * @param options\n * @returns\n */\nexport const getMeta = (\n  options: Pick<ScatterOptions, 'meta' | 'xField' | 'yField' | 'data'>\n): ScatterOptions['meta'] => {\n  const { meta = {}, xField, yField, data } = options;\n  const xFieldValue = data[0][xField];\n  const yFieldValue = data[0][yField];\n  const xIsPositiveNumber = xFieldValue > 0;\n  const yIsPositiveNumber = yFieldValue > 0;\n\n  /**\n   *  min max scale \n   */\n  function getMetaMinMax(field: string, axis: 'x' | 'y') {\n    const fieldMeta = get(meta, [field]);\n\n    function getCustomValue(type: 'min' | 'max') {\n      return get(fieldMeta, type);\n    }\n\n    const range = {};\n\n    if (axis === 'x') {\n      if (isNumber(xFieldValue)) {\n        if (!isNumber(getCustomValue('min'))) {\n          range['min'] = xIsPositiveNumber ? 0 : xFieldValue * 2;\n        }\n\n        if (!isNumber(getCustomValue('max'))) {\n          range['max'] = xIsPositiveNumber ? xFieldValue * 2 : 0;\n        }\n      }\n\n      return range;\n    }\n\n    if (isNumber(yFieldValue)) {\n      if (!isNumber(getCustomValue('min'))) {\n        range['min'] = yIsPositiveNumber ? 0 : yFieldValue * 2;\n      }\n\n      if (!isNumber(getCustomValue('max'))) {\n        range['max'] = yIsPositiveNumber ? yFieldValue * 2 : 0;\n      }\n    }\n\n    return range;\n  }\n\n  return {\n    ...meta,\n    [xField]: {\n      ...meta[xField],\n      ...getMetaMinMax(xField, 'x'),\n    },\n    [yField]: {\n      ...meta[yField],\n      ...getMetaMinMax(yField, 'y'),\n    },\n  };\n};\n","// https://github.com/HarryStevens/d3-regression#readme Version 1.3.10. Copyright 2022 Harry Stevens.\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\n// Adapted from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\nfunction points(data, x, y, sort) {\n  data = data.filter(function (d, i) {\n    var u = x(d, i),\n        v = y(d, i);\n    return u != null && isFinite(u) && v != null && isFinite(v);\n  });\n\n  if (sort) {\n    data.sort(function (a, b) {\n      return x(a) - x(b);\n    });\n  }\n\n  var n = data.length,\n      X = new Float64Array(n),\n      Y = new Float64Array(n); // extract values, calculate means\n\n  var ux = 0,\n      uy = 0,\n      xv,\n      yv,\n      d;\n\n  for (var i = 0; i < n;) {\n    d = data[i];\n    X[i] = xv = +x(d, i, data);\n    Y[i] = yv = +y(d, i, data);\n    ++i;\n    ux += (xv - ux) / i;\n    uy += (yv - uy) / i;\n  } // mean center the data\n\n\n  for (var _i = 0; _i < n; ++_i) {\n    X[_i] -= ux;\n    Y[_i] -= uy;\n  }\n\n  return [X, Y, ux, uy];\n}\nfunction visitPoints(data, x, y, cb) {\n  var iterations = 0;\n\n  for (var i = 0, n = data.length; i < n; i++) {\n    var d = data[i],\n        dx = +x(d, i, data),\n        dy = +y(d, i, data);\n\n    if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n      cb(dx, dy, iterations++);\n    }\n  }\n}\n\n// return the coefficient of determination, or R squared.\n\nfunction determination(data, x, y, uY, predict) {\n  var SSE = 0,\n      SST = 0;\n  visitPoints(data, x, y, function (dx, dy) {\n    var sse = dy - predict(dx),\n        sst = dy - uY;\n    SSE += sse * sse;\n    SST += sst * sst;\n  });\n  return 1 - SSE / SST;\n}\n\n// Returns the angle of a line in degrees.\nfunction angle(line) {\n  return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n} // Returns the midpoint of a line.\n\nfunction midpoint(line) {\n  return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n}\n\n// returns a smooth line.\n\nfunction interpose(xmin, xmax, predict) {\n  var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n  var precision = 1 * Math.pow(10, -l / 2 - 1),\n      maxIter = 1e4;\n  var points = [px(xmin), px(xmax)],\n      iter = 0;\n\n  while (find(points) && iter < maxIter) {\n  }\n\n  return points;\n\n  function px(x) {\n    return [x, predict(x)];\n  }\n\n  function find(points) {\n    iter++;\n    var n = points.length;\n    var found = false;\n\n    for (var i = 0; i < n - 1; i++) {\n      var p0 = points[i],\n          p1 = points[i + 1],\n          m = midpoint([p0, p1]),\n          mp = px(m[0]),\n          a0 = angle([p0, m]),\n          a1 = angle([p0, mp]),\n          a = Math.abs(a0 - a1);\n\n      if (a > precision) {\n        points.splice(i + 1, 0, mp);\n        found = true;\n      }\n    }\n\n    return found;\n  }\n}\n\n// Ordinary Least Squares from vega-statistics by Jeffrey Heer\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n// Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\nfunction ols(uX, uY, uXY, uX2) {\n  var delta = uX2 - uX * uX,\n      slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n      intercept = uY - slope * uX;\n  return [intercept, slope];\n}\n\nfunction exponential () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function exponential(data) {\n    var n = 0,\n        Y = 0,\n        YL = 0,\n        XY = 0,\n        XYL = 0,\n        X2Y = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var ly = Math.log(dy),\n          xy = dx * dy;\n      ++n;\n      Y += (dy - Y) / n;\n      XY += (xy - XY) / n;\n      X2Y += (dx * xy - X2Y) / n;\n      YL += (dy * ly - YL) / n;\n      XYL += (xy * ly - XYL) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.exp(b * x);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  exponential.domain = function (arr) {\n    return arguments.length ? (domain = arr, exponential) : domain;\n  };\n\n  exponential.x = function (fn) {\n    return arguments.length ? (x = fn, exponential) : x;\n  };\n\n  exponential.y = function (fn) {\n    return arguments.length ? (y = fn, exponential) : y;\n  };\n\n  return exponential;\n}\n\nfunction linear () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function linear(data) {\n    var n = 0,\n        X = 0,\n        // sum of x\n    Y = 0,\n        // sum of y\n    XY = 0,\n        // sum of x * y\n    X2 = 0,\n        // sum of x * x\n    xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n;\n      X += (dx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (dx * dy - XY) / n;\n      X2 += (dx * dx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * x + intercept;\n    },\n        out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  linear.domain = function (arr) {\n    return arguments.length ? (domain = arr, linear) : domain;\n  };\n\n  linear.x = function (fn) {\n    return arguments.length ? (x = fn, linear) : x;\n  };\n\n  linear.y = function (fn) {\n    return arguments.length ? (y = fn, linear) : y;\n  };\n\n  return linear;\n}\n\n// Returns the medium value of an array of numbers.\nfunction median(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  var i = arr.length / 2;\n  return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n}\n\nvar maxiters = 2,\n    epsilon = 1e-12;\nfunction loess () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      bandwidth = .3;\n\n  function loess(data) {\n    var _points = points(data, x, y, true),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        bw = Math.max(2, ~~(bandwidth * n)),\n        yhat = new Float64Array(n),\n        residuals = new Float64Array(n),\n        robustWeights = new Float64Array(n).fill(1);\n\n    for (var iter = -1; ++iter <= maxiters;) {\n      var interval = [0, bw - 1];\n\n      for (var i = 0; i < n; ++i) {\n        var dx = xv[i],\n            i0 = interval[0],\n            i1 = interval[1],\n            edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n        var W = 0,\n            X = 0,\n            Y = 0,\n            XY = 0,\n            X2 = 0,\n            denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n        for (var k = i0; k <= i1; ++k) {\n          var xk = xv[k],\n              yk = yv[k],\n              w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n              xkw = xk * w;\n          W += w;\n          X += xkw;\n          Y += yk * w;\n          XY += yk * xkw;\n          X2 += xk * xkw;\n        } // Linear regression fit\n\n\n        var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n            _ols2 = _slicedToArray(_ols, 2),\n            a = _ols2[0],\n            b = _ols2[1];\n\n        yhat[i] = a + b * dx;\n        residuals[i] = Math.abs(yv[i] - yhat[i]);\n        updateInterval(xv, i + 1, interval);\n      }\n\n      if (iter === maxiters) {\n        break;\n      }\n\n      var medianResidual = median(residuals);\n      if (Math.abs(medianResidual) < epsilon) break;\n\n      for (var _i = 0, arg, _w; _i < n; ++_i) {\n        arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n        // Keeping weights tiny but non-zero prevents singularites\n\n        robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n      }\n    }\n\n    return output(xv, yhat, ux, uy);\n  }\n\n  loess.bandwidth = function (bw) {\n    return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n  };\n\n  loess.x = function (fn) {\n    return arguments.length ? (x = fn, loess) : x;\n  };\n\n  loess.y = function (fn) {\n    return arguments.length ? (y = fn, loess) : y;\n  };\n\n  return loess;\n} // Weighting kernel for local regression\n\nfunction tricube(x) {\n  return (x = 1 - x * x * x) * x * x;\n} // Advance sliding window interval of nearest neighbors\n\n\nfunction updateInterval(xv, i, interval) {\n  var val = xv[i],\n      left = interval[0],\n      right = interval[1] + 1;\n  if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n  // Step when distance is equal to ensure movement over duplicate x values\n\n  while (i > left && xv[right] - val <= val - xv[left]) {\n    interval[0] = ++left;\n    interval[1] = right;\n    ++right;\n  }\n} // Generate smoothed output points\n// Average points with repeated x values\n\n\nfunction output(xv, yhat, ux, uy) {\n  var n = xv.length,\n      out = [];\n  var i = 0,\n      cnt = 0,\n      prev = [],\n      v;\n\n  for (; i < n; ++i) {\n    v = xv[i] + ux;\n\n    if (prev[0] === v) {\n      // Average output values via online update\n      prev[1] += (yhat[i] - prev[1]) / ++cnt;\n    } else {\n      // Add new output point\n      cnt = 0;\n      prev[1] += uy;\n      prev = [v, yhat[i]];\n      out.push(prev);\n    }\n  }\n\n  prev[1] += uy;\n  return out;\n}\n\nfunction logarithmic () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      base = Math.E,\n      domain;\n\n  function logarithmic(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity,\n        lb = Math.log(base);\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx) / lb;\n      ++n;\n      X += (lx - X) / n;\n      Y += (dy - Y) / n;\n      XY += (lx * dy - XY) / n;\n      X2 += (lx * lx - X2) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        intercept = _ols2[0],\n        slope = _ols2[1],\n        fn = function fn(x) {\n      return slope * Math.log(x) / lb + intercept;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = slope;\n    out.b = intercept;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  logarithmic.domain = function (arr) {\n    return arguments.length ? (domain = arr, logarithmic) : domain;\n  };\n\n  logarithmic.x = function (fn) {\n    return arguments.length ? (x = fn, logarithmic) : x;\n  };\n\n  logarithmic.y = function (fn) {\n    return arguments.length ? (y = fn, logarithmic) : y;\n  };\n\n  logarithmic.base = function (n) {\n    return arguments.length ? (base = n, logarithmic) : base;\n  };\n\n  return logarithmic;\n}\n\nfunction quad () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function quadratic(data) {\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length;\n\n    var X2 = 0,\n        X3 = 0,\n        X4 = 0,\n        XY = 0,\n        X2Y = 0,\n        i,\n        dx,\n        dy,\n        x2;\n\n    for (i = 0; i < n;) {\n      dx = xv[i];\n      dy = yv[i++];\n      x2 = dx * dx;\n      X2 += (x2 - X2) / i;\n      X3 += (x2 * dx - X3) / i;\n      X4 += (x2 * x2 - X4) / i;\n      XY += (dx * dy - XY) / i;\n      X2Y += (x2 * dy - X2Y) / i;\n    }\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      n0++;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var X2X2 = X4 - X2 * X2,\n        d = X2 * X2X2 - X3 * X3,\n        a = (X2Y * X2 - XY * X3) / d,\n        b = (XY * X2X2 - X2Y * X3) / d,\n        c = -a * X2,\n        fn = function fn(x) {\n      x = x - ux;\n      return a * x * x + b * x + c + uy;\n    };\n\n    var out = interpose(xmin, xmax, fn);\n    out.a = a;\n    out.b = b - 2 * a * ux;\n    out.c = c - b * ux + a * ux * ux + uy;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  quadratic.domain = function (arr) {\n    return arguments.length ? (domain = arr, quadratic) : domain;\n  };\n\n  quadratic.x = function (fn) {\n    return arguments.length ? (x = fn, quadratic) : x;\n  };\n\n  quadratic.y = function (fn) {\n    return arguments.length ? (y = fn, quadratic) : y;\n  };\n\n  return quadratic;\n}\n\n// Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n// License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n// ...with ideas from vega-statistics by Jeffrey Heer\n// Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n// License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\nfunction polynomial () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      order = 3,\n      domain;\n\n  function polynomial(data) {\n    // Use more efficient methods for lower orders\n    if (order === 1) {\n      var o = linear().x(x).y(y).domain(domain)(data);\n      o.coefficients = [o.b, o.a];\n      delete o.a;\n      delete o.b;\n      return o;\n    }\n\n    if (order === 2) {\n      var _o = quad().x(x).y(y).domain(domain)(data);\n\n      _o.coefficients = [_o.c, _o.b, _o.a];\n      delete _o.a;\n      delete _o.b;\n      delete _o.c;\n      return _o;\n    }\n\n    var _points = points(data, x, y),\n        _points2 = _slicedToArray(_points, 4),\n        xv = _points2[0],\n        yv = _points2[1],\n        ux = _points2[2],\n        uy = _points2[3],\n        n = xv.length,\n        lhs = [],\n        rhs = [],\n        k = order + 1;\n\n    var Y = 0,\n        n0 = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      ++n0;\n      Y += (dy - Y) / n0;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n    var i, j, l, v, c;\n\n    for (i = 0; i < k; ++i) {\n      for (l = 0, v = 0; l < n; ++l) {\n        v += Math.pow(xv[l], i) * yv[l];\n      }\n\n      lhs.push(v);\n      c = new Float64Array(k);\n\n      for (j = 0; j < k; ++j) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i + j);\n        }\n\n        c[j] = v;\n      }\n\n      rhs.push(c);\n    }\n\n    rhs.push(lhs);\n\n    var coef = gaussianElimination(rhs),\n        fn = function fn(x) {\n      x -= ux;\n      var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n      for (i = 3; i < k; ++i) {\n        y += coef[i] * Math.pow(x, i);\n      }\n\n      return y;\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.coefficients = uncenter(k, coef, -ux, uy);\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, Y, fn);\n    return out;\n  }\n\n  polynomial.domain = function (arr) {\n    return arguments.length ? (domain = arr, polynomial) : domain;\n  };\n\n  polynomial.x = function (fn) {\n    return arguments.length ? (x = fn, polynomial) : x;\n  };\n\n  polynomial.y = function (fn) {\n    return arguments.length ? (y = fn, polynomial) : y;\n  };\n\n  polynomial.order = function (n) {\n    return arguments.length ? (order = n, polynomial) : order;\n  };\n\n  return polynomial;\n}\n\nfunction uncenter(k, a, x, y) {\n  var z = Array(k);\n  var i, j, v, c; // initialize to zero\n\n  for (i = 0; i < k; ++i) {\n    z[i] = 0;\n  } // polynomial expansion\n\n\n  for (i = k - 1; i >= 0; --i) {\n    v = a[i];\n    c = 1;\n    z[i] += v;\n\n    for (j = 1; j <= i; ++j) {\n      c *= (i + 1 - j) / j; // binomial coefficent\n\n      z[i - j] += v * Math.pow(x, j) * c;\n    }\n  } // bias term\n\n\n  z[0] += y;\n  return z;\n} // Given an array for a two-dimensional matrix and the polynomial order,\n// solve A * x = b using Gaussian elimination.\n\n\nfunction gaussianElimination(matrix) {\n  var n = matrix.length - 1,\n      coef = [];\n  var i, j, k, r, t;\n\n  for (i = 0; i < n; ++i) {\n    r = i; // max row\n\n    for (j = i + 1; j < n; ++j) {\n      if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n        r = j;\n      }\n    }\n\n    for (k = i; k < n + 1; ++k) {\n      t = matrix[k][i];\n      matrix[k][i] = matrix[k][r];\n      matrix[k][r] = t;\n    }\n\n    for (j = i + 1; j < n; ++j) {\n      for (k = n; k >= i; k--) {\n        matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n      }\n    }\n  }\n\n  for (j = n - 1; j >= 0; --j) {\n    t = 0;\n\n    for (k = j + 1; k < n; ++k) {\n      t += matrix[k][j] * coef[k];\n    }\n\n    coef[j] = (matrix[n][j] - t) / matrix[j][j];\n  }\n\n  return coef;\n}\n\nfunction power () {\n  var x = function x(d) {\n    return d[0];\n  },\n      y = function y(d) {\n    return d[1];\n  },\n      domain;\n\n  function power(data) {\n    var n = 0,\n        X = 0,\n        Y = 0,\n        XY = 0,\n        X2 = 0,\n        YS = 0,\n        xmin = domain ? +domain[0] : Infinity,\n        xmax = domain ? +domain[1] : -Infinity;\n    visitPoints(data, x, y, function (dx, dy) {\n      var lx = Math.log(dx),\n          ly = Math.log(dy);\n      ++n;\n      X += (lx - X) / n;\n      Y += (ly - Y) / n;\n      XY += (lx * ly - XY) / n;\n      X2 += (lx * lx - X2) / n;\n      YS += (dy - YS) / n;\n\n      if (!domain) {\n        if (dx < xmin) xmin = dx;\n        if (dx > xmax) xmax = dx;\n      }\n    });\n\n    var _ols = ols(X, Y, XY, X2),\n        _ols2 = _slicedToArray(_ols, 2),\n        a = _ols2[0],\n        b = _ols2[1];\n\n    a = Math.exp(a);\n\n    var fn = function fn(x) {\n      return a * Math.pow(x, b);\n    },\n        out = interpose(xmin, xmax, fn);\n\n    out.a = a;\n    out.b = b;\n    out.predict = fn;\n    out.rSquared = determination(data, x, y, YS, fn);\n    return out;\n  }\n\n  power.domain = function (arr) {\n    return arguments.length ? (domain = arr, power) : domain;\n  };\n\n  power.x = function (fn) {\n    return arguments.length ? (x = fn, power) : x;\n  };\n\n  power.y = function (fn) {\n    return arguments.length ? (y = fn, power) : y;\n  };\n\n  return power;\n}\n\nexport { exponential as regressionExp, linear as regressionLinear, loess as regressionLoess, logarithmic as regressionLog, polynomial as regressionPoly, power as regressionPow, quad as regressionQuad };\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  size: 4,\n  tooltip: {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    crosshairs: {\n      type: 'xy',\n    },\n  },\n});\n","import '../../../interactions/drag-move';\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport './interactions';\n\nexport type { RadarOptions };\n\nexport class Radar extends Plot<RadarOptions> {\n  /**  */\n  public type: string = 'radar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    this.chart.changeData(data);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<RadarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      xAxis: {\n        label: {\n          offset: 15,\n        },\n        grid: {\n          line: {\n            type: 'line',\n          },\n        },\n      },\n      yAxis: {\n        grid: {\n          line: {\n            type: 'circle',\n          },\n        },\n      },\n      legend: {\n        position: 'top',\n      },\n      tooltip: {\n        shared: true,\n        showCrosshairs: true,\n        showMarkers: true,\n        crosshairs: {\n          type: 'xy',\n          line: {\n            style: {\n              stroke: '#565656',\n              lineDash: [4],\n            },\n          },\n          follow: true,\n        },\n      },\n    });\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<RadarOptions> {\n    return adaptor;\n  }\n}\n","import { Params } from '../../core/adaptor';\nimport { tooltip, interaction, animation, theme, scale, annotation, legend } from '../../adaptor/common';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { RadarOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { data, lineStyle, color, point: pointOptions, area: areaOptions } = options;\n\n  chart.data(data);\n\n  //   geometry\n  const primary = deepAssign({}, params, {\n    options: {\n      line: {\n        style: lineStyle,\n        color,\n      },\n      point: pointOptions\n        ? {\n            color,\n            ...pointOptions,\n          }\n        : pointOptions,\n      area: areaOptions\n        ? {\n            color,\n            ...areaOptions,\n          }\n        : areaOptions,\n      // label  geometry adaptor label adaptor \n      label: undefined,\n    },\n  });\n  //  Geometry\n  const second = deepAssign({}, primary, {\n    options: {\n      tooltip: false,\n    },\n  });\n  //  point.state,  state \n  const pointState = pointOptions?.state || options.state;\n  const pointParams = deepAssign({}, primary, { options: { tooltip: false, state: pointState } });\n\n  line(primary);\n  point(pointParams);\n  area(second);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * coord \n * @param params\n */\nfunction coord(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { radius, startAngle, endAngle } = options;\n\n  chart.coordinate('polar', {\n    radius,\n    startAngle,\n    endAngle,\n  });\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis, yField, yAxis } = options;\n\n  chart.axis(xField, xAxis);\n  chart.axis(yField, yAxis);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<RadarOptions>): Params<RadarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const geometry = findGeometry(chart, 'line');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [yField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\n\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n  start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n  end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n","import { registerComponentController, Util, TooltipController, Action } from '@antv/g2';\nimport { isNil } from '@antv/util';\nimport { Point } from '../../../types';\n\nexport class RadarTooltipController extends TooltipController {\n  public get name(): string {\n    return 'radar-tooltip';\n  }\n\n  public getTooltipItems(point: Point) {\n    const { shared, title: cfgTitle } = this.getTooltipCfg();\n    const hintItems = super.getTooltipItems(point);\n\n    if (hintItems.length > 0) {\n      const geometry = this.view.geometries[0];\n      const dataArray = geometry.dataArray;\n      const title = hintItems[0].name;\n      const result = [];\n      dataArray.forEach((mappingData) => {\n        mappingData.forEach((d) => {\n          const items = Util.getTooltipItems(d, geometry);\n          const item = items[0];\n          if (!shared && item && item.name === title) {\n            const displayTitle = isNil(cfgTitle) ? title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          } else if (shared && item) {\n            const displayTitle = isNil(cfgTitle) ? item.name || title : cfgTitle;\n            result.push({ ...item, name: item.title, title: displayTitle });\n          }\n        });\n      });\n\n      return result;\n    }\n    return [];\n  }\n}\nregisterComponentController('radar-tooltip', RadarTooltipController);\n\n/**\n *  tooltip  action\n */\nexport class RadarTooltipAction extends Action {\n  init() {\n    const { view } = this.context;\n    view.removeInteraction('tooltip');\n  }\n\n  public show() {\n    const { event } = this.context;\n    const controller = this.getTooltipController();\n    controller.showTooltip({ x: event.x, y: event.y });\n  }\n\n  public hide() {\n    const controller = this.getTooltipController();\n    controller.hideTooltip();\n  }\n\n  private getTooltipController() {\n    const { view } = this.context;\n    return view.getController('radar-tooltip') as TooltipController;\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign } from '../../utils';\nimport { DualAxesOptions } from './types';\nimport { adaptor } from './adaptor';\n\nexport type { DualAxesOptions };\n\nexport class DualAxes extends Plot<DualAxesOptions> {\n  /** :  */\n  public type: string = 'dual-axes';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<DualAxesOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      yAxis: [],\n      syncViewPadding: true,\n    });\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<DualAxesOptions> {\n    return adaptor;\n  }\n}\n","import { each, findIndex, get, find, isObject, every, isEqual, isBoolean } from '@antv/util';\nimport { Scale, Types, Event } from '@antv/g2';\nimport {\n  theme as commonTheme,\n  animation as commonAnimation,\n  scale,\n  interaction as commonInteraction,\n  annotation as commonAnnotation,\n  limitInPlot as commonLimitInPlot,\n} from '../../adaptor/common';\nimport { percent } from '../../utils/transform/percent';\nimport { Params } from '../../core/adaptor';\nimport { Datum } from '../../types';\nimport { flow, deepAssign } from '../../utils';\nimport { findViewById } from '../../utils/view';\nimport { isColumn, getYAxisWithDefault, getGeometryOption, transformObjectToArray } from './util/option';\nimport { getViewLegendItems } from './util/legend';\nimport { drawSingleGeometry } from './util/geometry';\nimport { doSliderFilter } from './util/render-sider';\nimport { DualAxesOptions, AxisType, DualAxesGeometry } from './types';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\n\n/**\n * transformOptions\n * 1. get index getOptions:  appendPaddingsyncView \n * 2. get adpator transformOption: deepAssign \n *    2.1 defaultoption tooltiplegend\n *    2.2  options\n *    2.3  options  options yaxisGeometryOption deepAssign  assign \n *\n * @param params\n */\nexport function transformOptions(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { options } = params;\n  const { geometryOptions = [], xField, yField } = options;\n  const allLine = every(\n    geometryOptions,\n    ({ geometry }) => geometry === DualAxesGeometry.Line || geometry === undefined\n  );\n  return deepAssign(\n    {},\n    {\n      options: {\n        geometryOptions: [],\n        meta: {\n          [xField]: {\n            //  cat \n            type: 'cat',\n            // x  scale \n            sync: true,\n            // \n            range: allLine ? [0, 1] : undefined,\n          },\n        },\n        tooltip: {\n          showMarkers: allLine,\n          //  crosshairs\n          showCrosshairs: allLine,\n          shared: true,\n          crosshairs: {\n            type: 'x',\n          },\n        },\n        interactions: !allLine\n          ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n          : [{ type: 'legend-visible-filter' }],\n        legend: {\n          position: 'top-left',\n        },\n      },\n    },\n    params,\n    {\n      options: {\n        // yAxis\n        yAxis: transformObjectToArray(yField, options.yAxis),\n        // geometryOptions\n        geometryOptions: [\n          getGeometryOption(xField, yField[0], geometryOptions[0]),\n          getGeometryOption(xField, yField[1], geometryOptions[1]),\n        ],\n        // annotations\n        annotations: transformObjectToArray(yField, options.annotations),\n      },\n    }\n  );\n}\n\n/**\n *    view theme \n * @param params\n */\nfunction createViews(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n\n  const SORT_MAP = { line: 0, column: 1 };\n\n  // id\n  const geometries = [\n    { type: geometryOptions[0]?.geometry, id: LEFT_AXES_VIEW },\n    { type: geometryOptions[1]?.geometry, id: RIGHT_AXES_VIEW },\n  ];\n\n  //  view \n  geometries.sort((a, b) => -SORT_MAP[a.type] + SORT_MAP[b.type]).forEach((g) => chart.createView({ id: g.id }));\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xField, yField, geometryOptions, data, tooltip } = options;\n\n  // id\n  const geometries = [\n    { ...geometryOptions[0], id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] },\n    { ...geometryOptions[1], id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] },\n  ];\n\n  geometries.forEach((geometry) => {\n    const { id, data, yField } = geometry;\n    // \n    const isPercent = isColumn(geometry) && geometry.isPercent;\n    const formatData = isPercent ? percent(data, yField, xField, yField) : data;\n    const view = findViewById(chart, id).data(formatData);\n\n    const tooltipOptions = isPercent\n      ? {\n          formatter: (datum: Datum) => ({\n            name: datum[geometry.seriesField] || yField,\n            value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n          }),\n          ...tooltip,\n        }\n      : tooltip;\n\n    // \n    drawSingleGeometry({\n      chart: view,\n      options: {\n        xField,\n        yField,\n        tooltip: tooltipOptions,\n        geometryOption: geometry,\n      },\n    });\n  });\n  return params;\n}\n\nexport function color(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { geometryOptions } = options;\n  const themeColor = chart.getTheme()?.colors10 || [];\n\n  let start = 0;\n  /*  geometry  color\n   * 1.  geometryOptions  color drawGeometry \n   * 2.   color Geometry group scales theme color 10 \n   * 3.  group  view  N   concat  themeColor\n   * 4.  Geometry group scales color\n   * 5.  view  g2\n   */\n  chart.once('beforepaint', () => {\n    each(geometryOptions, (geometryOption, index) => {\n      const view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n      if (geometryOption.color) return;\n      const groupScale = view.getGroupScales();\n      const count = get(groupScale, [0, 'values', 'length'], 1);\n      const color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n      view.geometries.forEach((geometry) => {\n        if (geometryOption.seriesField) {\n          geometry.color(geometryOption.seriesField, color);\n        } else {\n          geometry.color(color[0]);\n        }\n      });\n      start += count;\n    });\n    chart.render(true);\n  });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[0],\n  })(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[1],\n  })(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  const { xField, yField, xAxis, yAxis } = options;\n\n  chart.axis(xField, false);\n  chart.axis(yField[0], false);\n  chart.axis(yField[1], false);\n\n  //  View\n  leftView.axis(xField, xAxis);\n  leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n\n  //  Y \n  rightView.axis(xField, false);\n  rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  // tooltip  getDefaultOption  undefined\n  chart.tooltip(tooltip);\n  //  view  tooltip shared  interaction active-region \n  // view  chart  shared\n  leftView.tooltip({\n    shared: true,\n  });\n  rightView.tooltip({\n    shared: true,\n  });\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * annotation \n * @param params\n */\nexport function annotation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { annotations } = options;\n\n  const a1 = get(annotations, [0]);\n  const a2 = get(annotations, [1]);\n\n  commonAnnotation(a1)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        annotations: a1,\n      },\n    })\n  );\n  commonAnnotation(a2)(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        annotations: a2,\n      },\n    })\n  );\n  return params;\n}\n\nexport function theme(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  /*\n   *  view  axisline chart  legend)\n   *  chart   view  theme G2 theme geometry > view > chart \n   */\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\nexport function animation(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, LEFT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[0],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, RIGHT_AXES_VIEW),\n      options: {\n        yAxis: yAxis[1],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * legend \n *  custom-\n * @param params\n */\nexport function legend(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { legend, geometryOptions, yField, data } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else if (isObject(legend) && legend.custom === true) {\n    chart.legend(legend);\n  } else {\n    const leftLegend = get(geometryOptions, [0, 'legend'], legend);\n    const rightLegend = get(geometryOptions, [1, 'legend'], legend);\n    // \n    chart.once('beforepaint', () => {\n      const leftItems = data[0].length\n        ? getViewLegendItems({\n            view: leftView,\n            geometryOption: geometryOptions[0],\n            yField: yField[0],\n            legend: leftLegend,\n          })\n        : [];\n\n      const rightItems = data[1].length\n        ? getViewLegendItems({\n            view: rightView,\n            geometryOption: geometryOptions[1],\n            yField: yField[1],\n            legend: rightLegend,\n          })\n        : [];\n\n      chart.legend(\n        deepAssign({}, legend, {\n          custom: true,\n          // todo \n          // @ts-ignore\n          items: leftItems.concat(rightItems),\n        })\n      );\n    });\n\n    if (geometryOptions[0].seriesField) {\n      leftView.legend(geometryOptions[0].seriesField, leftLegend);\n    }\n    if (geometryOptions[1].seriesField) {\n      rightView.legend(geometryOptions[1].seriesField, rightLegend);\n    }\n\n    // \n    chart.on('legend-item:click', (evt) => {\n      const delegateObject = get(evt, 'gEvent.delegateObject', {});\n      if (delegateObject && delegateObject.item) {\n        const { value: field, isGeometry, viewId } = delegateObject.item;\n        // geometry  view.changeVisible\n        if (isGeometry) {\n          const idx = findIndex(yField, (yF: string) => yF === field);\n          if (idx > -1) {\n            const geometries = get(findViewById(chart, viewId), 'geometries');\n            each(geometries, (g) => {\n              g.changeVisible(!delegateObject.item.unchecked);\n            });\n          }\n        } else {\n          const legendItem = get(chart.getController('legend'), 'option.items', []);\n          // \n          each(chart.views, (view) => {\n            // \n            const groupScale = view.getGroupScales();\n            each(groupScale, (scale: Scale) => {\n              if (scale.values && scale.values.indexOf(field) > -1) {\n                view.filter(scale.field, (value) => {\n                  const curLegendItem: Types.LegendItem = find(\n                    legendItem,\n                    (item: Types.LegendItem) => item.value === value\n                  );\n                  //  legend  unchecked \n                  return !curLegendItem.unchecked;\n                });\n              }\n            });\n            chart.render(true);\n          });\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n *  slider \n * @param params\n */\nexport function slider(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  const { chart, options } = params;\n  const { slider } = options;\n  const leftView = findViewById(chart, LEFT_AXES_VIEW);\n  const rightView = findViewById(chart, RIGHT_AXES_VIEW);\n  if (slider) {\n    //  View\n    leftView.option('slider', slider);\n    //  slider   View \n    leftView.on('slider:valuechanged', (evt: Event) => {\n      const {\n        event: { value, originValue },\n      } = evt;\n      if (isEqual(value, originValue)) {\n        return;\n      }\n      doSliderFilter(rightView, value);\n    });\n    chart.once('afterpaint', () => {\n      // \n      if (!isBoolean(slider)) {\n        const { start, end } = slider;\n        if (start || end) {\n          doSliderFilter(rightView, [start, end]);\n        }\n      }\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<DualAxesOptions>): Params<DualAxesOptions> {\n  // transformOptions color legend  beforepaint\n  return flow(\n    transformOptions,\n    createViews,\n    // \n    theme,\n    geometry,\n    meta,\n    axis,\n    limitInPlot,\n    tooltip,\n    interaction,\n    annotation,\n    animation,\n    color,\n    legend,\n    slider\n  )(params);\n}\n","import { reduce, get, isEmpty, isFunction } from '@antv/util';\nimport { View, Util } from '@antv/g2';\nimport { deepAssign, findGeometry } from '../../../utils';\nimport { GeometryOption } from '../types';\nimport { Legend } from '../../../types/legend';\nimport { isLine } from './option';\n\n/**\n *  view  legendItem seriesField \n * @param params\n */\nexport function getViewLegendItems(params: {\n  view: View;\n  yField: string;\n  geometryOption: GeometryOption;\n  legend: Legend;\n}) {\n  const { view, geometryOption, yField, legend } = params;\n  const userMarker = get(legend, 'marker');\n\n  const geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n  if (!geometryOption.seriesField) {\n    const legendItemName = get(view, `options.scales.${yField}.alias`) || yField;\n    //  g2 \n    const colorAttribute = geometry.getAttribute('color');\n    let color = view.getTheme().defaultColor;\n    if (colorAttribute) {\n      color = Util.getMappingValue(colorAttribute, legendItemName, get(colorAttribute, ['values', 0], color));\n    }\n\n    const marker =\n      (isFunction(userMarker)\n        ? userMarker\n        : !isEmpty(userMarker) &&\n          deepAssign(\n            {},\n            {\n              style: {\n                stroke: color,\n                fill: color,\n              },\n            },\n            userMarker\n          )) ||\n      (isLine(geometryOption)\n        ? {\n            symbol: (x: number, y: number, r: number) => {\n              return [\n                ['M', x - r, y],\n                ['L', x + r, y],\n              ];\n            },\n            style: {\n              lineWidth: 2,\n              r: 6,\n              stroke: color,\n            },\n          }\n        : {\n            symbol: 'square',\n            style: {\n              fill: color,\n            },\n          });\n    return [\n      {\n        value: yField,\n        name: legendItemName,\n        marker,\n        isGeometry: true,\n        viewId: view.id,\n      },\n    ];\n  }\n\n  const attributes = geometry.getGroupAttributes();\n  return reduce(\n    attributes,\n    (items, attr) => {\n      const attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n      return items.concat(attrItems);\n    },\n    []\n  );\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { Params } from '../../../core/adaptor';\nimport { point, line } from '../../../adaptor/geometries';\nimport { pick, deepAssign } from '../../../utils';\nimport { adaptor as columnAdaptor } from '../../column/adaptor';\nimport { GeometryOption } from '../types';\nimport { isLine, isColumn } from './option';\n\n/**\n * \n * @param params\n */\nexport function drawSingleGeometry<O extends { xField: string; yField: string; geometryOption: GeometryOption }>(\n  params: Params<O>\n): Params<O> {\n  const { options, chart } = params;\n  const { geometryOption } = options;\n  const { isStack, color, seriesField, groupField, isGroup } = geometryOption;\n\n  const FIELD_KEY = ['xField', 'yField'];\n  if (isLine(geometryOption)) {\n    // \n    line(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          line: {\n            color: geometryOption.color,\n            style: geometryOption.lineStyle,\n          },\n        },\n      })\n    );\n    // \n    point(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          point: geometryOption.point && {\n            color,\n            shape: 'circle',\n            ...geometryOption.point,\n          },\n        },\n      })\n    );\n    // adjust\n    const adjust = [];\n    if (isGroup) {\n      adjust.push({\n        type: 'dodge',\n        dodgeBy: groupField || seriesField,\n        customOffset: 0,\n      });\n    }\n    if (isStack) {\n      adjust.push({\n        type: 'stack',\n      });\n    }\n    if (adjust.length) {\n      each(chart.geometries, (g: Geometry) => {\n        g.adjust(adjust);\n      });\n    }\n  }\n\n  if (isColumn(geometryOption)) {\n    columnAdaptor(\n      deepAssign({}, params, {\n        options: {\n          ...pick(options, FIELD_KEY),\n          ...geometryOption,\n          widthRatio: geometryOption.columnWidthRatio,\n          interval: {\n            ...pick(geometryOption, ['color']),\n            style: geometryOption.columnStyle,\n          },\n        },\n      })\n    );\n  }\n\n  return params;\n}\n","import { View } from '@antv/g2';\nimport { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n\n/**\n *  View  slider \n *  View ,  Slider  change  View\n * @param { View } view \n * @param { number[] } sliderValue \n * @returns void\n */\nexport const doSliderFilter = (view: View, sliderValue: [number, number]) => {\n  const [min, max] = sliderValue;\n  const data = view.getOptions().data;\n  const xScale = view.getXScale();\n  const dataSize = size(data);\n  if (!xScale || !dataSize) {\n    return;\n  }\n  const isHorizontal = true;\n  const values = valuesOfKey(data, xScale.field);\n  const xValues = isHorizontal ? values : values.reverse();\n  const xTickCount = size(xValues);\n  const minIndex = Math.floor(min * (xTickCount - 1));\n  const maxIndex = Math.floor(max * (xTickCount - 1));\n\n  //  x \n  view.filter(xScale.field, (value: any) => {\n    const idx: number = xValues.indexOf(value);\n    return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n  });\n  view.getRootView().render(true);\n};\n","import { get } from '@antv/util';\n\nexport const DEFAULT_TOOLTIP_OPTIONS = {\n  showTitle: false,\n  shared: true,\n  showMarkers: false,\n  customContent: (x: string, data: any[]) => `${get(data, [0, 'data', 'y'], 0)}`, // \n  containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n  itemTpl: '<span>{value}</span>',\n  domStyles: {\n    'g2-tooltip': {\n      padding: '2px 4px',\n      fontSize: '10px',\n    },\n  },\n};\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  animation: {},\n};\n","import { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  appendPadding: 2,\n  tooltip: {\n    ...DEFAULT_TOOLTIP_OPTIONS,\n  },\n  // \n  color: 'l(90) 0:#E5EDFE 1:#ffffff',\n  areaStyle: {\n    fillOpacity: 0.6,\n  },\n  line: {\n    size: 1,\n    color: '#5B8FF9',\n  },\n  animation: {},\n};\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  percent: 0.2,\n  innerRadius: 0.8,\n  radius: 0.98,\n  color: ['#FAAD14', '#E8EDF3'],\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        fontSize: '14px',\n        fontWeight: 300,\n        fill: '#4D4D4D',\n        textAlign: 'center' as const,\n        textBaseline: 'middle' as const,\n      },\n    },\n  },\n  animation: {},\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { HeatmapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\n\nexport type { HeatmapOptions };\n\nexport class Heatmap extends Plot<HeatmapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<HeatmapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'heatmap';\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<HeatmapOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Heatmap.getDefaultOptions();\n  }\n}\n","import { get } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findGeometry } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state, pattern } from '../../adaptor/common';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { HeatmapOptions } from './types';\n\nfunction geometry(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { data, type, xField, yField, colorField, sizeField, sizeRatio, shape, color, tooltip, heatmapStyle } = options;\n\n  chart.data(data);\n  let geometryType = 'polygon';\n  if (type === 'density') {\n    geometryType = 'heatmap';\n  }\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, colorField]);\n\n  /**\n   * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n   *\n   * If the `sizeRatio` attribute is undefined or it exceeds the range,\n   * `checkedSizeRatio` would be set to 1 as default.\n   */\n  let checkedSizeRatio = 1;\n  if (sizeRatio || sizeRatio === 0) {\n    if (!shape && !sizeField) {\n      console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n    } else if (sizeRatio < 0 || sizeRatio > 1) {\n      console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n    } else {\n      checkedSizeRatio = sizeRatio;\n    }\n  }\n\n  geometryAdaptor(\n    deepAssign({}, params, {\n      options: {\n        type: geometryType,\n        colorField,\n        tooltipFields: fields,\n        shapeField: sizeField || '',\n        label: undefined,\n        mapping: {\n          tooltip: formatter,\n          shape:\n            shape &&\n            (sizeField\n              ? (dautm) => {\n                  const field = data.map((row) => row[sizeField]);\n                  const min = Math.min(...field);\n                  const max = Math.max(...field);\n                  return [shape, (get(dautm, sizeField) - min) / (max - min), checkedSizeRatio];\n                }\n              : () => [shape, 1, checkedSizeRatio]),\n          color: color || (colorField && chart.getTheme().sequenceColors.join('-')),\n          style: heatmapStyle,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  return flow(\n    scale({\n      [xField]: xAxis,\n      [yField]: yAxis,\n    })\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n  } else {\n    chart.axis(yField, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { legend, colorField, sizeField, sizeLegend } = options;\n\n  /** legend  false, ,  color  */\n  const showLegend = legend !== false;\n\n  if (colorField) {\n    chart.legend(colorField, showLegend ? legend : false);\n  }\n\n  // :  sizeField  sizeLegend.  legend \n  if (sizeField) {\n    chart.legend(sizeField, sizeLegend === undefined ? legend : sizeLegend);\n  }\n\n  /**  sizeField */\n  if (!showLegend && !sizeLegend) {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * fixme \n * \n * @param params\n */\nfunction label(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { label, colorField, type } = options;\n\n  const geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n\n  if (!label) {\n    geometry.label(false);\n  } else if (colorField) {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: [colorField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction coordinate(params: Params<HeatmapOptions>): Params<HeatmapOptions> {\n  const { chart, options } = params;\n  const { coordinate, reflect } = options;\n\n  if (coordinate) {\n    chart.coordinate({\n      type: coordinate.type || 'rect',\n      cfg: coordinate.cfg,\n    });\n  }\n\n  if (reflect) {\n    chart.coordinate().reflect(reflect);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<HeatmapOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('heatmapStyle'),\n    meta,\n    coordinate,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    label,\n    annotation(),\n    interaction,\n    animation,\n    state\n  )(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  type: 'polygon',\n  legend: false,\n  coordinate: {\n    type: 'rect',\n  },\n  xAxis: {\n    tickLine: null,\n    line: null,\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n  yAxis: {\n    grid: {\n      alignTick: false,\n      line: {\n        style: {\n          lineWidth: 1,\n          lineDash: null,\n          stroke: '#f0f0f0',\n        },\n      },\n    },\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'circle', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxRadius = Math.min(width, height) / 2;\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const radiusRatio = Math.sqrt(sizeRatio);\n    const radius = maxRadius * radiusRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('circle', {\n      attrs: {\n        x: cx,\n        y: cy,\n        r: radius,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { registerShape, Types, IGroup } from '@antv/g2';\n\nregisterShape('polygon', 'square', {\n  draw(cfg: Types.ShapeInfo, group: IGroup) {\n    const cx = cfg.x as number;\n    const cy = cfg.y as number;\n\n    const points = this.parsePoints(cfg.points);\n    const width = Math.abs(points[2].x - points[1].x);\n    const height = Math.abs(points[1].y - points[0].y);\n    const maxSideLength = Math.min(width, height);\n\n    const value = Number(cfg.shape[1]);\n    const sizeRatio = Number(cfg.shape[2]);\n    const lenRatio = Math.sqrt(sizeRatio);\n    const sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n    const fill = cfg.style?.fill || cfg.color || cfg.defaultStyle?.fill;\n    const polygon = group.addShape('rect', {\n      attrs: {\n        x: cx - sideLength / 2,\n        y: cy - sideLength / 2,\n        width: sideLength,\n        height: sideLength,\n        ...cfg.defaultStyle,\n        ...cfg.style,\n        fill,\n      },\n    });\n    return polygon;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BoxOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS, OUTLIERS_VIEW_ID } from './constant';\nexport type { BoxOptions };\n\nexport class Box extends Plot<BoxOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BoxOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'box';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    const { yField } = this.options;\n\n    const outliersView = this.chart.views.find((v) => v.id === OUTLIERS_VIEW_ID);\n    if (outliersView) {\n      outliersView.data(data);\n    }\n\n    this.chart.changeData(transformData(data, yField));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<BoxOptions> {\n    return Box.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<BoxOptions> {\n    return adaptor;\n  }\n}\n","import { isArray } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip } from '../../adaptor/common';\nimport { point, schema } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { BoxOptions } from './types';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { transformData } from './utils';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, yField, groupField, color, tooltip, boxStyle } = options;\n\n  chart.data(transformData(options.data, yField));\n\n  const yFieldName = isArray(yField) ? BOX_RANGE : yField;\n  const rawFields = yField ? (isArray(yField) ? yField : [yField]) : [];\n\n  let tooltipOptions = tooltip;\n  if (tooltipOptions !== false) {\n    tooltipOptions = deepAssign({}, { fields: isArray(yField) ? yField : [] }, tooltipOptions);\n  }\n\n  const { ext } = schema(\n    deepAssign({}, params, {\n      options: {\n        xField,\n        yField: yFieldName,\n        seriesField: groupField,\n        tooltip: tooltipOptions,\n        rawFields,\n        //  label\n        label: false,\n        schema: {\n          shape: 'box',\n          color,\n          style: boxStyle,\n        },\n      },\n    })\n  );\n\n  if (groupField) {\n    ext.geometry.adjust('dodge');\n  }\n\n  return params;\n}\n\n/**\n *  view\n */\nfunction outliersPoint(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xField, data, outliersField, outliersStyle, padding, label } = options;\n\n  if (!outliersField) return params;\n\n  const outliersView = chart.createView({ padding, id: OUTLIERS_VIEW_ID });\n  const outliersViewData = data.reduce((ret, datum) => {\n    const outliersData = datum[outliersField];\n    outliersData.forEach((d) => ret.push({ ...datum, [outliersField]: d }));\n    return ret;\n  }, []) as Types.Datum[];\n\n  outliersView.data(outliersViewData);\n  point({\n    chart: outliersView,\n    options: {\n      xField,\n      yField: outliersField,\n      point: { shape: 'circle', style: outliersStyle },\n      label,\n    },\n  });\n\n  outliersView.axis(false);\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis, xField, yField, outliersField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  let baseMeta = {};\n\n  // make yField and outliersField share y mate\n  if (outliersField) {\n    const syncName = BOX_SYNC_NAME;\n    baseMeta = {\n      [outliersField]: { sync: syncName, nice: true },\n      [yFieldName]: { sync: syncName, nice: true },\n    };\n  }\n\n  const scales = deepAssign(baseMeta, meta, {\n    [xField]: pick(xAxis, AXIS_META_CONFIG_KEYS),\n    [yFieldName]: pick(yAxis, AXIS_META_CONFIG_KEYS),\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(BOX_RANGE, false);\n  } else {\n    chart.axis(yFieldName, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<BoxOptions>): Params<BoxOptions> {\n  const { chart, options } = params;\n  const { legend, groupField } = options;\n\n  if (groupField) {\n    if (legend) {\n      chart.legend(groupField, legend);\n    } else {\n      // Grouped Box Chart default has legend, and it's position is `bottom`\n      chart.legend(groupField, { position: 'bottom' });\n    }\n  } else {\n    chart.legend(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<BoxOptions>) {\n  return flow(field, outliersPoint, meta, axis, legend, tooltip, interaction, animation, theme)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { ViolinOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformViolinData } from './utils';\nexport type { ViolinOptions };\n\nexport class Violin extends Plot<ViolinOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<ViolinOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'violin';\n\n  /**\n   * @override\n   */\n  public changeData(data: ViolinOptions['data']) {\n    this.updateOption({ data });\n    this.chart.changeData(transformViolinData(this.options));\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<ViolinOptions> {\n    return Violin.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<ViolinOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { get, set, omit, each } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, theme, tooltip, annotation as baseAnnotation } from '../../adaptor/common';\nimport { interval, point, violin } from '../../adaptor/geometries';\nimport { flow, pick, deepAssign, findViewById } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { ViolinOptions } from './types';\nimport { transformViolinData } from './utils';\nimport {\n  MEDIAN_FIELD,\n  MEDIAN_VIEW_ID,\n  MIN_MAX_FIELD,\n  MIN_MAX_VIEW_ID,\n  QUANTILE_FIELD,\n  QUANTILE_VIEW_ID,\n  VIOLIN_SIZE_FIELD,\n  VIOLIN_VIEW_ID,\n  VIOLIN_Y_FIELD,\n  X_FIELD,\n} from './constant';\n\nconst TOOLTIP_FIELDS = ['low', 'high', 'q1', 'q3', 'median'];\n\nconst adjustCfg = [\n  {\n    type: 'dodge',\n    marginRatio: 1 / 32,\n  } as const,\n];\n\n/**  */\nfunction data(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  chart.data(transformViolinData(options));\n  return params;\n}\n\n/**  */\nfunction violinView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, shape = 'violin', violinStyle, tooltip, state } = options;\n\n  const view = chart.createView({ id: VIOLIN_VIEW_ID });\n  violin({\n    chart: view,\n    options: {\n      xField: X_FIELD,\n      yField: VIOLIN_Y_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      sizeField: VIOLIN_SIZE_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      violin: {\n        style: violinStyle,\n        color,\n        shape,\n      },\n      state,\n    },\n  });\n  view.geometries[0].adjust(adjustCfg);\n\n  return params;\n}\n\n/**  */\nfunction boxView(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { seriesField, color, tooltip, box } = options;\n\n  //  `box`  false \n  if (box === false) return params;\n\n  // \n  const minMaxView = chart.createView({ id: MIN_MAX_VIEW_ID });\n  interval({\n    chart: minMaxView,\n    options: {\n      xField: X_FIELD,\n      yField: MIN_MAX_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 1,\n        style: {\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  minMaxView.geometries[0].adjust(adjustCfg);\n\n  // \n  const quantileView = chart.createView({ id: QUANTILE_VIEW_ID });\n  interval({\n    chart: quantileView,\n    options: {\n      xField: X_FIELD,\n      yField: QUANTILE_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      interval: {\n        color,\n        size: 8,\n        style: {\n          fillOpacity: 1,\n        },\n      },\n    },\n  });\n  quantileView.geometries[0].adjust(adjustCfg);\n\n  // \n  const medianView = chart.createView({ id: MEDIAN_VIEW_ID });\n  point({\n    chart: medianView,\n    options: {\n      xField: X_FIELD,\n      yField: MEDIAN_FIELD,\n      seriesField: seriesField ? seriesField : X_FIELD,\n      tooltip: {\n        fields: TOOLTIP_FIELDS,\n        ...tooltip,\n      },\n      state: typeof box === 'object' ? box.state : {},\n      point: {\n        color,\n        size: 1,\n        style: {\n          fill: 'white',\n          lineWidth: 0,\n        },\n      },\n    },\n  });\n  medianView.geometries[0].adjust(adjustCfg);\n\n  //  view \n  quantileView.axis(false);\n  minMaxView.axis(false);\n  medianView.axis(false);\n\n  //  view \n  medianView.legend(false);\n  minMaxView.legend(false);\n  quantileView.legend(false);\n\n  return params;\n}\n\n/**\n * meta \n */\nfunction meta(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { meta, xAxis, yAxis } = options;\n\n  const baseMeta = {};\n\n  const scales = deepAssign(baseMeta, meta, {\n    [X_FIELD]: {\n      sync: true,\n      ...pick(xAxis, AXIS_META_CONFIG_KEYS),\n      // fix:  dodge is not support linear attribute, please use category attribute!\n      //  x \n      type: 'cat',\n    },\n    [VIOLIN_Y_FIELD]: {\n      sync: true,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MIN_MAX_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [QUANTILE_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n    [MEDIAN_FIELD]: {\n      sync: VIOLIN_Y_FIELD,\n      ...pick(yAxis, AXIS_META_CONFIG_KEYS),\n    },\n  });\n\n  chart.scale(scales);\n\n  return params;\n}\n\n/**\n * axis \n */\nfunction axis(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis } = options;\n\n  const view = findViewById(chart, VIOLIN_VIEW_ID);\n\n  //  false \n  if (xAxis === false) {\n    view.axis(X_FIELD, false);\n  } else {\n    view.axis(X_FIELD, xAxis);\n  }\n\n  if (yAxis === false) {\n    view.axis(VIOLIN_Y_FIELD, false);\n  } else {\n    view.axis(VIOLIN_Y_FIELD, yAxis);\n  }\n\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *\n * @param params\n * @returns\n */\nfunction legend(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { legend, seriesField, shape } = options;\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const legendField = seriesField ? seriesField : X_FIELD;\n    // fixme \n    const legendOptions = omit(legend as any, ['selected']);\n    if (!shape || !shape.startsWith('hollow')) {\n      if (!get(legendOptions, ['marker', 'style', 'lineWidth'])) {\n        set(legendOptions, ['marker', 'style', 'lineWidth'], 0);\n      }\n    }\n    chart.legend(legendField, legendOptions);\n    //  fixme G2 \n    if (get(legend, 'selected')) {\n      each(chart.views, (view) => view.legend(legendField, legend));\n    }\n  }\n\n  return params;\n}\n\n/**\n * annotation, apply to violin view.\n * @param params\n * @returns\n */\nfunction annotation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart } = params;\n\n  const violinView = findViewById(chart, VIOLIN_VIEW_ID);\n  baseAnnotation()({ ...params, chart: violinView });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<ViolinOptions>): Params<ViolinOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  Geometry \n  each(chart.views, (view) => {\n    //  view \n    if (typeof animation === 'boolean') {\n      view.animate(animation);\n    } else {\n      view.animate(true);\n    }\n\n    each(view.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<ViolinOptions>) {\n  return flow(\n    theme,\n    data,\n    violinView,\n    boxView,\n    meta,\n    tooltip,\n    axis,\n    legend,\n    interaction,\n    annotation,\n    animation\n  )(params);\n}\n","'use strict';\n\nvar DEFAULT_SIZE = 50;\nvar DEFAULT_WIDTH = 2;\n\nvar LN_2 = Math.log(2);\nvar self = module.exports;\n\nvar helper = require('./helper');\n\n// Triangle\nfunction kernel(x) {\n  return 1 - Math.abs(x);\n}\n\n/**\n * Get min and max value for the pdf, covering all arr data range while respecting options' data\n * @param arr\n * @param options\n * @returns {*}\n */\nmodule.exports.getUnifiedMinMax = function (arr, options) {\n  return self.getUnifiedMinMaxMulti([arr], options);\n};\n\nmodule.exports.getUnifiedMinMaxMulti = function (arrMulti, options) {\n  options = options || {};\n\n  var relaxMin = false;\n  var relaxMax = false;\n\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var min = helper.isNumber(options.min) ? options.min : (relaxMin = true, helper.findMinMulti(arrMulti));\n  var max = helper.isNumber(options.max) ? options.max : (relaxMax = true, helper.findMaxMulti(arrMulti));\n\n  var range = max - min;\n  var step = range / (size - 1);\n\n  // Relax?\n  if (relaxMin) {\n    min = min - 2 * width * step;\n  }\n  if (relaxMax) {\n    max = max + 2 * width * step;\n  }\n\n  return {\n    min: min,\n    max: max\n  };\n};\n\nmodule.exports.create = function (arr, options) {\n  options = options || {};\n\n  if (!arr || (arr.length === 0)) {\n    return [];\n  }\n\n  var size = helper.isNumber(options.size) ? options.size : DEFAULT_SIZE;\n  var width = helper.isNumber(options.width) ? options.width : DEFAULT_WIDTH;\n  var normalizedMinMax = self.getUnifiedMinMax(arr, {\n    size: size,\n    width: width,\n    min: options.min,\n    max: options.max\n  });\n\n  var min = normalizedMinMax.min;\n  var max = normalizedMinMax.max;\n\n  var range = max - min;\n  var step = range / (size - 1);\n  if (range === 0) {\n    // Special case...\n    return [{x: min, y: 1}];\n  }\n\n  // Good to go\n\n  var buckets = [];\n  for (var i = 0; i < size; i++) {\n    buckets.push({\n      x: min + i * step,\n      y: 0\n    });\n  }\n\n  var xToBucket = function (x) {\n    return Math.floor((x - min) / step);\n  };\n\n  var partialArea = generatePartialAreas(kernel, width);\n  var fullArea = partialArea[width];\n  var c = partialArea[width-1] - partialArea[width-2];\n\n  var initalValue = 0;\n  arr.forEach(function (x) {\n    var bucket = xToBucket(x);\n\n    // Totally outside?\n    if ((bucket + width < 0) || (bucket - width >= buckets.length)) {\n      return;\n    }\n\n    var start = Math.max(bucket - width, 0);\n    var mid = bucket;\n    var end = Math.min(bucket + width, buckets.length - 1);\n\n    var leftBlockCount = start - (bucket - width);\n    var rightBlockCount = (bucket + width) - end;\n    var spilledAreaLeft = partialArea[-width-1 + leftBlockCount] || 0;\n    var spilledAreaRight = partialArea[-width-1 + rightBlockCount] || 0;\n    var weight = fullArea / (fullArea - spilledAreaLeft - spilledAreaRight);\n\n    if (leftBlockCount > 0) {\n      initalValue += weight * (leftBlockCount - 1) * c;\n    }\n\n    // Add grads\n    var startGradPos = Math.max(0, bucket-width+1);\n    if (helper.inside(0, buckets.length-1, startGradPos)) {\n      buckets[startGradPos].y += weight * 1 * c;\n    }\n    if (helper.inside(0, buckets.length-1, mid + 1)) {\n      buckets[mid + 1].y -= weight * 2 * c;\n    }\n    if (helper.inside(0, buckets.length-1, end + 1)) {\n      buckets[end + 1].y += weight * 1 * c;\n    }\n  });\n\n  var accumulator = initalValue;\n  var gradAccumulator = 0;\n  var area = 0;\n  buckets.forEach(function (bucket) {\n    gradAccumulator += bucket.y;\n    accumulator += gradAccumulator;\n\n    bucket.y = accumulator;\n    area += accumulator;\n  });\n\n  // Normalize\n  if (area > 0) {\n    buckets.forEach(function (bucket) {\n      bucket.y /= area;\n    });\n  }\n\n  return buckets;\n};\n\nfunction generatePartialAreas(kernel, width) {\n  var partialAreas = {};\n\n  var accumulator = 0;\n  for (var i = -width; i <= width; i++) {\n    accumulator += kernel(i/width);\n    partialAreas[i] = accumulator;\n  }\n\n  return partialAreas;\n}\n\nmodule.exports.getExpectedValueFromPdf = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var expected = 0;\n\n  pdf.forEach(function (obj) {\n    expected += obj.x * obj.y;\n  });\n\n  return expected;\n};\n\nmodule.exports.getXWithLeftTailArea = function (pdf, area) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var accumulator = 0;\n  var last = 0;\n  for (var i = 0; i < pdf.length; i++) {\n    last = i;\n    accumulator += pdf[i].y;\n\n    if (accumulator >= area) {\n      break;\n    }\n  }\n\n  return pdf[last].x;\n};\n\nmodule.exports.getPerplexity = function (pdf) {\n  if (!pdf || (pdf.length === 0)) {\n    return undefined;\n  }\n\n  var entropy = 0;\n  pdf.forEach(function (obj) {\n    var ln = Math.log(obj.y);\n\n    if (isFinite(ln)) {\n      entropy += obj.y * ln;\n    }\n  });\n  entropy = -entropy / LN_2;\n\n  return Math.pow(2, entropy);\n};\n","'use strict';\n\nvar self = module.exports;\n\nmodule.exports.isNumber = function (x) {\n  return (typeof x === 'number');\n};\n\nmodule.exports.findMin = function (arr) {\n  if (arr.length === 0) {\n    return Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMax = function (arr) {\n  if (arr.length === 0) {\n    return -Infinity;\n  }\n\n  var curr = arr[0];\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, arr[i]);\n  }\n  return curr;\n};\n\nmodule.exports.findMinMulti = function (arr) {\n  var curr = self.findMin(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.min(curr, self.findMin(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.findMaxMulti = function (arr) {\n  var curr = self.findMax(arr[0]);\n  for (var i = 1; i < arr.length; i++) {\n    curr = Math.max(curr, self.findMax(arr[i]));\n  }\n  return curr;\n};\n\nmodule.exports.inside = function (min, max, x) {\n  return (min <= x) && (x <= max);\n};\n","// from https://github.com/simple-statistics\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nexport function quantileSorted(x: number[], p: number) {\n  const idx = x.length * p;\n  if (x.length === 0) {\n    throw new Error('quantile requires at least one data point.');\n  } else if (p < 0 || p > 1) {\n    throw new Error('quantiles must be between 0 and 1');\n  } else if (p === 1) {\n    // If p is 1, directly return the last element\n    return x[x.length - 1];\n  } else if (p === 0) {\n    // If p is 0, directly return the first element\n    return x[0];\n  } else if (idx % 1 !== 0) {\n    // If p is not integer, return the next element in array\n    return x[Math.ceil(idx) - 1];\n  } else if (x.length % 2 === 0) {\n    // If the list has even-length, we'll take the average of this number\n    // and the next value, if there is one\n    return (x[idx - 1] + x[idx]) / 2;\n  } else {\n    // Finally, in the simple case of an integer value\n    // with an odd-length list, return the x value at the index.\n    return x[idx];\n  }\n}\n\n/**\n * \n * @param arr T[]\n * @param i number\n * @param j number\n */\nexport function swap<T = any>(arr: T[], i: number, j: number): void {\n  const tmp = arr[i];\n  arr[i] = arr[j];\n  arr[j] = tmp;\n}\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} [left] left index\n * @param {number} [right] right index\n * @returns {void} mutates input array\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nexport function quickselect(arr: number[], k, left?: number, right?: number): void {\n  left = left || 0;\n  right = right || arr.length - 1;\n\n  while (right > left) {\n    // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp((2 * z) / 3);\n      let sd = 0.5 * Math.sqrt((z * s * (n - s)) / n);\n      if (m - n / 2 < 0) sd *= -1;\n      const newLeft = Math.max(left, Math.floor(k - (m * s) / n + sd));\n      const newRight = Math.min(right, Math.floor(k + ((n - m) * s) / n + sd));\n      quickselect(arr, k, newLeft, newRight);\n    }\n\n    const t = arr[k];\n    let i = left;\n    let j = right;\n\n    swap(arr, left, k);\n    if (arr[right] > t) swap(arr, left, right);\n\n    while (i < j) {\n      swap(arr, i, j);\n      i++;\n      j--;\n      while (arr[i] < t) i++;\n      while (arr[j] > t) j--;\n    }\n\n    if (arr[left] === t) swap(arr, left, j);\n    else {\n      j++;\n      swap(arr, j, right);\n    }\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n}\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {Array<number> | number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x: number[], p: number): number;\nfunction quantile(x: number[], p: number[]): number[];\nfunction quantile(x: any, p: any): any {\n  const copy = x.slice();\n\n  if (Array.isArray(p)) {\n    // rearrange elements so that each element corresponding to a requested\n    // quantile is on a place it would be if the array was fully sorted\n    multiQuantileSelect(copy, p);\n    // Initialize the result array\n    const results: number[] = [];\n    // For each requested quantile\n    for (let i = 0; i < p.length; i++) {\n      results[i] = quantileSorted(copy, p[i]);\n    }\n    return results;\n  } else {\n    const idx = quantileIndex(copy.length, p);\n    quantileSelect(copy, idx, 0, copy.length - 1);\n    return quantileSorted(copy, p);\n  }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n  if (k % 1 === 0) {\n    quickselect(arr, k, left, right);\n  } else {\n    k = Math.floor(k);\n    quickselect(arr, k, left, right);\n    quickselect(arr, k + 1, k + 1, right);\n  }\n}\n\nfunction multiQuantileSelect(arr, p) {\n  const indices = [0];\n  for (let i = 0; i < p.length; i++) {\n    indices.push(quantileIndex(arr.length, p[i]));\n  }\n  indices.push(arr.length - 1);\n  indices.sort(compare);\n\n  const stack = [0, indices.length - 1];\n\n  while (stack.length) {\n    const r = Math.ceil(stack.pop());\n    const l = Math.floor(stack.pop());\n    if (r - l <= 1) continue;\n\n    const m = Math.floor((l + r) / 2);\n    quantileSelect(arr, indices[m], Math.floor(indices[l]), Math.ceil(indices[r]));\n\n    stack.push(l, m, m, r);\n  }\n}\n\nfunction compare(a, b) {\n  return a - b;\n}\n\nfunction quantileIndex(len, p) {\n  const idx = len * p;\n  if (p === 1) {\n    // If p is 1, directly return the last index\n    return len - 1;\n  } else if (p === 0) {\n    // If p is 0, directly return the first index\n    return 0;\n  } else if (idx % 1 !== 0) {\n    // If index is not integer, return the next index in array\n    return Math.ceil(idx) - 1;\n  } else if (len % 2 === 0) {\n    // If the list has even-length, we'll return the middle of two indices\n    // around quantile to indicate that we need an average value of the two\n    return idx - 0.5;\n  } else {\n    // Finally, in the simple case of an integer index\n    // with an odd-length list, return the index\n    return idx;\n  }\n}\n\nexport { quantile };\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { VennOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { VennOptions };\n\n/**\n *  \n */\nexport class Venn extends Plot<VennOptions> {\n  /**  */\n  public type: string = 'venn';\n\n  static getDefaultOptions() {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Venn.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<VennOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // \n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { Types } from '@antv/g2';\nimport { Datum, Options, StyleAttr } from '../../types';\nimport { ID_FIELD, PATH_FIELD } from './constant';\n\nexport type VennData = (Types.Datum & { sets: string[]; [PATH_FIELD]: string; [ID_FIELD]: string })[];\n\n/**  */\nexport interface VennOptions extends Options {\n  /**\n   * @title \n   */\n  readonly data: Types.Datum[];\n  /**\n   * @title \n   */\n  readonly setsField: string;\n  /**\n   * @title \n   */\n  readonly sizeField: string;\n\n  //  \n\n  /**\n   * @title \n   */\n  readonly color?: string | string[] | ((datum: Datum, defaultColor?: string) => string);\n  /**\n   * @title \n   * @description  :  https://gka.github.io/chroma.js/#chroma-blend\n   * @default \"multiply\"\n   */\n  readonly blendMode?: string;\n  /**\n   * @title point \n   */\n  readonly pointStyle?: StyleAttr;\n}\n\nexport type CustomInfo = { offsetY: number; offsetX: number } & Pick<VennOptions, 'label'>;\n","import { Geometry } from '@antv/g2';\nimport { isArray, get, deepMix, isEqual } from '@antv/util';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { schema as schemaGeometry } from '../../adaptor/geometries';\nimport {\n  deepAssign,\n  flow,\n  findGeometry,\n  transformLabel,\n  getAdjustAppendPadding,\n  normalPadding,\n  resolveAllPadding,\n} from '../../utils';\nimport { Datum } from '../../types';\nimport { log, LEVEL } from '../../utils';\nimport { getColorMap, layoutVennData, islegalSets } from './utils';\nimport { CustomInfo, VennData, VennOptions } from './types';\nimport { ID_FIELD } from './constant';\nimport './shape';\nimport './label';\nimport './interactions';\n\n/**  */\nexport const LEGEND_SPACE = 40;\n\n/**\n *  color \n */\nfunction colorMap(params: Params<VennOptions>, data: VennData, colorPalette?: string[]) {\n  const { chart, options } = params;\n  const { blendMode, setsField } = options;\n  const { colors10, colors20 } = chart.getTheme();\n  let palette = colorPalette;\n  if (!isArray(palette)) {\n    palette = data.filter((d) => d[setsField].length === 1).length <= 10 ? colors10 : colors20;\n  }\n  const map = getColorMap(palette, data, blendMode, setsField);\n\n  return (id: string) => map.get(id) || palette[0];\n}\n\n/**\n * color options \n */\nfunction transformColor(params: Params<VennOptions>, data: VennData): VennOptions['color'] {\n  const { options } = params;\n  const { color } = options;\n\n  if (typeof color !== 'function') {\n    const colorPalette = typeof color === 'string' ? [color] : color;\n    const map = colorMap(params, data, colorPalette);\n    return (datum: Datum) => map(datum[ID_FIELD]);\n  }\n  return color;\n}\n\n/**\n *  padding\n */\nfunction padding(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, appendPadding, padding } = options;\n\n  //  legend .  40px,  appendPadding \n  let tempPadding: number[] = normalPadding(appendPadding);\n  if (legend !== false) {\n    tempPadding = getAdjustAppendPadding(appendPadding, get(legend, 'position'), LEGEND_SPACE);\n  }\n\n  chart.appendPadding = resolveAllPadding([tempPadding, padding]);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction data(params: Params<VennOptions>): Params<VennOptions> {\n  const { options } = params;\n\n  /*     \n   * \n   * data = [\n   *   { sets: ['A'], size: 3 }, // \n   *   { sets: ['B'], size: 4 }, // \n   *   { sets: ['A', 'B'], size: 2 }, // \n   *   { sets: ['A', 'B', 'C'], size: 2 }, //  ( C)\n   *   ...\n   * ]\n   */\n\n  let data = options['data'];\n  if (!data) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    data = [];\n  }\n\n  // ['A', 'B']\n  const currSets = data.filter((datum) => datum.sets.length === 1).map((datum) => datum.sets[0]);\n  //  data\n  const filterSets = data.filter((datum) => {\n    const sets = datum.sets;\n    // \n    return islegalSets(currSets, sets);\n  });\n\n  if (!isEqual(filterSets, data)) log(LEVEL.WARN, false, 'warn: %s', ', ');\n\n  return deepMix({}, params, {\n    options: {\n      data: filterSets,\n    },\n  });\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { pointStyle, setsField, sizeField } = options;\n\n  // \n  const [t, r, b, l] = normalPadding(chart.appendPadding);\n  //  legend .  40px,  appendPadding \n  const customInfo: CustomInfo = { offsetX: l, offsetY: t };\n  // coordinateBBox + appendPadding = viewBBox,  appendPadding  viewBBox\n  const { width, height } = chart.viewBBox;\n  // padding w  h \n  const vennData: VennData = layoutVennData(options, Math.max(width - (r + l), 0), Math.max(height - (t + b), 0), 0);\n  chart.data(vennData);\n\n  const { ext } = schemaGeometry(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        sizeField: sizeField,\n        seriesField: ID_FIELD,\n        rawFields: [setsField, sizeField],\n        schema: {\n          shape: 'venn',\n          style: pointStyle,\n        },\n      },\n    })\n  );\n\n  const geometry = ext.geometry as Geometry;\n  geometry.customInfo(customInfo);\n\n  const colorOptions = transformColor(params, vennData);\n  // , color .  datum\n  if (typeof colorOptions === 'function') {\n    geometry.color(ID_FIELD, (id) => {\n      const datum = vennData.find((d) => d[ID_FIELD] === id);\n      const defaultColor = colorMap(params, vennData)(id);\n      return colorOptions(datum, defaultColor);\n    });\n  }\n\n  return params;\n}\n\n/**\n *  label\n * @param params\n */\nfunction label(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  // \n  const [t, , , l] = normalPadding(chart.appendPadding);\n  //  label  \n  const customLabelInfo = { offsetX: l, offsetY: t };\n\n  const geometry = findGeometry(chart, 'schema');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: ['id'],\n      callback,\n      cfg: deepMix({}, transformLabel(cfg), {\n        //  G2  label \n        type: 'venn',\n        customLabelInfo,\n      }),\n    });\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nexport function legend(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart, options } = params;\n  const { legend, sizeField } = options;\n\n  chart.legend(ID_FIELD, legend);\n  //  \n  chart.legend(sizeField, false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function axis(params: Params<VennOptions>): Params<VennOptions> {\n  const { chart } = params;\n  chart.axis(false);\n\n  return params;\n}\n\n/**\n *  interaction \n */\nfunction vennInteraction(params: Params<VennOptions>): Params<VennOptions> {\n  const { options, chart } = params;\n  const { interactions } = options;\n\n  if (interactions) {\n    const MAP = {\n      'legend-active': 'venn-legend-active',\n      'legend-highlight': 'venn-legend-highlight',\n    };\n    interaction(\n      deepAssign({}, params, {\n        options: {\n          interactions: interactions.map((i) => ({\n            ...i,\n            type: MAP[i.type] || i.type,\n          })),\n        },\n      })\n    );\n  }\n\n  chart.removeInteraction('legend-active');\n  chart.removeInteraction('legend-highlight');\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<VennOptions>) {\n  // flow  G2 API\n  return flow(\n    padding,\n    theme,\n    data,\n    geometry,\n    label,\n    scale({}),\n    legend,\n    axis,\n    tooltip,\n    vennInteraction,\n    animation\n    // ...  adaptor flow\n  )(params);\n}\n","import { assign, memoize } from '@antv/util';\nimport { blend } from '../../utils/color/blend';\nimport { log, LEVEL } from '../../utils';\nimport { venn, scaleSolution } from './layout/layout';\nimport { intersectionAreaPath, computeTextCentres } from './layout/diagram';\nimport { ID_FIELD, PATH_FIELD } from './constant';\nimport { VennData, VennOptions } from './types';\n\ntype ColorMapFunction = (\n  colorPalette: string[],\n  data: VennData,\n  blendMode: VennOptions['blendMode'],\n  setsField: VennOptions['setsField']\n) => Map<string, string>;\n\n/**\n *  \n * @usage colorMap.get(id) => color\n *\n * @returns Map<string, string>\n */\nexport const getColorMap = memoize(\n  ((colorPalette, data, blendMode, setsField) => {\n    const colorMap = new Map<string /** id */, string /** color */>();\n    const colorPaletteLen = colorPalette.length;\n    data.forEach((d, idx) => {\n      if (d[setsField].length === 1) {\n        colorMap.set(d[ID_FIELD], colorPalette[(idx + colorPaletteLen) % colorPaletteLen]);\n      } else {\n        /**   */\n        const colorArr = d[setsField].map((id) => colorMap.get(id));\n        colorMap.set(\n          d[ID_FIELD],\n          colorArr.slice(1).reduce((a, b) => blend(a, b, blendMode), colorArr[0])\n        );\n      }\n    });\n\n    return colorMap;\n  }) as ColorMapFunction,\n  (...params) => JSON.stringify(params)\n) as ColorMapFunction;\n\n/**\n * \n *\n * @param data\n * @param width\n * @param height\n * @param padding\n * @returns \n */\nexport function layoutVennData(options: VennOptions, width: number, height: number, padding: number = 0): VennData {\n  const { data, setsField, sizeField } = options;\n\n  // \n  if (data.length === 0) {\n    log(LEVEL.WARN, false, 'warn: %s', '');\n    return [];\n  }\n\n  const vennData: VennData = data.map((d) => ({\n    ...d,\n    sets: d[setsField] || [],\n    size: d[sizeField],\n    [PATH_FIELD]: '',\n    [ID_FIELD]: '',\n  }));\n  // 1. \n  vennData.sort((a, b) => a.sets.length - b.sets.length);\n  // todo 2.  crash\n\n  const solution = venn(vennData);\n  const circles = scaleSolution(solution, width, height, padding);\n  const textCenters = computeTextCentres(circles, vennData);\n  vennData.forEach((row) => {\n    const sets = row.sets;\n    const id = sets.join(',');\n    row[ID_FIELD] = id;\n    //  vennText \n    const setCircles = sets.map((set) => circles[set]);\n    let path = intersectionAreaPath(setCircles);\n    if (!/[zZ]$/.test(path)) {\n      path += ' Z';\n    }\n    row[PATH_FIELD] = path;\n    const center = textCenters[id] || { x: 0, y: 0 };\n    assign(row, center);\n  });\n  return vennData;\n}\n\n/**\n *  \n * @param legalArr ['A', 'B']\n * @param testArr ['A', 'B', 'C'] or ['A', 'C'] 'C'\n * @return boolean\n */\nexport function islegalSets(legalArr: any[], testArr: any[]): boolean {\n  for (let i = 0; i < testArr.length; i++) {\n    if (!legalArr.includes(testArr[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n","import colorUtil from '@antv/color-util';\n/*\n * interpolates between a set of colors uzing a bezier spline\n * blend mode formulas taken from http://www.venture-ware.com/kevin/coding/lets-learn-math-photoshop-blend-modes/\n */\n\nconst each =\n  (f) =>\n  (c0: number[], c1: number[]): number[] => {\n    const out = [];\n    out[0] = f(c0[0], c1[0]);\n    out[1] = f(c0[1], c1[1]);\n    out[2] = f(c0[2], c1[2]);\n    return out;\n  };\n\n/**\n * \n */\nconst blendObject = {\n  normal: (a: number) => a,\n  multiply: (a: number, b: number) => (a * b) / 255,\n  screen: (a: number, b: number) => 255 * (1 - (1 - a / 255) * (1 - b / 255)),\n  overlay: (a: number, b: number) => (b < 128 ? (2 * a * b) / 255 : 255 * (1 - 2 * (1 - a / 255) * (1 - b / 255))),\n  darken: (a: number, b: number) => (a > b ? b : a),\n  lighten: (a: number, b: number) => (a > b ? a : b),\n  dodge: (a: number, b: number) => {\n    if (a === 255) return 255;\n    a = (255 * (b / 255)) / (1 - a / 255);\n    return a > 255 ? 255 : a;\n  },\n  burn: (a: number, b: number) => {\n    //  w3c  0 \n    if (b === 255) return 255;\n    else if (a === 0) return 0;\n    else return 255 * (1 - Math.min(1, (1 - b / 255) / (a / 255)));\n  },\n};\n\n/**\n * \n */\nexport const innerBlend = (mode: string) => {\n  if (!blendObject[mode]) {\n    throw new Error('unknown blend mode ' + mode);\n  }\n  return blendObject[mode];\n};\n\n/**\n * \n * https://www.w3.org/TR/compositing/#blending\n * @param c0\n * @param c1\n * @param mode \n * @return rbga\n */\nexport function blend(c0: string, c1: string, mode = 'normal') {\n  // blendRgbArr:  blend color: [r, g, b]\n  const blendRgbArr = each(innerBlend(mode))(colorToArr(c0), colorToArr(c1));\n\n  const [r0, g0, b0, a0] = colorToArr(c0);\n  const [r1, g1, b1, a1] = colorToArr(c1);\n\n  const a = Number((a0 + a1 * (1 - a0)).toFixed(2));\n\n  const r = Math.round(\n    ((a0 * (1 - a1) * (r0 / 255) + a0 * a1 * (blendRgbArr[0] / 255) + (1 - a0) * a1 * (r1 / 255)) / a) * 255\n  );\n  const g = Math.round(\n    ((a0 * (1 - a1) * (g0 / 255) + a0 * a1 * (blendRgbArr[1] / 255) + (1 - a0) * a1 * (g1 / 255)) / a) * 255\n  );\n  const b = Math.round(\n    ((a0 * (1 - a1) * (b0 / 255) + a0 * a1 * (blendRgbArr[2] / 255) + (1 - a0) * a1 * (b1 / 255)) / a) * 255\n  );\n\n  return `rgba(${r}, ${g}, ${b}, ${a})`;\n}\n\n/**\n *  [r, g, b, a]\n * https://www.w3.org/TR/compositing/#blending\n * @param c color\n * @return [r, g, b, a]\n */\nexport function colorToArr(c: string): number[] {\n  const color = c.replace('/s+/g', ''); // \n  let rgbaArr: any[];\n\n  // 'red' -> [r, g, b, 1]\n  if (typeof color === 'string' && !color.startsWith('rgba') && !color.startsWith('#')) {\n    return (rgbaArr = colorUtil.rgb2arr(colorUtil.toRGB(color)).concat([1]));\n  }\n\n  // rgba(255, 200, 125, 0.5) -> [r, g, b, a]\n  if (color.startsWith('rgba')) rgbaArr = color.replace('rgba(', '').replace(')', '').split(',');\n\n  // '#fff000' -> [r, g, b, 1]\n  if (color.startsWith('#')) rgbaArr = colorUtil.rgb2arr(color).concat([1]); //  16 6  1\n\n  // [r, g, b, a] \n  return rgbaArr.map((item, index) => (index === 3 ? Number(item) : item | 0));\n}\n","import { nelderMead, bisect, conjugateGradient, zeros, zerosM, norm2, scale } from 'fmin';\nimport { intersectionArea, circleOverlap, circleCircleIntersection, distance } from './circleintersection';\n\n/** given a list of set objects, and their corresponding overlaps.\nupdates the (x, y, radius) attribute on each set such that their positions\nroughly correspond to the desired overlaps */\nexport function venn(areas, parameters?: any) {\n  parameters = parameters || {};\n  parameters.maxIterations = parameters.maxIterations || 500;\n  const initialLayout = parameters.initialLayout || bestInitialLayout;\n  const loss = parameters.lossFunction || lossFunction;\n\n  // add in missing pairwise areas as having 0 size\n  areas = addMissingAreas(areas);\n\n  // initial layout is done greedily\n  const circles = initialLayout(areas, parameters);\n\n  // transform x/y coordinates to a vector to optimize\n  const initial = [],\n    setids = [];\n  let setid;\n  for (setid in circles) {\n    // eslint-disable-next-line\n    if (circles.hasOwnProperty(setid)) {\n      initial.push(circles[setid].x);\n      initial.push(circles[setid].y);\n      setids.push(setid);\n    }\n  }\n\n  // optimize initial layout from our loss function\n  const solution = nelderMead(\n    function (values) {\n      const current = {};\n      for (let i = 0; i < setids.length; ++i) {\n        const setid = setids[i];\n        current[setid] = {\n          x: values[2 * i],\n          y: values[2 * i + 1],\n          radius: circles[setid].radius,\n          // size : circles[setid].size\n        };\n      }\n      return loss(current, areas);\n    },\n    initial,\n    parameters\n  );\n\n  // transform solution vector back to x/y points\n  const positions = solution.x;\n  for (let i = 0; i < setids.length; ++i) {\n    setid = setids[i];\n    circles[setid].x = positions[2 * i];\n    circles[setid].y = positions[2 * i + 1];\n  }\n\n  return circles;\n}\n\nconst SMALL = 1e-10;\n\n/** Returns the distance necessary for two circles of radius r1 + r2 to\nhave the overlap area 'overlap' */\nexport function distanceFromIntersectArea(r1, r2, overlap) {\n  // handle complete overlapped circles\n  if (Math.min(r1, r2) * Math.min(r1, r2) * Math.PI <= overlap + SMALL) {\n    return Math.abs(r1 - r2);\n  }\n\n  return bisect(\n    function (distance) {\n      return circleOverlap(r1, r2, distance) - overlap;\n    },\n    0,\n    r1 + r2\n  );\n}\n\n/** Missing pair-wise intersection area data can cause problems:\n treating as an unknown means that sets will be laid out overlapping,\n which isn't what people expect. To reflect that we want disjoint sets\n here, set the overlap to 0 for all missing pairwise set intersections */\nfunction addMissingAreas(areas) {\n  areas = areas.slice();\n\n  // two circle intersections that aren't defined\n  const ids: number[] = [],\n    pairs: any = {};\n  let i, j, a, b;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      ids.push(area.sets[0]);\n    } else if (area.sets.length == 2) {\n      a = area.sets[0];\n      b = area.sets[1];\n      // @ts-ignore\n      pairs[[a, b]] = true;\n      // @ts-ignore\n      pairs[[b, a]] = true;\n    }\n  }\n  ids.sort((a, b) => {\n    return a > b ? 1 : -1;\n  });\n\n  for (i = 0; i < ids.length; ++i) {\n    a = ids[i];\n    for (j = i + 1; j < ids.length; ++j) {\n      b = ids[j];\n      // @ts-ignore\n      if (!([a, b] in pairs)) {\n        areas.push({ sets: [a, b], size: 0 });\n      }\n    }\n  }\n  return areas;\n}\n\n/// Returns two matrices, one of the euclidean distances between the sets\n/// and the other indicating if there are subset or disjoint set relationships\nexport function getDistanceMatrices(areas, sets, setids) {\n  // initialize an empty distance matrix between all the points\n  const distances = zerosM(sets.length, sets.length),\n    constraints = zerosM(sets.length, sets.length);\n\n  // compute required distances between all the sets such that\n  // the areas match\n  areas\n    .filter(function (x) {\n      return x.sets.length == 2;\n    })\n    .map(function (current) {\n      const left = setids[current.sets[0]],\n        right = setids[current.sets[1]],\n        r1 = Math.sqrt(sets[left].size / Math.PI),\n        r2 = Math.sqrt(sets[right].size / Math.PI),\n        distance = distanceFromIntersectArea(r1, r2, current.size);\n\n      distances[left][right] = distances[right][left] = distance;\n\n      // also update constraints to indicate if its a subset or disjoint\n      // relationship\n      let c = 0;\n      if (current.size + 1e-10 >= Math.min(sets[left].size, sets[right].size)) {\n        c = 1;\n      } else if (current.size <= 1e-10) {\n        c = -1;\n      }\n      constraints[left][right] = constraints[right][left] = c;\n    });\n\n  return { distances: distances, constraints: constraints };\n}\n\n/// computes the gradient and loss simulatenously for our constrained MDS optimizer\nfunction constrainedMDSGradient(x, fxprime, distances, constraints) {\n  let loss = 0,\n    i;\n  for (i = 0; i < fxprime.length; ++i) {\n    fxprime[i] = 0;\n  }\n\n  for (i = 0; i < distances.length; ++i) {\n    const xi = x[2 * i],\n      yi = x[2 * i + 1];\n    for (let j = i + 1; j < distances.length; ++j) {\n      const xj = x[2 * j],\n        yj = x[2 * j + 1],\n        dij = distances[i][j],\n        constraint = constraints[i][j];\n\n      const squaredDistance = (xj - xi) * (xj - xi) + (yj - yi) * (yj - yi),\n        distance = Math.sqrt(squaredDistance),\n        delta = squaredDistance - dij * dij;\n\n      if ((constraint > 0 && distance <= dij) || (constraint < 0 && distance >= dij)) {\n        continue;\n      }\n\n      loss += 2 * delta * delta;\n\n      fxprime[2 * i] += 4 * delta * (xi - xj);\n      fxprime[2 * i + 1] += 4 * delta * (yi - yj);\n\n      fxprime[2 * j] += 4 * delta * (xj - xi);\n      fxprime[2 * j + 1] += 4 * delta * (yj - yi);\n    }\n  }\n  return loss;\n}\n\n/// takes the best working variant of either constrained MDS or greedy\nexport function bestInitialLayout(areas, params) {\n  let initial = greedyLayout(areas, params);\n  const loss = params.lossFunction || lossFunction;\n\n  // greedylayout is sufficient for all 2/3 circle cases. try out\n  // constrained MDS for higher order problems, take its output\n  // if it outperforms. (greedy is aesthetically better on 2/3 circles\n  // since it axis aligns)\n  if (areas.length >= 8) {\n    const constrained = constrainedMDSLayout(areas, params),\n      constrainedLoss = loss(constrained, areas),\n      greedyLoss = loss(initial, areas);\n\n    if (constrainedLoss + 1e-8 < greedyLoss) {\n      initial = constrained;\n    }\n  }\n  return initial;\n}\n\n/// use the constrained MDS variant to generate an initial layout\nexport function constrainedMDSLayout(areas, params) {\n  params = params || {};\n  const restarts = params.restarts || 10;\n\n  // bidirectionally map sets to a rowid  (so we can create a matrix)\n  const sets = [],\n    setids = {};\n  let i;\n  for (i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      setids[area.sets[0]] = sets.length;\n      sets.push(area);\n    }\n  }\n\n  const matrices = getDistanceMatrices(areas, sets, setids);\n  let distances = matrices.distances;\n  const constraints = matrices.constraints;\n\n  // keep distances bounded, things get messed up otherwise.\n  // TODO: proper preconditioner?\n  const norm = norm2(distances.map(norm2)) / distances.length;\n  distances = distances.map(function (row) {\n    return row.map(function (value) {\n      return value / norm;\n    });\n  });\n\n  const obj = function (x, fxprime) {\n    return constrainedMDSGradient(x, fxprime, distances, constraints);\n  };\n\n  let best, current;\n  for (i = 0; i < restarts; ++i) {\n    const initial = zeros(distances.length * 2).map(Math.random);\n\n    current = conjugateGradient(obj, initial, params);\n    if (!best || current.fx < best.fx) {\n      best = current;\n    }\n  }\n  const positions = best.x;\n\n  // translate rows back to (x,y,radius) coordinates\n  const circles = {};\n  for (i = 0; i < sets.length; ++i) {\n    const set = sets[i];\n    circles[set.sets[0]] = {\n      x: positions[2 * i] * norm,\n      y: positions[2 * i + 1] * norm,\n      radius: Math.sqrt(set.size / Math.PI),\n    };\n  }\n\n  if (params.history) {\n    for (i = 0; i < params.history.length; ++i) {\n      scale(params.history[i].x, norm);\n    }\n  }\n  return circles;\n}\n\n/** Lays out a Venn diagram greedily, going from most overlapped sets to\nleast overlapped, attempting to position each new set such that the\noverlapping areas to already positioned sets are basically right */\nexport function greedyLayout(areas, params) {\n  const loss = params && params.lossFunction ? params.lossFunction : lossFunction;\n  // define a circle for each set\n  const circles = {},\n    setOverlaps = {};\n  let set;\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i];\n    if (area.sets.length == 1) {\n      set = area.sets[0];\n      circles[set] = {\n        x: 1e10,\n        y: 1e10,\n        // rowid: circles.length, // fix to ->\n        rowid: Object.keys(circles).length,\n        size: area.size,\n        radius: Math.sqrt(area.size / Math.PI),\n      };\n      setOverlaps[set] = [];\n    }\n  }\n  areas = areas.filter(function (a) {\n    return a.sets.length == 2;\n  });\n\n  // map each set to a list of all the other sets that overlap it\n  for (let i = 0; i < areas.length; ++i) {\n    const current = areas[i];\n    // eslint-disable-next-line\n    let weight = current.hasOwnProperty('weight') ? current.weight : 1.0;\n    const left = current.sets[0],\n      right = current.sets[1];\n\n    // completely overlapped circles shouldn't be positioned early here\n    if (current.size + SMALL >= Math.min(circles[left].size, circles[right].size)) {\n      weight = 0;\n    }\n\n    setOverlaps[left].push({ set: right, size: current.size, weight: weight });\n    setOverlaps[right].push({ set: left, size: current.size, weight: weight });\n  }\n\n  // get list of most overlapped sets\n  const mostOverlapped = [];\n  for (set in setOverlaps) {\n    // eslint-disable-next-line\n    if (setOverlaps.hasOwnProperty(set)) {\n      let size = 0;\n      for (let i = 0; i < setOverlaps[set].length; ++i) {\n        size += setOverlaps[set][i].size * setOverlaps[set][i].weight;\n      }\n\n      mostOverlapped.push({ set: set, size: size });\n    }\n  }\n\n  // sort by size desc\n  function sortOrder(a, b) {\n    return b.size - a.size;\n  }\n  mostOverlapped.sort(sortOrder);\n\n  // keep track of what sets have been laid out\n  const positioned = {};\n  function isPositioned(element) {\n    return element.set in positioned;\n  }\n\n  // adds a point to the output\n  function positionSet(point, index) {\n    circles[index].x = point.x;\n    circles[index].y = point.y;\n    positioned[index] = true;\n  }\n\n  // add most overlapped set at (0,0)\n  positionSet({ x: 0, y: 0 }, mostOverlapped[0].set);\n\n  // get distances between all points. TODO, necessary?\n  // answer: probably not\n  // var distances = venn.getDistanceMatrices(circles, areas).distances;\n  for (let i = 1; i < mostOverlapped.length; ++i) {\n    const setIndex = mostOverlapped[i].set,\n      overlap = setOverlaps[setIndex].filter(isPositioned);\n    set = circles[setIndex];\n    overlap.sort(sortOrder);\n\n    if (overlap.length === 0) {\n      // this shouldn't happen anymore with addMissingAreas\n      throw 'ERROR: missing pairwise overlap information';\n    }\n\n    const points = [];\n    for (let j = 0; j < overlap.length; ++j) {\n      // get appropriate distance from most overlapped already added set\n      const p1 = circles[overlap[j].set],\n        d1 = distanceFromIntersectArea(set.radius, p1.radius, overlap[j].size);\n\n      // sample positions at 90 degrees for maximum aesthetics\n      points.push({ x: p1.x + d1, y: p1.y });\n      points.push({ x: p1.x - d1, y: p1.y });\n      points.push({ y: p1.y + d1, x: p1.x });\n      points.push({ y: p1.y - d1, x: p1.x });\n\n      // if we have at least 2 overlaps, then figure out where the\n      // set should be positioned analytically and try those too\n      for (let k = j + 1; k < overlap.length; ++k) {\n        const p2 = circles[overlap[k].set],\n          d2 = distanceFromIntersectArea(set.radius, p2.radius, overlap[k].size);\n\n        const extraPoints = circleCircleIntersection(\n          { x: p1.x, y: p1.y, radius: d1 },\n          { x: p2.x, y: p2.y, radius: d2 }\n        );\n\n        for (let l = 0; l < extraPoints.length; ++l) {\n          points.push(extraPoints[l]);\n        }\n      }\n    }\n\n    // we have some candidate positions for the set, examine loss\n    // at each position to figure out where to put it at\n    let bestLoss = 1e50,\n      bestPoint = points[0];\n    for (let j = 0; j < points.length; ++j) {\n      circles[setIndex].x = points[j].x;\n      circles[setIndex].y = points[j].y;\n      const localLoss = loss(circles, areas);\n      if (localLoss < bestLoss) {\n        bestLoss = localLoss;\n        bestPoint = points[j];\n      }\n    }\n\n    positionSet(bestPoint, setIndex);\n  }\n\n  return circles;\n}\n\n/** Given a bunch of sets, and the desired overlaps between these sets - computes\nthe distance from the actual overlaps to the desired overlaps. Note that\nthis method ignores overlaps of more than 2 circles */\nexport function lossFunction(sets, overlaps) {\n  let output = 0;\n\n  function getCircles(indices) {\n    return indices.map(function (i) {\n      return sets[i];\n    });\n  }\n\n  for (let i = 0; i < overlaps.length; ++i) {\n    const area = overlaps[i];\n    let overlap;\n    if (area.sets.length == 1) {\n      continue;\n    } else if (area.sets.length == 2) {\n      const left = sets[area.sets[0]],\n        right = sets[area.sets[1]];\n      overlap = circleOverlap(left.radius, right.radius, distance(left, right));\n    } else {\n      overlap = intersectionArea(getCircles(area.sets));\n    }\n\n    // eslint-disable-next-line\n    const weight = area.hasOwnProperty('weight') ? area.weight : 1.0;\n    output += weight * (overlap - area.size) * (overlap - area.size);\n  }\n\n  return output;\n}\n\n// orientates a bunch of circles to point in orientation\nfunction orientateCircles(circles, orientation, orientationOrder) {\n  if (orientationOrder === null) {\n    circles.sort(function (a, b) {\n      return b.radius - a.radius;\n    });\n  } else {\n    circles.sort(orientationOrder);\n  }\n\n  let i;\n  // shift circles so largest circle is at (0, 0)\n  if (circles.length > 0) {\n    const largestX = circles[0].x,\n      largestY = circles[0].y;\n\n    for (i = 0; i < circles.length; ++i) {\n      circles[i].x -= largestX;\n      circles[i].y -= largestY;\n    }\n  }\n\n  if (circles.length == 2) {\n    // if the second circle is a subset of the first, arrange so that\n    // it is off to one side. hack for https://github.com/benfred/venn.js/issues/120\n    const dist = distance(circles[0], circles[1]);\n    if (dist < Math.abs(circles[1].radius - circles[0].radius)) {\n      circles[1].x = circles[0].x + circles[0].radius - circles[1].radius - 1e-10;\n      circles[1].y = circles[0].y;\n    }\n  }\n\n  // rotate circles so that second largest is at an angle of 'orientation'\n  // from largest\n  if (circles.length > 1) {\n    const rotation = Math.atan2(circles[1].x, circles[1].y) - orientation;\n    let x, y;\n    const c = Math.cos(rotation),\n      s = Math.sin(rotation);\n    for (i = 0; i < circles.length; ++i) {\n      x = circles[i].x;\n      y = circles[i].y;\n      circles[i].x = c * x - s * y;\n      circles[i].y = s * x + c * y;\n    }\n  }\n\n  // mirror solution if third solution is above plane specified by\n  // first two circles\n  if (circles.length > 2) {\n    let angle = Math.atan2(circles[2].x, circles[2].y) - orientation;\n    while (angle < 0) {\n      angle += 2 * Math.PI;\n    }\n    while (angle > 2 * Math.PI) {\n      angle -= 2 * Math.PI;\n    }\n    if (angle > Math.PI) {\n      const slope = circles[1].y / (1e-10 + circles[1].x);\n      for (i = 0; i < circles.length; ++i) {\n        const d = (circles[i].x + slope * circles[i].y) / (1 + slope * slope);\n        circles[i].x = 2 * d - circles[i].x;\n        circles[i].y = 2 * d * slope - circles[i].y;\n      }\n    }\n  }\n}\n\nexport function disjointCluster(circles) {\n  // union-find clustering to get disjoint sets\n  circles.map(function (circle) {\n    circle.parent = circle;\n  });\n\n  // path compression step in union find\n  function find(circle) {\n    if (circle.parent !== circle) {\n      circle.parent = find(circle.parent);\n    }\n    return circle.parent;\n  }\n\n  function union(x, y) {\n    const xRoot = find(x),\n      yRoot = find(y);\n    xRoot.parent = yRoot;\n  }\n\n  // get the union of all overlapping sets\n  for (let i = 0; i < circles.length; ++i) {\n    for (let j = i + 1; j < circles.length; ++j) {\n      const maxDistance = circles[i].radius + circles[j].radius;\n      if (distance(circles[i], circles[j]) + 1e-10 < maxDistance) {\n        union(circles[j], circles[i]);\n      }\n    }\n  }\n\n  // find all the disjoint clusters and group them together\n  const disjointClusters = {};\n  let setid;\n  for (let i = 0; i < circles.length; ++i) {\n    setid = find(circles[i]).parent.setid;\n    if (!(setid in disjointClusters)) {\n      disjointClusters[setid] = [];\n    }\n    disjointClusters[setid].push(circles[i]);\n  }\n\n  // cleanup bookkeeping\n  circles.map(function (circle) {\n    delete circle.parent;\n  });\n\n  // return in more usable form\n  const ret = [];\n  for (setid in disjointClusters) {\n    // eslint-disable-next-line\n    if (disjointClusters.hasOwnProperty(setid)) {\n      ret.push(disjointClusters[setid]);\n    }\n  }\n  return ret;\n}\n\nfunction getBoundingBox(circles) {\n  const minMax = function (d) {\n    const hi = Math.max.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] + c.radius;\n        })\n      ),\n      lo = Math.min.apply(\n        null,\n        circles.map(function (c) {\n          return c[d] - c.radius;\n        })\n      );\n    return { max: hi, min: lo };\n  };\n\n  return { xRange: minMax('x'), yRange: minMax('y') };\n}\n\nexport function normalizeSolution(solution, orientation, orientationOrder) {\n  if (orientation === null) {\n    orientation = Math.PI / 2;\n  }\n\n  // work with a list instead of a dictionary, and take a copy so we\n  // don't mutate input\n  let circles = [],\n    i,\n    setid;\n  for (setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      const previous = solution[setid];\n      circles.push({ x: previous.x, y: previous.y, radius: previous.radius, setid: setid });\n    }\n  }\n\n  // get all the disjoint clusters\n  const clusters = disjointCluster(circles);\n\n  // orientate all disjoint sets, get sizes\n  for (i = 0; i < clusters.length; ++i) {\n    orientateCircles(clusters[i], orientation, orientationOrder);\n    const bounds = getBoundingBox(clusters[i]);\n    clusters[i].size = (bounds.xRange.max - bounds.xRange.min) * (bounds.yRange.max - bounds.yRange.min);\n    clusters[i].bounds = bounds;\n  }\n  clusters.sort(function (a, b) {\n    return b.size - a.size;\n  });\n\n  // orientate the largest at 0,0, and get the bounds\n  circles = clusters[0];\n  // @ts-ignore fixme \n  let returnBounds = circles.bounds;\n\n  const spacing = (returnBounds.xRange.max - returnBounds.xRange.min) / 50;\n\n  function addCluster(cluster, right, bottom) {\n    if (!cluster) return;\n\n    const bounds = cluster.bounds;\n    let xOffset, yOffset, centreing;\n\n    if (right) {\n      xOffset = returnBounds.xRange.max - bounds.xRange.min + spacing;\n    } else {\n      xOffset = returnBounds.xRange.max - bounds.xRange.max;\n      centreing = (bounds.xRange.max - bounds.xRange.min) / 2 - (returnBounds.xRange.max - returnBounds.xRange.min) / 2;\n      if (centreing < 0) xOffset += centreing;\n    }\n\n    if (bottom) {\n      yOffset = returnBounds.yRange.max - bounds.yRange.min + spacing;\n    } else {\n      yOffset = returnBounds.yRange.max - bounds.yRange.max;\n      centreing = (bounds.yRange.max - bounds.yRange.min) / 2 - (returnBounds.yRange.max - returnBounds.yRange.min) / 2;\n      if (centreing < 0) yOffset += centreing;\n    }\n\n    for (let j = 0; j < cluster.length; ++j) {\n      cluster[j].x += xOffset;\n      cluster[j].y += yOffset;\n      circles.push(cluster[j]);\n    }\n  }\n\n  let index = 1;\n  while (index < clusters.length) {\n    addCluster(clusters[index], true, false);\n    addCluster(clusters[index + 1], false, true);\n    addCluster(clusters[index + 2], true, true);\n    index += 3;\n\n    // have one cluster (in top left). lay out next three relative\n    // to it in a grid\n    returnBounds = getBoundingBox(circles);\n  }\n\n  // convert back to solution form\n  const ret = {};\n  for (i = 0; i < circles.length; ++i) {\n    ret[circles[i].setid] = circles[i];\n  }\n  return ret;\n}\n\n/** Scales a solution from venn.venn or venn.greedyLayout such that it fits in\na rectangle of width/height - with padding around the borders. also\ncenters the diagram in the available space at the same time */\nexport function scaleSolution(solution, width, height, padding) {\n  const circles = [],\n    setids = [];\n  for (const setid in solution) {\n    // eslint-disable-next-line\n    if (solution.hasOwnProperty(setid)) {\n      setids.push(setid);\n      circles.push(solution[setid]);\n    }\n  }\n\n  width -= 2 * padding;\n  height -= 2 * padding;\n\n  const bounds = getBoundingBox(circles),\n    xRange = bounds.xRange,\n    yRange = bounds.yRange;\n\n  if (xRange.max == xRange.min || yRange.max == yRange.min) {\n    console.log('not scaling solution: zero size detected');\n    return solution;\n  }\n\n  const xScaling = width / (xRange.max - xRange.min),\n    yScaling = height / (yRange.max - yRange.min),\n    scaling = Math.min(yScaling, xScaling),\n    // while we're at it, center the diagram too\n    xOffset = (width - (xRange.max - xRange.min) * scaling) / 2,\n    yOffset = (height - (yRange.max - yRange.min) * scaling) / 2;\n\n  const scaled = {};\n  for (let i = 0; i < circles.length; ++i) {\n    const circle = circles[i];\n    scaled[setids[i]] = {\n      radius: scaling * circle.radius,\n      x: padding + xOffset + (circle.x - xRange.min) * scaling,\n      y: padding + yOffset + (circle.y - yRange.min) * scaling,\n    };\n  }\n\n  return scaled;\n}\n","import { nelderMead } from 'fmin';\nimport { intersectionArea, distance, getCenter } from './circleintersection';\n\nfunction circleMargin(current, interior, exterior) {\n  let margin = interior[0].radius - distance(interior[0], current),\n    i,\n    m;\n  for (i = 1; i < interior.length; ++i) {\n    m = interior[i].radius - distance(interior[i], current);\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    m = distance(exterior[i], current) - exterior[i].radius;\n    if (m <= margin) {\n      margin = m;\n    }\n  }\n  return margin;\n}\n\n// compute the center of some circles by maximizing the margin of\n// the center point relative to the circles (interior) after subtracting\n// nearby circles (exterior)\nexport function computeTextCentre(interior, exterior) {\n  // get an initial estimate by sampling around the interior circles\n  // and taking the point with the biggest margin\n  const points = [];\n  let i;\n  for (i = 0; i < interior.length; ++i) {\n    const c = interior[i];\n    points.push({ x: c.x, y: c.y });\n    points.push({ x: c.x + c.radius / 2, y: c.y });\n    points.push({ x: c.x - c.radius / 2, y: c.y });\n    points.push({ x: c.x, y: c.y + c.radius / 2 });\n    points.push({ x: c.x, y: c.y - c.radius / 2 });\n  }\n  let initial = points[0],\n    margin = circleMargin(points[0], interior, exterior);\n  for (i = 1; i < points.length; ++i) {\n    const m = circleMargin(points[i], interior, exterior);\n    if (m >= margin) {\n      initial = points[i];\n      margin = m;\n    }\n  }\n\n  // maximize the margin numerically\n  const solution = nelderMead(\n    function (p) {\n      return -1 * circleMargin({ x: p[0], y: p[1] }, interior, exterior);\n    },\n    [initial.x, initial.y],\n    { maxIterations: 500, minErrorDelta: 1e-10 }\n  ).x;\n  let ret: any = { x: solution[0], y: solution[1] };\n\n  // check solution, fallback as needed (happens if fully overlapped\n  // etc)\n  let valid = true;\n  for (i = 0; i < interior.length; ++i) {\n    if (distance(ret, interior[i]) > interior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  for (i = 0; i < exterior.length; ++i) {\n    if (distance(ret, exterior[i]) < exterior[i].radius) {\n      valid = false;\n      break;\n    }\n  }\n\n  if (!valid) {\n    if (interior.length == 1) {\n      ret = { x: interior[0].x, y: interior[0].y };\n    } else {\n      const areaStats: any = {};\n      intersectionArea(interior, areaStats);\n\n      if (areaStats.arcs.length === 0) {\n        ret = { x: 0, y: -1000, disjoint: true };\n      } else if (areaStats.arcs.length == 1) {\n        ret = { x: areaStats.arcs[0].circle.x, y: areaStats.arcs[0].circle.y };\n      } else if (exterior.length) {\n        // try again without other circles\n        ret = computeTextCentre(interior, []);\n      } else {\n        // take average of all the points in the intersection\n        // polygon. this should basically never happen\n        // and has some issues:\n        // https://github.com/benfred/venn.js/issues/48#issuecomment-146069777\n        ret = getCenter(\n          areaStats.arcs.map(function (a) {\n            return a.p1;\n          })\n        );\n      }\n    }\n  }\n\n  return ret;\n}\n\n// given a dictionary of {setid : circle}, returns\n// a dictionary of setid to list of circles that completely overlap it\nfunction getOverlappingCircles(circles) {\n  const ret = {},\n    circleids = [];\n  for (const circleid in circles) {\n    circleids.push(circleid);\n    ret[circleid] = [];\n  }\n  for (let i = 0; i < circleids.length; i++) {\n    const a = circles[circleids[i]];\n    for (let j = i + 1; j < circleids.length; ++j) {\n      const b = circles[circleids[j]],\n        d = distance(a, b);\n\n      if (d + b.radius <= a.radius + 1e-10) {\n        ret[circleids[j]].push(circleids[i]);\n      } else if (d + a.radius <= b.radius + 1e-10) {\n        ret[circleids[i]].push(circleids[j]);\n      }\n    }\n  }\n  return ret;\n}\n\nexport function computeTextCentres(circles, areas) {\n  const ret = {},\n    overlapped = getOverlappingCircles(circles);\n  for (let i = 0; i < areas.length; ++i) {\n    const area = areas[i].sets,\n      areaids = {},\n      exclude = {};\n    for (let j = 0; j < area.length; ++j) {\n      areaids[area[j]] = true;\n      const overlaps = overlapped[area[j]];\n      // keep track of any circles that overlap this area,\n      // and don't consider for purposes of computing the text\n      // centre\n      for (let k = 0; k < overlaps.length; ++k) {\n        exclude[overlaps[k]] = true;\n      }\n    }\n\n    const interior = [],\n      exterior = [];\n    for (const setid in circles) {\n      if (setid in areaids) {\n        interior.push(circles[setid]);\n      } else if (!(setid in exclude)) {\n        exterior.push(circles[setid]);\n      }\n    }\n    const centre = computeTextCentre(interior, exterior);\n    ret[area] = centre;\n    if (centre.disjoint && areas[i].size > 0) {\n      console.log('WARNING: area ' + area + ' not represented on screen');\n    }\n  }\n  return ret;\n}\n\n/**\n * (x, y)  r  path\n * @param x  x\n * @param y  y\n * @param r \n * @returns  path\n */\nexport function circlePath(x, y, r) {\n  const ret = [];\n  // ret.push('\\nM', x, y);\n  // ret.push('\\nm', -r, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, r * 2, 0);\n  // ret.push('\\na', r, r, 0, 1, 0, -r * 2, 0);\n  const x0 = x - r;\n  const y0 = y;\n  ret.push('M', x0, y0);\n  ret.push('A', r, r, 0, 1, 0, x0 + 2 * r, y0);\n  ret.push('A', r, r, 0, 1, 0, x0, y0);\n\n  return ret.join(' ');\n}\n\n// inverse of the circlePath function, returns a circle object from an svg path\nexport function circleFromPath(path) {\n  const tokens = path.split(' ');\n  return { x: parseFloat(tokens[1]), y: parseFloat(tokens[2]), radius: -parseFloat(tokens[4]) };\n}\n\n/** returns a svg path of the intersection area of a bunch of circles */\nexport function intersectionAreaPath(circles) {\n  const stats: any = {};\n  intersectionArea(circles, stats);\n  const arcs = stats.arcs;\n\n  if (arcs.length === 0) {\n    return 'M 0 0';\n  } else if (arcs.length == 1) {\n    const circle = arcs[0].circle;\n    return circlePath(circle.x, circle.y, circle.radius);\n  } else {\n    // draw path around arcs\n    const ret = ['\\nM', arcs[0].p2.x, arcs[0].p2.y];\n    for (let i = 0; i < arcs.length; ++i) {\n      const arc = arcs[i],\n        r = arc.circle.radius,\n        wide = arc.width > r;\n      ret.push('\\nA', r, r, 0, wide ? 1 : 0, 1, arc.p1.x, arc.p1.y);\n    }\n    return ret.join(' ');\n  }\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape, Types, Util } from '@antv/g2';\nimport { parsePathString } from '@antv/path-util';\nimport { deepAssign } from '../../utils';\nimport { Datum, Point } from '../../types';\nimport { CustomInfo } from './types';\nimport { PATH_FIELD } from './constant';\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  // style.fill \n  return deepAssign({}, cfg.defaultStyle, { fill: cfg.color }, cfg.style);\n}\n\nregisterShape('schema', 'venn', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const data = cfg.data as Datum;\n    const segments = parsePathString(data[PATH_FIELD]);\n    const fillAttrs = getFillAttrs(cfg);\n\n    const group = container.addGroup({ name: 'venn-shape' });\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: segments,\n      },\n      name: 'venn-path',\n    });\n\n    const { offsetX, offsetY } = cfg.customInfo as CustomInfo;\n\n    const matrix = Util.transform(null, [['t', offsetX, offsetY]]);\n    group.setMatrix(matrix);\n\n    return group;\n  },\n  getMarker(markerCfg: Types.ShapeMarkerCfg) {\n    const { color } = markerCfg;\n    return {\n      symbol: 'circle',\n      style: {\n        lineWidth: 0,\n        stroke: color,\n        fill: color,\n        r: 4,\n      },\n    };\n  },\n});\n","import { registerGeometryLabel, GeometryLabel } from '@antv/g2';\n\n// Step 1\n//  Label \n//  GeometryLabel \nclass VennLabel extends GeometryLabel {\n  /**\n   *  label \n   * @param labelCfg\n   * @param mappingData\n   * @param index\n   * @returns label point\n   */\n  protected getLabelPoint(labelCfg, mappingData, index: number) {\n    const { x, y } = labelCfg.data;\n    const { offsetX, offsetY } = labelCfg.customLabelInfo;\n    return {\n      content: labelCfg.content[index],\n      x: x + offsetX,\n      y: y + offsetY,\n    };\n  }\n}\n\n// Step 2:  CustomLabel\nregisterGeometryLabel('venn', VennLabel);\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { VennElementActive } from './actions/active';\nimport { VennElementHighlight } from './actions/highlight';\nimport { VennElementSelected, VennElementSingleSelected } from './actions/selected';\n\n/** ==================  aciton ================== */\n\nregisterAction('venn-element-active', VennElementActive as any);\nregisterAction('venn-element-highlight', VennElementHighlight as any);\nregisterAction('venn-element-selected', VennElementSelected as any);\nregisterAction('venn-element-single-selected', VennElementSingleSelected as any);\n\n/** ==================  ================== */\n\n// ========= Active  =========\nregisterInteraction('venn-element-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-active:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-active:reset' }],\n});\n\n// =========   =========\nregisterInteraction('venn-element-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'venn-element-highlight:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'venn-element-highlight:reset' }],\n});\n\n// ========= Selected  =========\n//  venn element \nregisterInteraction('venn-element-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-selected:reset'] }],\n});\n//  venn element \nregisterInteraction('venn-element-single-selected', {\n  start: [{ trigger: 'element:click', action: 'venn-element-single-selected:toggle' }],\n  rollback: [{ trigger: 'dblclick', action: ['venn-element-single-selected:reset'] }],\n});\n\n// =========  =========\n// legend hoverelement active\nregisterInteraction('venn-legend-active', {\n  start: [{ trigger: 'legend-item:mouseenter', action: ['list-active:active', 'venn-element-active:active'] }],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['list-active:reset', 'venn-element-active:reset'] }],\n});\n\n// legend hoverelement active\nregisterInteraction('venn-legend-highlight', {\n  start: [\n    {\n      trigger: 'legend-item:mouseenter',\n      action: ['legend-item-highlight:highlight', 'venn-element-highlight:highlight'],\n    },\n  ],\n  end: [{ trigger: 'legend-item:mouseleave', action: ['legend-item-highlight:reset', 'venn-element-highlight:reset'] }],\n});\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementActiveAction: any = getActionClass('element-active');\n\nexport class VennElementActive extends ElementActiveAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public active() {\n    super.active();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementHighlightAction: any = getActionClass('element-highlight');\n\nexport class VennElementHighlight extends ElementHighlightAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public highlight() {\n    super.highlight();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public clear() {\n    super.clear();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { getActionClass } from '@antv/g2';\nimport { placeElementsOrdered } from '../util';\n\nconst ElementSelectedAction: any = getActionClass('element-selected');\nconst ElementSingleSelectedAction: any = getActionClass('element-single-selected');\n\n/**\n *  \n */\nexport class VennElementSelected extends ElementSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n\n/**\n *  \n */\nexport class VennElementSingleSelected extends ElementSingleSelectedAction {\n  /**\n   * \n   */\n  protected syncElementsPos() {\n    placeElementsOrdered(this.context.view);\n  }\n\n  /**  */\n  public selected() {\n    super.selected();\n    this.syncElementsPos();\n  }\n\n  /** toggle  */\n  public toggle() {\n    super.toggle();\n    this.syncElementsPos();\n  }\n\n  /**  */\n  public reset() {\n    super.reset();\n    this.syncElementsPos();\n  }\n}\n","import { Types } from '@antv/g2';\nimport { isArray } from '@antv/util';\nimport { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { Datum, Data } from '../../../types/common';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FunnelOptions } from '../types';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const {\n    data,\n    xField,\n    yField,\n    color,\n    compareField,\n    isTransposed,\n    tooltip,\n    maxSize,\n    minSize,\n    label,\n    funnelStyle,\n    state,\n    showFacetTitle,\n  } = options;\n\n  chart.facet('mirror', {\n    fields: [compareField],\n    // \n    transpose: !isTransposed,\n    padding: isTransposed ? 0 : [32, 0, 0, 0],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      const index = isTransposed ? facet.rowIndex : facet.columnIndex;\n\n      if (!isTransposed) {\n        view.coordinate({\n          type: 'rect',\n          actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n        });\n      }\n\n      const formatterData = transformData(facet.data, data, {\n        yField,\n        maxSize,\n        minSize,\n      });\n\n      view.data(formatterData);\n\n      // \n      const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField, compareField]);\n\n      const defaultFacetLabel = isTransposed\n        ? {\n            offset: index === 0 ? 10 : -23,\n            position: (index === 0 ? 'bottom' : 'top') as Types.IntervalGeometryLabelPosition,\n          }\n        : {\n            offset: 10,\n            position: 'left' as Types.IntervalGeometryLabelPosition,\n            style: {\n              textAlign: index === 0 ? 'end' : 'start',\n            },\n          };\n\n      baseGeometry({\n        chart: view,\n        options: {\n          type: 'interval',\n          xField: xField,\n          yField: FUNNEL_MAPPING_VALUE,\n          colorField: xField,\n          tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n          mapping: {\n            // todo   shape\n            shape: 'funnel',\n            tooltip: formatter,\n            color,\n            style: funnelStyle,\n          },\n          label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n          state,\n        },\n      });\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { conversionTag, isTransposed } = options;\n  // @ts-ignore\n  chart.once('beforepaint', () => {\n    chart.views.forEach((view, viewIndex) => {\n      const getLineCoordinate = (\n        datum: Datum,\n        datumIndex: number,\n        data: Data,\n        initLineOption: Record<string, any>\n      ): Types.LineOption => {\n        const ratio = viewIndex === 0 ? -1 : 1;\n        return deepAssign({}, initLineOption, {\n          start: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n          end: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n          text: isTransposed\n            ? {\n                style: {\n                  textAlign: 'start',\n                },\n              }\n            : {\n                offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n                style: {\n                  textAlign: viewIndex === 0 ? 'end' : 'start',\n                },\n              },\n        });\n      };\n\n      conversionTagComponent(getLineCoordinate)(\n        deepAssign(\n          {},\n          {\n            chart: view,\n            options,\n          }\n        )\n      );\n    });\n  });\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function compareFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, conversionTag)(params);\n}\n","import { flow, deepAssign } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FunnelOptions } from '../types';\nimport { basicFunnel } from './basic';\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n  // \n  chart.data(data);\n  chart.scale({\n    [yField]: {\n      sync: true,\n    },\n  });\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { seriesField, isTransposed, showFacetTitle } = options;\n\n  chart.facet('rect', {\n    fields: [seriesField],\n    padding: [isTransposed ? 0 : 32, 10, 0, 10],\n    showTitle: showFacetTitle,\n    eachView(view, facet) {\n      basicFunnel(\n        deepAssign({}, params, {\n          chart: view,\n          options: {\n            data: facet.data,\n          },\n        })\n      );\n    },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function facetFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry)(params);\n}\n","import { map, reduce, maxBy, isArray, get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { flow } from '../../../utils';\nimport { Params } from '../../../core/adaptor';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { Datum, Data } from '../../../types/common';\nimport { FunnelOptions } from '../types';\nimport { conversionTagComponent } from './common';\n\n/**\n * \n * @param params\n * :  yfield 2 2\n * :  g2 data ->  -> \n *  -0.5 <= x <= 0.5, 0 <= y <= 1 \n * ,  x \n *  data.length + 1  y = 4x - 1 [0.5, 1], [0.25, 0] data  y  y \n */\n\n/**\n * \n * @param params\n */\nfunction field(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { data = [], yField } = options;\n\n  // \n  const sum = reduce(\n    data,\n    (total, item) => {\n      return total + (item[yField] || 0);\n    },\n    0\n  );\n\n  const max = maxBy(data, yField)[yField];\n\n  const formatData = map(data, (row, index) => {\n    //  xy  [, ]\n    const x = [];\n    const y = [];\n\n    row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n\n    // \n    if (index) {\n      const preItemX = data[index - 1][PLOYGON_X];\n      const preItemY = data[index - 1][PLOYGON_Y];\n      x[0] = preItemX[3];\n      y[0] = preItemY[3];\n      x[1] = preItemX[2];\n      y[1] = preItemY[2];\n    } else {\n      x[0] = -0.5;\n      y[0] = 1;\n      x[1] = 0.5;\n      y[1] = 1;\n    }\n\n    // \n    y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n    x[2] = (y[2] + 1) / 4;\n    y[3] = y[2];\n    x[3] = -x[2];\n\n    // \n    row[PLOYGON_X] = x;\n    row[PLOYGON_Y] = y;\n    row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n    row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n    return row;\n  });\n\n  chart.data(formatData);\n\n  return params;\n}\n\n/**\n * geometry\n * @param params\n */\nfunction geometry(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { xField, yField, color, tooltip, label, funnelStyle, state } = options;\n\n  const { fields, formatter } = getTooltipMapping(tooltip, [xField, yField]);\n  // \n  baseGeometry({\n    chart,\n    options: {\n      type: 'polygon',\n      xField: PLOYGON_X,\n      yField: PLOYGON_Y,\n      colorField: xField,\n      tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n      label,\n      state,\n      mapping: {\n        tooltip: formatter,\n        color,\n        style: funnelStyle,\n      },\n    },\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction transpose(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const { chart, options } = params;\n  const { isTransposed } = options;\n  chart.coordinate({\n    type: 'rect',\n    actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n  });\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction conversionTag(params: Params<FunnelOptions>): Params<FunnelOptions> {\n  const getLineCoordinate = (\n    datum: Datum,\n    datumIndex: number,\n    data: Data,\n    initLineOption: Record<string, any>\n  ): Types.LineOption => {\n    return {\n      ...initLineOption,\n      start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]],\n      end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]],\n    };\n  };\n\n  conversionTagComponent(getLineCoordinate)(params);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params: Params<FunnelOptions>) {\n  return flow(field, geometry, transpose, conversionTag)(params);\n}\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { LiquidOptions } from './types';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getLiquidData } from './utils';\n// register liquid shape\nimport './shapes/liquid';\n\nexport { addWaterWave } from './shapes/liquid';\n\nexport type { LiquidOptions };\n\n/**\n * \n */\nexport class Liquid extends Plot<LiquidOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<LiquidOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'liquid';\n\n  /**\n   *   ,  base \n   */\n  protected getDefaultOptions(): Partial<LiquidOptions> {\n    return Liquid.getDefaultOptions();\n  }\n\n  /**\n   * \n   * @param percent\n   */\n  public changeData(percent: number) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n    this.updateOption({ percent });\n\n    this.chart.data(getLiquidData(percent));\n    statistic({ chart: this.chart, options: this.options }, true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<LiquidOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { get, isNil } from '@antv/util';\nimport { interaction, animation, theme, scale, pattern } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, renderStatistic } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { LiquidOptions, CustomInfo } from './types';\nimport { getLiquidData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<LiquidOptions>): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { percent, liquidStyle, radius, outline, wave, shape, animation } = options;\n\n  chart.scale({\n    percent: {\n      min: 0,\n      max: 1,\n    },\n  });\n\n  chart.data(getLiquidData(percent));\n\n  const color = options.color || chart.getTheme().defaultColor;\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: 'type',\n      yField: 'percent',\n      // radius  columnWidthRatio \n      //   radius \n      widthRatio: radius,\n      interval: {\n        color,\n        style: liquidStyle,\n        shape: 'liquid-fill-gauge',\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n  const { background } = chart.getTheme();\n  const customInfo: CustomInfo = {\n    radius,\n    outline,\n    wave,\n    shape,\n    background,\n    animation,\n  };\n\n  //  radius  shape \n  geometry.customInfo(customInfo);\n\n  // \n  chart.legend(false);\n  chart.axis(false);\n  chart.tooltip(false);\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function statistic(params: Params<LiquidOptions>, updated?: boolean): Params<LiquidOptions> {\n  const { chart, options } = params;\n  const { statistic, percent, meta } = options;\n\n  // \n  chart.getController('annotation').clear(true);\n\n  const metaFormatter = get(meta, ['percent', 'formatter']) || ((v) => `${(v * 100).toFixed(2)}%`);\n  let contentOpt = statistic.content;\n  if (contentOpt) {\n    contentOpt = deepAssign({}, contentOpt, {\n      content: !isNil(contentOpt.content) ? contentOpt.content : metaFormatter(percent),\n    });\n  }\n\n  renderStatistic(chart, { statistic: { ...statistic, content: contentOpt }, plotType: 'liquid' }, { percent });\n\n  if (updated) {\n    chart.render(true);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<LiquidOptions>) {\n  // flow  G2 API ()\n  return flow(theme, pattern('liquidStyle'), geometry, statistic, scale({}), animation, interaction)(params);\n}\n","/**\n * \n */\nexport const DEFAULT_OPTIONS = {\n  radius: 0.9,\n  statistic: {\n    title: false as const,\n    content: {\n      style: {\n        opacity: 0.75,\n        fontSize: '30px',\n        lineHeight: '30px',\n        textAlign: 'center',\n      },\n    },\n  },\n  outline: {\n    border: 2,\n    distance: 0,\n  },\n  wave: {\n    count: 3,\n    length: 192,\n  },\n  shape: 'circle',\n};\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { BulletOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { transformData } from './utils';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { BulletOptions };\n\nexport class Bullet extends Plot<BulletOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<BulletOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'bullet';\n\n  public changeData(data) {\n    this.updateOption({ data });\n    const { min, max, ds } = transformData(this.options);\n    // scale\n    meta({ options: this.options, ext: { data: { min, max } }, chart: this.chart });\n    this.chart.changeData(ds);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BulletOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Bullet.getDefaultOptions();\n  }\n}\n","import { get, isFunction } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { Datum } from '../../types';\nimport { interval, point } from '../../adaptor/geometries';\nimport { BulletOptions } from './types';\nimport { transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { bulletStyle, targetField, rangeField, measureField, xField, color, layout, size, label } = options;\n  // \n  const { min, max, ds } = transformData(options);\n  chart.data(ds);\n\n  // rangeGeometry\n  const r = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: rangeField,\n      seriesField: 'rKey',\n      isStack: true,\n      label: get(label, 'range'),\n      interval: {\n        color: get(color, 'range'),\n        style: get(bulletStyle, 'range'),\n        size: get(size, 'range'),\n      },\n    },\n  });\n  interval(r);\n  //  tooltip \n  chart.geometries[0].tooltip(false);\n\n  // measureGeometry\n  const m = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: measureField,\n      seriesField: 'mKey',\n      isStack: true,\n      label: get(label, 'measure'),\n      interval: {\n        color: get(color, 'measure'),\n        style: get(bulletStyle, 'measure'),\n        size: get(size, 'measure'),\n      },\n    },\n  });\n  interval(m);\n\n  // targetGeometry\n  const t = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: targetField,\n      seriesField: 'tKey',\n      label: get(label, 'target'),\n      point: {\n        color: get(color, 'target'),\n        style: get(bulletStyle, 'target'),\n        size: isFunction(get(size, 'target'))\n          ? (data: Datum) => get(size, 'target')(data) / 2\n          : get(size, 'target') / 2,\n        shape: layout === 'horizontal' ? 'line' : 'hyphen',\n      },\n    },\n  });\n  point(t);\n\n  // \n  if (layout === 'horizontal') {\n    chart.coordinate().transpose();\n  }\n\n  return { ...params, ext: { data: { min, max } } };\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { options, ext } = params;\n  const { xAxis, yAxis, targetField, rangeField, measureField, xField } = options;\n\n  const extData = ext.data;\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [measureField]: yAxis,\n      },\n      //  meta\n      {\n        [measureField]: { min: extData?.min, max: extData?.max, sync: true },\n        [targetField]: {\n          sync: `${measureField}`,\n        },\n        [rangeField]: {\n          sync: `${measureField}`,\n        },\n      }\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, measureField, rangeField, targetField } = options;\n\n  chart.axis(`${rangeField}`, false);\n  chart.axis(`${targetField}`, false);\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(`${xField}`, false);\n  } else {\n    chart.axis(`${xField}`, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(`${measureField}`, false);\n  } else {\n    chart.axis(`${measureField}`, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend \n * @param params\n */\nfunction legend(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { legend } = options;\n  chart.removeInteraction('legend-filter');\n  // @TODO  legend\n  chart.legend(legend);\n\n  //  color  legend, legend\n  chart.legend('rKey', false);\n  chart.legend('mKey', false);\n  chart.legend('tKey', false);\n\n  return params;\n}\n\n/**\n * label \n * @param params\n */\nfunction label(params: Params<BulletOptions>): Params<BulletOptions> {\n  const { chart, options } = params;\n  const { label, measureField, targetField, rangeField } = options;\n  const [rangeGeometry, measureGeometry, targetGeometry] = chart.geometries;\n\n  if (get(label, 'range')) {\n    rangeGeometry.label(`${rangeField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.range),\n    });\n  } else {\n    rangeGeometry.label(false);\n  }\n  if (get(label, 'measure')) {\n    measureGeometry.label(`${measureField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.measure),\n    });\n  } else {\n    measureGeometry.label(false);\n  }\n  if (get(label, 'target')) {\n    targetGeometry.label(`${targetField}`, {\n      layout: [{ type: 'limit-in-plot' }],\n      ...transformLabel(label.target),\n    });\n  } else {\n    targetGeometry.label(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BulletOptions>) {\n  // flow  G2 API\n  flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n * \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  layout: 'horizontal',\n  size: {\n    range: 30,\n    measure: 20,\n    target: 20,\n  },\n  xAxis: {\n    tickLine: false,\n    line: null,\n  },\n  bulletStyle: {\n    range: {\n      fillOpacity: 0.5,\n    },\n  },\n  label: {\n    measure: {\n      position: 'right',\n    },\n  },\n  tooltip: {\n    // \n    showMarkers: false,\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { NODE_ANCESTORS_FIELD } from '../../utils/hierarchy/util';\nimport { SunburstOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport './interactions';\n\nexport type { SunburstOptions };\n\nexport class Sunburst extends Plot<SunburstOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<SunburstOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**   */\n  static SUNBURST_ANCESTOR_FIELD = SUNBURST_ANCESTOR_FIELD;\n  /**   */\n  static SUNBURST_PATH_FIELD = SUNBURST_PATH_FIELD;\n  /**  */\n  static NODE_ANCESTORS_FIELD = NODE_ANCESTORS_FIELD;\n\n  /**  */\n  public type: string = 'sunburst';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sunburst.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SunburstOptions> {\n    return adaptor;\n  }\n}\n","import { isFunction, get, uniq } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { Params } from '../../core/adaptor';\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  annotation,\n  scale,\n  pattern,\n  legend,\n} from '../../adaptor/common';\nimport { flow, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { Datum } from '../../types';\nimport { RAW_FIELDS, SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD, SUNBURST_Y_FIELD } from './constant';\nimport { transformData } from './utils';\nimport { SunburstOptions } from './types';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { color, colorField = SUNBURST_ANCESTOR_FIELD, sunburstStyle, rawFields = [] } = options;\n  const data = transformData(options);\n  chart.data(data);\n\n  //  fillOpacity \n  let style;\n  if (sunburstStyle) {\n    style = (datum: Datum) => {\n      return deepAssign(\n        {},\n        {\n          fillOpacity: 0.85 ** datum.depth,\n        },\n        isFunction(sunburstStyle) ? sunburstStyle(datum) : sunburstStyle\n      );\n    };\n  }\n\n  // geometry\n  polygonAdaptor(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: uniq([...RAW_FIELDS, ...rawFields]),\n        polygon: {\n          color,\n          style,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { label } = options;\n\n  const geometry = findGeometry(chart, 'polygon');\n\n  // undefined \n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { fields = ['name'], callback, ...cfg } = label;\n    geometry.label({\n      fields,\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * coord \n * @param params\n */\nfunction coordinate(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { innerRadius, radius, reflect } = options;\n\n  const coord = chart.coordinate({\n    type: 'polar',\n    cfg: {\n      innerRadius,\n      radius,\n    },\n  });\n  if (reflect) {\n    coord.reflect(reflect);\n  }\n\n  return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { options } = params;\n  const { hierarchyConfig, meta } = options;\n\n  return flow(\n    scale(\n      {},\n      {\n        [SUNBURST_Y_FIELD]: get(meta, get(hierarchyConfig, ['field'], 'value')),\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const pathFormatter = get(scales, [SUNBURST_PATH_FIELD, 'formatter'], (v) => v);\n              const valueFormatter = get(scales, [SUNBURST_Y_FIELD, 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: pathFormatter(item.data[SUNBURST_PATH_FIELD]),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\nfunction adaptorInteraction(options: SunburstOptions): SunburstOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<SunburstOptions>): Params<SunburstOptions> {\n  const { chart, options } = params;\n\n  const { drilldown } = options;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  // \n  if (drilldown?.enabled) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SunburstOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    pattern('sunburstStyle'),\n    geometry,\n    axis,\n    meta,\n    legend,\n    coordinate,\n    tooltip,\n    label,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { omit } from '@antv/util';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { pick } from '../../utils';\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { SUNBURST_ANCESTOR_FIELD, SUNBURST_PATH_FIELD } from './constant';\nimport { SunburstOptions } from './types';\n\n/**\n * sunburst \n * @param options\n */\nexport function transformData(options: Pick<SunburstOptions, 'data' | 'colorField' | 'rawFields' | 'hierarchyConfig'>) {\n  const { data, colorField, rawFields, hierarchyConfig = {} } = options;\n  const { activeDepth } = hierarchyConfig;\n  const transform = {\n    partition: partition,\n    treemap: treemap,\n  };\n  // @ts-ignore  seriesField  hierarchyConfig.field\n  const seriesField = options.seriesField;\n  // @ts-ignore \n  const type = options.type || 'partition';\n\n  const nodes = transform[type](data, {\n    field: seriesField || 'value',\n    ...omit(hierarchyConfig, ['activeDepth']),\n    // @ts-ignore\n    type: `hierarchy.${type}`,\n    as: ['x', 'y'],\n  });\n\n  const result = [];\n\n  nodes.forEach((node) => {\n    if (node.depth === 0) {\n      return null;\n    }\n    if (activeDepth > 0 && node.depth > activeDepth) {\n      return null;\n    }\n\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    const nodeInfo = {\n      ...pick(node.data, [...(rawFields || []), hierarchyConfig.field]),\n      [SUNBURST_PATH_FIELD]: path,\n      [SUNBURST_ANCESTOR_FIELD]: ancestorNode.data.name,\n      ...node,\n    };\n    // note: \n    if (seriesField) {\n      nodeInfo[seriesField] = node.data[seriesField] || node.parent?.data?.[seriesField];\n    }\n    if (colorField) {\n      nodeInfo[colorField] = node.data[colorField] || node.parent?.data?.[colorField];\n    }\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, colorField, rawFields };\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray, reduce, size } from '@antv/util';\nimport { getField, getAllNodes } from './util';\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  size: [1, 1], // width, height\n  round: false,\n  padding: 0,\n  // \n  sort: (a, b) => b.value - a.value,\n  as: ['x', 'y'],\n  //  parentValue,  true \n  ignoreParentValue: true,\n};\n\nexport interface Options {\n  field: string;\n  size?: [number, number];\n  round?: boolean;\n  ratio?: number;\n  padding?: number;\n  sort?: Function;\n  as?: [string, string];\n\n  ignoreParentValue?: boolean;\n}\n\nexport function partition(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 2) {\n    throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const partition = (data) =>\n    d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(\n      /**\n       * d3Hierarchy  sum  node  node  post-order traversal  value  node\n       * for example:\n       * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n       * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n       * sum d  data, children \n       */\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) =>\n          size(d.children)\n            ? options.ignoreParentValue\n              ? 0\n              : d[field] - reduce(d.children, (a, b) => a + b[field], 0)\n            : d[field]\n        )\n        .sort(options.sort)\n    );\n  const root = partition(data);\n\n  /*\n   * points:\n   *   3  2\n   *   0  1\n   */\n  const x = as[0];\n  const y = as[1];\n\n  root.each((node) => {\n    node[x] = [node.x0, node.x1, node.x1, node.x0];\n    node[y] = [node.y1, node.y1, node.y0, node.y0];\n    //  \n    node.name = node.name || node.data?.name || node.data?.label;\n    node.data.name = node.name;\n\n    ['x0', 'x1', 'y0', 'y1'].forEach((prop) => {\n      if (as.indexOf(prop) === -1) {\n        delete node[prop];\n      }\n    });\n  });\n\n  return getAllNodes(root);\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","/**  drill-down  */\nimport '../../../interactions/drill-down';\n","import { Options, ShapeStyle, Statistic, StyleAttr } from '../../types';\nimport { Axis } from '../../types/axis';\nimport { PERCENT, RANGE_TYPE, RANGE_VALUE } from './constants';\n\n/**  */\nexport type Indicator = {\n  /**\n   * @title \n   * @description  object\n   */\n  readonly pointer?: {\n    readonly style?: ShapeStyle;\n  };\n  /**\n   * @title \n   * @description  object\n   */\n  readonly pin?: {\n    readonly style?: ShapeStyle;\n  };\n  /**\n   * @title  shape\n   * @default 'gauge-indicator'\n   */\n  readonly shape?: string;\n};\n\nexport type Range = {\n  /**\n   * @title \n   * @description 0 ~ 1 \n   */\n  readonly ticks?: number[];\n  /**\n   * @title \n   */\n  readonly color?: string | string[];\n  /**\n   * @title \n   */\n  readonly width?: number;\n};\n\n/**\n * @title  rangeData\n */\nexport type GaugeRangeData = {\n  readonly [RANGE_VALUE]?: number;\n  readonly [RANGE_TYPE]: string;\n  readonly [PERCENT]: number;\n}[];\n\n/**\n * @title \n */\nexport interface GaugeOptions\n  extends Omit<Options, 'data' | 'legend' | 'xAxis' | 'yAxis' | 'xField' | 'yField' | 'color'> {\n  /**\n   * @title \n   * @description 0 ~ 1\n   */\n  readonly percent: number;\n  /**\n   * @title \n   * @description 0 ~ 1\n   */\n  readonly radius?: number;\n  /**\n   * @title \n   * @description 0 ~ 1\n   */\n  readonly innerRadius?: number;\n  /**\n   * @title \n   */\n  readonly startAngle?: number;\n  /**\n   * @title \n   */\n  readonly endAngle?: number;\n  /**\n   * @title  range \n   */\n  readonly range?: Range;\n  /**\n   * @title \n   */\n  readonly axis?: Axis;\n  /**\n   * @title \n   */\n  readonly indicator?: false | Indicator;\n  /**\n   * @title \n   */\n  readonly statistic?: Statistic;\n  /**\n   * @title \n   */\n  readonly gaugeStyle?: StyleAttr;\n\n  /**\n   * @title meter gauge \n   */\n\n  /**\n   * @title \n   * @description : 'meter', default \n   */\n  readonly type?: string;\n  /**\n   * @title \n   * @description  = 'meter' \n   */\n  readonly meter?: {\n    /**\n     * @title \n     * @default \"50\"\n     */\n    readonly steps?: number;\n    /**\n     * @title step  gap \n     * @default \"0.5\"\n     */\n    readonly stepRatio?: number;\n  };\n}\n\n/**\n * @title \n * @description  shape  customInfo\n */\nexport type GaugeCustomInfo = {\n  /**\n   * @title  meter \n   */\n  readonly meter?: GaugeOptions['meter'];\n};\n","import { registerShape, Types } from '@antv/g2';\nimport { Indicator } from '../types';\n\n// Shape \nregisterShape('point', 'gauge-indicator', {\n  draw(cfg: Types.ShapeInfo, container) {\n    //  customInfo \n    const { indicator, defaultColor } = cfg.customInfo;\n    const { pointer, pin } = indicator as Indicator;\n\n    const group = container.addGroup();\n    // \n    const center = this.parsePoint({ x: 0, y: 0 });\n    // \n    if (pointer) {\n      // pointer\n      group.addShape('line', {\n        name: 'pointer',\n        attrs: {\n          x1: center.x,\n          y1: center.y,\n          x2: cfg.x,\n          y2: cfg.y,\n          stroke: defaultColor,\n          ...pointer.style,\n        },\n      });\n    }\n\n    // pin\n    if (pin) {\n      group.addShape('circle', {\n        name: 'pin',\n        attrs: {\n          x: center.x,\n          y: center.y,\n          stroke: defaultColor,\n          ...pin.style,\n        },\n      });\n    }\n    return group;\n  },\n});\n","import { registerShape, Types, Util } from '@antv/g2';\nimport { clamp } from '@antv/util';\nimport { GaugeCustomInfo } from '../types';\n\ntype ShapeCfg = Omit<Types.ShapeInfo, 'customInfo'> & {\n  customInfo: GaugeCustomInfo;\n};\n\n/**\n *  Shape : \n *  STEP, STEP_RATIO. : 1 / (STEP + 1) * i -> 1 / (STEP + 1) * i + (STEP_RATIO / (STEP + 1))\n */\nregisterShape('interval', 'meter-gauge', {\n  draw(cfg: ShapeCfg, container) {\n    //  customInfo \n    const { meter = {} } = cfg.customInfo;\n    let { steps: STEP = 50, stepRatio: STEP_RATIO = 0.5 } = meter;\n    STEP = STEP < 1 ? 1 : STEP;\n    // stepRatio : (0, 1]\n    STEP_RATIO = clamp(STEP_RATIO, 0, 1);\n\n    const { startAngle: COORD_START_ANGLE, endAngle: COORD_END_ANGLE } = this.coordinate;\n    let GAP = 0;\n    if (STEP_RATIO > 0 && STEP_RATIO < 1) {\n      const TOTAL = COORD_END_ANGLE - COORD_START_ANGLE;\n      GAP = TOTAL / STEP / (STEP_RATIO / (1 - STEP_RATIO) + 1 - 1 / STEP);\n    }\n    const INTERVAL = (GAP / (1 - STEP_RATIO)) * STEP_RATIO;\n\n    const group = container.addGroup();\n    //  gap\n    const center = this.coordinate.getCenter();\n    const radius = this.coordinate.getRadius();\n    const { startAngle: START_ANGLE, endAngle: END_ANGLE } = Util.getAngle(cfg, this.coordinate);\n\n    for (let startAngle = START_ANGLE; startAngle < END_ANGLE; ) {\n      let endAngle;\n      const r = (startAngle - COORD_START_ANGLE) % (INTERVAL + GAP);\n      if (r < INTERVAL) {\n        endAngle = startAngle + (INTERVAL - r);\n      } else {\n        startAngle += INTERVAL + GAP - r;\n        endAngle = startAngle + INTERVAL;\n      }\n      const path = Util.getSectorPath(\n        center.x,\n        center.y,\n        radius,\n        startAngle,\n        Math.min(endAngle, END_ANGLE),\n        radius * this.coordinate.innerRadius\n      );\n      group.addShape('path', {\n        name: 'meter-gauge',\n        attrs: {\n          path,\n          fill: cfg.color,\n          stroke: cfg.color,\n          lineWidth: 0.5,\n        },\n      });\n      startAngle = endAngle + GAP;\n    }\n\n    return group;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { WaterfallOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData } from './utils';\n\nexport type { WaterfallOptions };\n\n/**\n * \n */\nexport class Waterfall extends Plot<WaterfallOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<WaterfallOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public readonly type: string = 'waterfall';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    const { xField, yField, total } = this.options;\n    this.updateOption({ data });\n    this.chart.changeData(transformData(data, xField, yField, total));\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<WaterfallOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions(): Partial<WaterfallOptions> {\n    return Waterfall.getDefaultOptions();\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum } from '../../types';\nimport { Params } from '../../core/adaptor';\nimport { interaction, animation, theme, state, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { getLocale } from '../../core/locale';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { Y_FIELD, ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL } from './constant';\nimport { WaterfallOptions } from './types';\nimport { transformData } from './utils';\nimport './shape';\n\n/**\n *  \n * @param params\n * @returns\n */\nfunction defaultOptions(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { locale, total } = params.options;\n\n  const localeTotalLabel = getLocale(locale).get(['waterfall', 'total']);\n\n  if (total && typeof total.label !== 'string' && localeTotalLabel) {\n    // @ts-ignore\n    params.options.total.label = localeTotalLabel;\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, total, leaderLine, columnWidthRatio, waterfallStyle, risingFill, fallingFill, color } =\n    options;\n\n  // \n  chart.data(transformData(data, xField, yField, total));\n\n  //  colorMapping\n  const colorMapping =\n    color ||\n    function (datum: Datum) {\n      if (get(datum, [IS_TOTAL])) {\n        return get(total, ['style', 'fill'], '');\n      }\n      return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n    };\n\n  const p = deepAssign({}, params, {\n    options: {\n      xField: xField,\n      yField: Y_FIELD,\n      seriesField: xField,\n      rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n      widthRatio: columnWidthRatio,\n      interval: {\n        style: waterfallStyle,\n        shape: 'waterfall',\n        color: colorMapping,\n      },\n    },\n  });\n  const { ext } = interval(p);\n  const geometry = ext.geometry as Geometry;\n\n  //  waterfall leaderLineCfg  shape \n  geometry.customInfo({ leaderLine });\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nfunction meta(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { options } = params;\n  const { xAxis, yAxis, xField, yField, meta } = options;\n\n  const Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n\n  return flow(\n    scale(\n      {\n        [xField]: xAxis,\n        [yField]: yAxis,\n        [Y_FIELD]: yAxis,\n      },\n      deepAssign({}, meta, { [Y_FIELD]: Y_FIELD_META, [DIFF_FIELD]: Y_FIELD_META, [ABSOLUTE_FIELD]: Y_FIELD_META })\n    )\n  )(params);\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n\n  //  false \n  if (xAxis === false) {\n    chart.axis(xField, false);\n  } else {\n    chart.axis(xField, xAxis);\n  }\n\n  if (yAxis === false) {\n    chart.axis(yField, false);\n    chart.axis(Y_FIELD, false);\n  } else {\n    chart.axis(yField, yAxis);\n    chart.axis(Y_FIELD, yAxis);\n  }\n\n  return params;\n}\n\n/**\n * legend  todo  hover \n * @param params\n */\nfunction legend(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { legend, total, risingFill, fallingFill, locale } = options;\n\n  const i18n = getLocale(locale);\n\n  if (legend === false) {\n    chart.legend(false);\n  } else {\n    const items = [\n      {\n        name: i18n.get(['general', 'increase']),\n        value: 'increase',\n        marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n      },\n      {\n        name: i18n.get(['general', 'decrease']),\n        value: 'decrease',\n        marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n      },\n    ];\n\n    if (total) {\n      items.push({\n        name: total.label || '',\n        value: 'total',\n        marker: {\n          symbol: 'square',\n          style: deepAssign({}, { r: 5 }, get(total, 'style')),\n        },\n      });\n    }\n    chart.legend(\n      deepAssign(\n        {},\n        {\n          custom: true,\n          position: 'top',\n          items,\n        },\n        legend\n      )\n    );\n    chart.removeInteraction('legend-filter');\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { label, labelMode, xField } = options;\n\n  const geometry = findGeometry(chart, 'interval');\n\n  if (!label) {\n    geometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    geometry.label({\n      fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params: Params<WaterfallOptions>): Params<WaterfallOptions> {\n  const { chart, options } = params;\n  const { tooltip, xField, yField } = options;\n\n  if (tooltip !== false) {\n    chart.tooltip({\n      showCrosshairs: false,\n      showMarkers: false,\n      shared: true,\n      // tooltip  y \n      fields: [yField],\n      ...tooltip,\n    });\n    //  yField  tooltip \n    const geometry = chart.geometries[0];\n    tooltip?.formatter ? geometry.tooltip(`${xField}*${yField}`, tooltip.formatter) : geometry.tooltip(yField);\n  } else {\n    chart.tooltip(false);\n  }\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function adaptor(params: Params<WaterfallOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    geometry,\n    meta,\n    axis,\n    legend,\n    tooltip,\n    label,\n    state,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { IGroup } from '@antv/g-base';\nimport { registerShape } from '@antv/g2';\nimport { Types } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { Point } from '../../types';\n\n/**\n *  path\n * @param points\n */\nfunction getRectPath(points: Point[]) {\n  const path = [];\n  for (let i = 0; i < points.length; i++) {\n    const point = points[i];\n    if (point) {\n      const action = i === 0 ? 'M' : 'L';\n      path.push([action, point.x, point.y]);\n    }\n  }\n\n  const first = points[0];\n  path.push(['L', first.x, first.y]);\n  path.push(['z']);\n\n  return path;\n}\n\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg: Types.ShapeInfo) {\n  return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\n\nregisterShape('interval', 'waterfall', {\n  draw(cfg: Types.ShapeInfo & { points: Point[]; nextPoints: Point[] }, container: IGroup) {\n    const { customInfo, points, nextPoints } = cfg;\n\n    const group = container.addGroup();\n\n    //  \n    const rectPath = this.parsePath(getRectPath(points));\n    const fillAttrs = getFillAttrs(cfg);\n\n    group.addShape('path', {\n      attrs: {\n        ...fillAttrs,\n        path: rectPath,\n      },\n    });\n\n    //  \n    const leaderLineCfg = get(customInfo, 'leaderLine');\n    if (leaderLineCfg && nextPoints) {\n      let linkPath = [\n        ['M', points[2].x, points[2].y],\n        ['L', nextPoints[0].x, nextPoints[0].y],\n      ];\n\n      if (points[2].y === nextPoints[1].y) {\n        linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n      }\n\n      linkPath = this.parsePath(linkPath);\n      group.addShape('path', {\n        attrs: {\n          path: linkPath,\n          ...(leaderLineCfg.style || {}),\n        },\n      });\n    }\n\n    return group;\n  },\n});\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { RadialBarOptions } from './types';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\n\nexport type { RadialBarOptions };\n\n/**\n * \n */\nexport class RadialBar extends Plot<RadialBarOptions> {\n  static getDefaultOptions(): Partial<RadialBarOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'radial-bar';\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data) {\n    this.updateOption({ data });\n    //  scale\n    meta({ chart: this.chart, options: this.options });\n    this.chart.changeData(data);\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions(): Partial<RadialBarOptions> {\n    return RadialBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<RadialBarOptions> {\n    return adaptor;\n  }\n}\n","import { interaction, animation, theme, scale, tooltip, legend, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, deepAssign, findGeometry, transformLabel } from '../../utils';\nimport { interval, point } from '../../adaptor/geometries';\nimport { pattern } from '../../adaptor/pattern';\nimport { processIllegalData } from '../../utils';\nimport { RadialBarOptions } from './types';\nimport { getScaleMax, getStackedData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { barStyle: style, color, tooltip, colorField, type, xField, yField, data } = options;\n\n  // \n  const processData = processIllegalData(data, yField);\n  chart.data(processData);\n\n  const p = deepAssign({}, params, {\n    options: {\n      tooltip,\n      seriesField: colorField,\n      interval: {\n        style,\n        color,\n        shape: type === 'line' ? 'line' : 'intervel',\n      },\n      // \n      minColumnWidth: options.minBarWidth,\n      maxColumnWidth: options.maxBarWidth,\n      columnBackground: options.barBackground,\n    },\n  });\n  interval(p);\n  if (type === 'line') {\n    point({\n      chart,\n      options: { xField, yField, seriesField: colorField, point: { shape: 'circle', color } },\n    });\n  }\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { options } = params;\n  const { yField, xField, data, isStack, isGroup, colorField, maxAngle } = options;\n\n  const actualData = isStack && !isGroup && colorField ? getStackedData(data, xField, yField) : data;\n  const processData = processIllegalData(actualData, yField);\n  return flow(\n    scale({\n      [yField]: {\n        min: 0,\n        max: getScaleMax(maxAngle, yField, processData),\n      },\n    })\n  )(params);\n}\n\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { radius, innerRadius, startAngle, endAngle } = options;\n\n  chart\n    .coordinate({\n      type: 'polar',\n      cfg: {\n        radius,\n        innerRadius,\n        startAngle,\n        endAngle,\n      },\n    })\n    .transpose();\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nexport function axis(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { xField, xAxis } = options;\n  chart.axis(xField, xAxis);\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction label(params: Params<RadialBarOptions>): Params<RadialBarOptions> {\n  const { chart, options } = params;\n  const { label, yField } = options;\n\n  const intervalGeometry = findGeometry(chart, 'interval');\n\n  // label  false,   label\n  if (!label) {\n    intervalGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    intervalGeometry.label({\n      fields: [yField],\n      callback,\n      cfg: {\n        ...transformLabel(cfg),\n        type: 'polar',\n      },\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<RadialBarOptions>) {\n  return flow(\n    pattern('barStyle'),\n    geometry,\n    meta,\n    axis,\n    coordinate,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    legend,\n    annotation(),\n    label\n  )(params);\n}\n","import { Data } from '../../types';\n\nexport function getScaleMax(maxAngle: number, yField: string, data: Data): number {\n  const yData = data.map((item) => item[yField]).filter((v) => v !== undefined);\n  const maxValue = yData.length > 0 ? Math.max(...yData) : 0;\n  const formatRadian = Math.abs(maxAngle) % 360;\n  if (!formatRadian) {\n    return maxValue;\n  }\n  return (maxValue * 360) / formatRadian;\n}\n\n/**\n * \n */\nexport function getStackedData(data: Data, xField: string, yField: string) {\n  const stackedData: Data = [];\n  data.forEach((item) => {\n    const valueItem = stackedData.find((v) => v[xField] === item[xField]);\n    if (valueItem) {\n      valueItem[yField] += item[yField] || null;\n    } else {\n      stackedData.push({ ...item });\n    }\n  });\n  return stackedData;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n\n/**\n *  \n */\nexport const DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n  interactions: [{ type: 'element-active' }],\n  legend: false,\n  tooltip: {\n    showMarkers: false,\n  },\n  xAxis: {\n    grid: null,\n    tickLine: null,\n    line: null,\n  },\n  maxAngle: 240,\n});\n","import { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { deepAssign, findViewById } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { syncViewPadding, transformData, isHorizontal } from './utils';\nimport { SERIES_FIELD_KEY, FIRST_AXES_VIEW, SECOND_AXES_VIEW } from './constant';\n\nexport type { BidirectionalBarOptions };\n\nexport class BidirectionalBar extends Plot<BidirectionalBarOptions> {\n  /**\n   *  \n   * \n   */\n  static getDefaultOptions(): Partial<BidirectionalBarOptions> {\n    return deepAssign({}, super.getDefaultOptions(), {\n      syncViewPadding,\n    });\n  }\n\n  /**  */\n  static SERIES_FIELD_KEY = SERIES_FIELD_KEY;\n\n  /**  */\n  public type: string = 'bidirectional-bar';\n\n  /**\n   * @override\n   */\n  public changeData(data = []) {\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null)\n    );\n\n    // options\n    this.updateOption({ data });\n    const { xField, yField, layout } = this.options;\n    // \n    const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    const [firstViewData, secondViewData] = groupData;\n    const firstView = findViewById(this.chart, FIRST_AXES_VIEW);\n    const secondView = findViewById(this.chart, SECOND_AXES_VIEW);\n    // viewdata\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n    // \n    this.chart.render(true);\n\n    this.chart.emit(\n      VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,\n      Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null)\n    );\n  }\n\n  protected getDefaultOptions() {\n    return BidirectionalBar.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<BidirectionalBarOptions> {\n    return adaptor;\n  }\n}\n","import { View } from '@antv/g2';\nimport { get, keys } from '@antv/util';\nimport { Params } from '../../core/adaptor';\nimport {\n  tooltip,\n  interaction as commonInteraction,\n  animation as commonAnimation,\n  theme as commonTheme,\n  limitInPlot as commonLimitInPlot,\n  scale,\n} from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { flow, findViewById, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { BidirectionalBarOptions } from './types';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { isHorizontal, transformData } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { data, xField, yField, color, barStyle, widthRatio, legend, layout } = options;\n\n  // \n  const groupData: any[] = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n  //  view  legend\n  if (legend) {\n    chart.legend(SERIES_FIELD_KEY, legend);\n  } else if (legend === false) {\n    chart.legend(false);\n  }\n  //  view\n  let firstView: View;\n  let secondView: View;\n  const [firstViewData, secondViewData] = groupData;\n\n  // \n  if (isHorizontal(layout)) {\n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 0.5, y: 1 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n\n    firstView.coordinate().transpose().reflect('x');\n\n    secondView = chart.createView({\n      region: {\n        start: { x: 0.5, y: 0 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().transpose();\n\n    // @: ( transform )\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  } else {\n    // \n    firstView = chart.createView({\n      region: {\n        start: { x: 0, y: 0 },\n        end: { x: 1, y: 0.5 },\n      },\n      id: FIRST_AXES_VIEW,\n    });\n    secondView = chart.createView({\n      region: {\n        start: { x: 0, y: 0.5 },\n        end: { x: 1, y: 1 },\n      },\n      id: SECOND_AXES_VIEW,\n    });\n    secondView.coordinate().reflect('y');\n\n    firstView.data(firstViewData);\n    secondView.data(secondViewData);\n  }\n  const left = deepAssign({}, params, {\n    chart: firstView,\n    options: {\n      widthRatio,\n      xField,\n      yField: yField[0],\n      seriesField: SERIES_FIELD_KEY,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n  interval(left);\n\n  const right = deepAssign({}, params, {\n    chart: secondView,\n    options: {\n      xField,\n      yField: yField[1],\n      seriesField: SERIES_FIELD_KEY,\n      widthRatio,\n      interval: {\n        color,\n        style: barStyle,\n      },\n    },\n  });\n\n  interval(right);\n\n  return params;\n}\n\n/**\n * meta \n * -  SERIES_FIELD_KEY  yField \n * @param params\n */\nfunction meta(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { options, chart } = params;\n  const { xAxis, yAxis, xField, yField } = options;\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n\n  const aliasMap = {};\n  keys(options?.meta || {}).map((metaKey) => {\n    if (get(options?.meta, [metaKey, 'alias'])) {\n      aliasMap[metaKey] = options.meta[metaKey].alias;\n    }\n  });\n\n  chart.scale({\n    [SERIES_FIELD_KEY]: {\n      sync: true,\n      formatter: (v) => {\n        return get(aliasMap, v, v);\n      },\n    },\n  });\n\n  scale({\n    [xField]: xAxis,\n    [yField[0]]: yAxis[yField[0]],\n  })(deepAssign({}, params, { chart: firstView }));\n\n  scale({\n    [xField]: xAxis,\n    [yField[1]]: yAxis[yField[1]],\n  })(deepAssign({}, params, { chart: secondView }));\n\n  return params;\n}\n\n/**\n * axis \n * @param params\n */\nfunction axis(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { xAxis, yAxis, xField, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  //  view axis ;  bottom  label\n  // @ts-ignore\n  if (xAxis?.position === 'bottom') {\n    // fixme  label: null  tickLine \n    secondView.axis(xField, { ...xAxis, label: { formatter: () => '' } });\n  } else {\n    secondView.axis(xField, false);\n  }\n\n  //  false  firstView \n  if (xAxis === false) {\n    firstView.axis(xField, false);\n  } else {\n    firstView.axis(xField, {\n      //  firstView \n      position: isHorizontal(layout) ? 'top' : 'bottom',\n      ...xAxis,\n    });\n  }\n\n  if (yAxis === false) {\n    firstView.axis(yField[0], false);\n    secondView.axis(yField[1], false);\n  } else {\n    firstView.axis(yField[0], yAxis[yField[0]]);\n    secondView.axis(yField[1], yAxis[yField[1]]);\n  }\n  /**\n   *  syncViewPadding\n   *  TODO  g2 View  setter \n   */\n\n  //@ts-ignore\n  chart.__axisPosition = {\n    position: firstView.getOptions().axes[xField].position,\n    layout,\n  };\n  return params;\n}\n\n/**\n * interaction \n * @param params\n */\nexport function interaction(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { yField, yAxis } = options;\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, FIRST_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[0]],\n      },\n    })\n  );\n\n  commonLimitInPlot(\n    deepAssign({}, params, {\n      chart: findViewById(chart, SECOND_AXES_VIEW),\n      options: {\n        yAxis: yAxis[yField[1]],\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * theme\n * @param params\n */\nexport function theme(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n  commonTheme(params);\n\n  return params;\n}\n\n/**\n * animation\n * @param params\n */\nexport function animation(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart } = params;\n\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n  commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n\n  return params;\n}\n\n/**\n * label  (1.  offset  2. leftView  *= -1)\n * @param params\n */\nfunction label(params: Params<BidirectionalBarOptions>): Params<BidirectionalBarOptions> {\n  const { chart, options } = params;\n  const { label, yField, layout } = options;\n\n  const firstView = findViewById(chart, FIRST_AXES_VIEW);\n  const secondView = findViewById(chart, SECOND_AXES_VIEW);\n  const leftGeometry = findGeometry(firstView, 'interval');\n  const rightGeometry = findGeometry(secondView, 'interval');\n\n  if (!label) {\n    leftGeometry.label(false);\n    rightGeometry.label(false);\n  } else {\n    const { callback, ...cfg } = label;\n    /** ----  ---- */\n    // \n    if (!cfg.position) {\n      cfg.position = 'middle';\n    }\n    if (cfg.offset === undefined) {\n      cfg.offset = 2;\n    }\n\n    /** ---- leftView label  ---- */\n    const leftLabelCfg = { ...cfg };\n    if (isHorizontal(layout)) {\n      //  textAlign \n      const textAlign = leftLabelCfg.style?.textAlign || (cfg.position === 'middle' ? 'center' : 'left');\n      cfg.style = deepAssign({}, cfg.style, { textAlign });\n      const textAlignMap = { left: 'right', right: 'left', center: 'center' };\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textAlign: textAlignMap[textAlign] });\n    } else {\n      const positionMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      if (typeof cfg.position === 'string') {\n        cfg.position = positionMap[cfg.position];\n      } else if (typeof cfg.position === 'function') {\n        cfg.position = (...args) => positionMap[(cfg.position as Function).apply(this, args)];\n      }\n      //  textBaseline \n      const textBaseline = leftLabelCfg.style?.textBaseline || 'bottom';\n      leftLabelCfg.style = deepAssign({}, leftLabelCfg.style, { textBaseline });\n      const textBaselineMap = { top: 'bottom', bottom: 'top', middle: 'middle' };\n      cfg.style = deepAssign({}, cfg.style, { textBaseline: textBaselineMap[textBaseline] });\n    }\n\n    leftGeometry.label({\n      fields: [yField[0]],\n      callback,\n      cfg: transformLabel(leftLabelCfg),\n    });\n    rightGeometry.label({\n      fields: [yField[1]],\n      callback,\n      cfg: transformLabel(cfg),\n    });\n  }\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<BidirectionalBarOptions>) {\n  // flow  G2 API\n  return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { TreemapOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { transformData, enableInteraction, resetDrillDown } from './utils';\nimport './interactions';\n\nexport type { TreemapOptions };\n\nexport class Treemap extends Plot<TreemapOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<TreemapOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'treemap';\n\n  /**\n   * changeData\n   */\n  public changeData(data) {\n    const { colorField, interactions, hierarchyConfig } = this.options;\n    this.updateOption({ data });\n    const transData = transformData({\n      data,\n      colorField,\n      enableDrillDown: enableInteraction(interactions, 'treemap-drill-down'),\n      hierarchyConfig,\n    });\n    this.chart.changeData(transData);\n\n    resetDrillDown(this.chart);\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Treemap.getDefaultOptions();\n  }\n\n  protected getSchemaAdaptor(): Adaptor<TreemapOptions> {\n    return adaptor;\n  }\n}\n","import { get } from '@antv/util';\nimport { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { Params } from '../../core/adaptor';\nimport { interaction as commonInteraction, animation, theme, legend, annotation, tooltip } from '../../adaptor/common';\nimport { pattern } from '../../adaptor/pattern';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding } from '../../utils/padding';\nimport { transformData, findInteraction, enableDrillInteraction } from './utils';\nimport { TreemapOptions } from './types';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { options } = params;\n  const { colorField } = options;\n\n  return deepAssign(\n    {\n      options: {\n        rawFields: ['value'],\n        tooltip: {\n          fields: ['name', 'value', colorField, 'path'],\n          formatter: (data) => {\n            return {\n              name: data.name,\n              value: data.value,\n            };\n          },\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { color, colorField, rectStyle, hierarchyConfig, rawFields } = options;\n\n  const data = transformData({\n    data: options.data,\n    colorField: options.colorField,\n    enableDrillDown: enableDrillInteraction(options),\n    hierarchyConfig,\n  });\n\n  chart.data(data);\n\n  // geometry\n  basePolygon(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        rawFields: rawFields,\n        polygon: {\n          color,\n          style: rectStyle,\n        },\n      },\n    })\n  );\n\n  // \n  chart.coordinate().reflect('y');\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction axis(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: TreemapOptions): TreemapOptions {\n  const { drilldown, interactions = [] } = options;\n\n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          //   API\n          cfg: { drillDownConfig: drilldown, transformData },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params: Params<TreemapOptions>): Params<TreemapOptions> {\n  const { chart, options } = params;\n  const { interactions, drilldown } = options;\n\n  commonInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  //  view-zoom\n  const viewZoomInteraction = findInteraction(interactions, 'view-zoom');\n\n  if (viewZoomInteraction) {\n    //  interaction \n    if (viewZoomInteraction.enable !== false) {\n      chart.getCanvas().on('mousewheel', (ev) => {\n        ev.preventDefault();\n      });\n    } else {\n      //  viewZoomInteraction \n      chart.getCanvas().off('mousewheel');\n    }\n  }\n\n  // \n  const enableDrillDown = enableDrillInteraction(options);\n  if (enableDrillDown) {\n    //  25px \n    chart.appendPadding = getAdjustAppendPadding(chart.appendPadding, get(drilldown, ['breadCrumb', 'position']));\n  }\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<TreemapOptions>) {\n  return flow(\n    defaultOptions,\n    theme,\n    pattern('rectStyle'),\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","export const DEFAULT_OPTIONS = {\n  //  name \n  colorField: 'name',\n  rectStyle: {\n    lineWidth: 1,\n    stroke: '#fff',\n  },\n  hierarchyConfig: {\n    tile: 'treemapSquarify' as const,\n  },\n  label: {\n    fields: ['name'],\n    layout: {\n      type: 'limit-in-shape',\n    },\n  },\n  tooltip: {\n    showMarkers: false,\n    showTitle: false,\n  },\n  // \n  drilldown: {\n    enabled: false,\n    breadCrumb: {\n      position: 'bottom-left' as const,\n      rootText: '',\n      dividerText: '/',\n      textStyle: {\n        fontSize: 12,\n        fill: 'rgba(0, 0, 0, 0.65)',\n        cursor: 'pointer',\n      },\n      activeTextStyle: {\n        fill: '#87B5FF',\n      },\n    },\n  },\n};\n","/**  drag-move  */\nimport '../../../interactions/drag-move';\n/**  drill-down  */\nimport '../../../interactions/drill-down';\n","import { get } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { Data, Datum } from '../../types';\nimport { findViewById } from '../../utils';\nimport { SankeyOptions } from './types';\nimport { adaptor } from './adaptor';\nimport { transformToViewsData } from './helper';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n// \nimport './interactions';\n\nexport type { SankeyOptions };\n\n/**\n *   Sankey\n */\nexport class Sankey extends Plot<SankeyOptions> {\n  /**  */\n  public type: string = 'sankey';\n\n  static getDefaultOptions(): Partial<SankeyOptions> {\n    return {\n      appendPadding: 8,\n      syncViewPadding: true,\n      nodeStyle: {\n        opacity: 1,\n        fillOpacity: 1,\n        lineWidth: 1,\n      },\n      edgeStyle: {\n        opacity: 0.3,\n        lineWidth: 0,\n      },\n      edgeState: {\n        active: {\n          style: {\n            opacity: 0.8,\n            lineWidth: 0,\n          },\n        },\n      },\n      label: {\n        formatter: ({ name }) => name,\n        callback: (x: number[]) => {\n          const isLast = x[1] === 1; // \n          return {\n            style: {\n              fill: '#545454',\n              textAlign: isLast ? 'end' : 'start',\n            },\n            offsetX: isLast ? -8 : 8,\n          };\n        },\n        layout: [\n          {\n            type: 'hide-overlap',\n          },\n        ],\n      },\n      tooltip: {\n        showTitle: false,\n        showMarkers: false,\n        shared: false,\n        // node  tooltipedge  tooltip\n        showContent: (items) => {\n          return !get(items, [0, 'data', 'isNode']);\n        },\n        formatter: (datum: Datum) => {\n          const { source, target, value } = datum;\n          return {\n            name: source + ' -> ' + target,\n            value,\n          };\n        },\n      },\n      nodeWidthRatio: 0.008,\n      nodePaddingRatio: 0.01,\n      animation: {\n        appear: {\n          animation: 'wave-in',\n        },\n        enter: {\n          animation: 'wave-in',\n        },\n      },\n    };\n  }\n\n  /**\n   * @override\n   * @param data\n   */\n  public changeData(data: Data) {\n    this.updateOption({ data });\n\n    const { nodes, edges } = transformToViewsData(this.options, this.chart.width, this.chart.height);\n\n    const nodesView = findViewById(this.chart, NODES_VIEW_ID);\n    const edgesView = findViewById(this.chart, EDGES_VIEW_ID);\n\n    nodesView.changeData(nodes);\n    edgesView.changeData(edges);\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<SankeyOptions> {\n    return adaptor;\n  }\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Sankey.getDefaultOptions();\n  }\n}\n","import { uniq } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { deepAssign, findViewById, flow } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { transformToViewsData } from './helper';\nimport { SankeyOptions } from './types';\nimport { X_FIELD, Y_FIELD, COLOR_FIELD, EDGES_VIEW_ID, NODES_VIEW_ID } from './constant';\n\n/**\n *  \n * @param params\n */\nfunction defaultOptions(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { options } = params;\n  const { rawFields = [] } = options;\n\n  return deepAssign(\n    {},\n    {\n      options: {\n        tooltip: {\n          fields: uniq(['name', 'source', 'target', 'value', 'isNode', ...rawFields]),\n        },\n        label: {\n          fields: uniq(['x', 'name', ...rawFields]),\n        },\n      },\n    },\n    params\n  );\n}\n\n/**\n * geometry \n * @param params\n */\nfunction geometry(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { color, nodeStyle, edgeStyle, label, tooltip, nodeState, edgeState } = options;\n\n  // 1.  view \n  chart.legend(false);\n  chart.tooltip(tooltip);\n  chart.axis(false);\n  // y \n  chart.coordinate().reflect('y');\n\n  // 2. node edge views\n  // @ts-ignore\n  const { nodes, edges } = transformToViewsData(options, chart.width, chart.height);\n\n  // edge view\n  const edgeView = chart.createView({ id: EDGES_VIEW_ID });\n  edgeView.data(edges);\n\n  edge({\n    chart: edgeView,\n    // @ts-ignore\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      edge: {\n        color,\n        style: edgeStyle,\n        shape: 'arc',\n      },\n      tooltip,\n      state: edgeState,\n    },\n  });\n\n  const nodeView = chart.createView({ id: NODES_VIEW_ID });\n  nodeView.data(nodes);\n\n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: COLOR_FIELD,\n      polygon: {\n        color,\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n      state: nodeState,\n    },\n  });\n\n  chart.interaction('element-active');\n\n  // scale\n  chart.scale({\n    x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n    name: { sync: 'color', type: 'cat' },\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function animation(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  const geometries = [...chart.views[0].geometries, ...chart.views[1].geometries];\n\n  //  Geometry \n  geometries.forEach((g) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nexport function nodeDraggable(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { nodeDraggable } = options;\n\n  const DRAG_INTERACTION = 'sankey-node-draggable';\n\n  if (nodeDraggable) {\n    chart.interaction(DRAG_INTERACTION);\n  } else {\n    chart.removeInteraction(DRAG_INTERACTION);\n  }\n\n  return params;\n}\n\n/**\n * Interaction \n * @param params\n */\nfunction interaction(params: Params<SankeyOptions>): Params<SankeyOptions> {\n  const { chart, options } = params;\n  const { interactions = [] } = options;\n\n  const nodeInteractions = [].concat(interactions, options.nodeInteractions || []);\n  const edgeInteractions = [].concat(interactions, options.edgeInteractions || []);\n\n  const nodeView = findViewById(chart, NODES_VIEW_ID);\n  const edgeView = findViewById(chart, EDGES_VIEW_ID);\n\n  nodeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      nodeView.removeInteraction(i.type);\n    } else {\n      nodeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  edgeInteractions.forEach((i) => {\n    if (i?.enable === false) {\n      edgeView.removeInteraction(i.type);\n    } else {\n      edgeView.interaction(i.type, i.cfg || {});\n    }\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<SankeyOptions>) {\n  // flow  G2 API\n  return flow(\n    defaultOptions,\n    geometry,\n    interaction,\n    nodeDraggable,\n    animation,\n    theme\n    // ...  adaptor flow\n  )(params);\n}\n","import { assign, isString, isFunction } from '@antv/util';\nimport { Datum } from '../../types';\nimport { sankey, left, right, center, justify } from './sankey';\n\nconst ALIGN_METHOD = {\n  left,\n  right,\n  center,\n  justify,\n};\n\ntype InputNode = {\n  readonly name: string;\n};\n\ntype InputLink = {\n  readonly source: number;\n  readonly target: number;\n  readonly value: number;\n};\n\ntype OutputNode = {\n  readonly name: string;\n  readonly x0: number;\n  readonly x1: number;\n  readonly y0: number;\n  readonly y1: number;\n  readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n  readonly width: number;\n  readonly y0: number;\n  readonly y1: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\n/**\n * \n */\nexport type SankeyLayoutInputData = {\n  readonly nodes: InputNode[];\n  readonly links: InputLink[];\n};\n\ntype SankeyLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * \n */\nexport type NodeAlign = keyof typeof ALIGN_METHOD | Function;\n\n/**\n *  depth \n */\nexport type NodeDepth = (datum: Datum, maxDepth: number) => number;\n\n/**\n * \n */\nexport type NodeSort = (a: Datum, b: Datum) => number;\n\n/**\n * \n */\nexport type SankeyLayoutOptions = {\n  readonly nodeId?: (node: Datum) => any;\n  // readonly value?: (node: Datum) => any;\n  // readonly source?: (edge: Datum) => any;\n  // readonly target?: (edge: Datum) => any;\n  // sankey.nodeSort(undefined) is the default and resorts by ascending breadth during each iteration.\n  // sankey.nodeSort(null) specifies the input order of nodes and never sorts.\n  // sankey.nodeSort(function) specifies the given order as a comparator function and sorts once on initialization.\n  readonly nodeSort?: (a: any, b: any) => number;\n  readonly nodeAlign?: NodeAlign;\n  readonly nodeWidth?: number;\n  readonly nodePadding?: number;\n  readonly nodeDepth?: NodeDepth;\n};\n\n/**\n * \n */\nconst DEFAULT_OPTIONS: Partial<SankeyLayoutOptions> = {\n  nodeId: (node: Datum) => node.index,\n  nodeAlign: 'justify',\n  nodeWidth: 0.008,\n  nodePadding: 0.03,\n  nodeSort: undefined,\n};\n\n/**\n *  align function\n * @param nodeAlign\n * @param nodeDepth\n */\nexport function getNodeAlignFunction(nodeAlign: NodeAlign) {\n  const func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n\n  return func || justify;\n}\n\nexport function getDefaultOptions(sankeyLayoutOptions: SankeyLayoutOptions) {\n  return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n\n/**\n * 0 - 1 \n *  data \n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(\n  sankeyLayoutOptions: SankeyLayoutOptions,\n  data: SankeyLayoutInputData\n): SankeyLayoutOutputData {\n  const options = getDefaultOptions(sankeyLayoutOptions);\n\n  const { nodeId, nodeSort, nodeAlign, nodeWidth, nodePadding, nodeDepth } = options;\n\n  const sankeyProcessor = sankey()\n    // .links((d: any) => d.links)\n    // .nodes((d: any) => d.nodes)\n    .nodeSort(nodeSort)\n    .nodeWidth(nodeWidth)\n    .nodePadding(nodePadding)\n    .nodeDepth(nodeDepth)\n    .nodeAlign(getNodeAlignFunction(nodeAlign))\n    .extent([\n      [0, 0],\n      [1, 1],\n    ])\n    .nodeId(nodeId);\n\n  // \n  const layoutData: SankeyLayoutOutputData = sankeyProcessor(data);\n\n  // post process (x, y), etc.\n  layoutData.nodes.forEach((node) => {\n    const { x0, x1, y0, y1 } = node;\n    /* points\n     * 3---2\n     * |   |\n     * 0---1\n     */\n    node.x = [x0, x1, x1, x0];\n    node.y = [y0, y0, y1, y1];\n  });\n\n  layoutData.links.forEach((edge) => {\n    const { source, target } = edge;\n    const sx = source.x1;\n    const tx = target.x0;\n    edge.x = [sx, sx, tx, tx];\n    const offset = edge.width / 2;\n    edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n  });\n\n  return layoutData;\n}\n","/**\n * Fork from https://github.com/d3/d3-sankey/tree/master/src\n * \n * 1.  d3-array \n * 2.  set map \n * 3.  [empty] \n * 4.  align  depth \n */\nimport { Sankey as sankey } from './sankey';\nexport { center, left, right, justify } from './align';\nexport { sankey };\n","import { justify } from './align';\nimport { constant, sumBy, maxValueBy, minValueBy } from './helper';\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error('missing: ' + id);\n  return node;\n}\n\nfunction computeLinkBreadths({ nodes }) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport function Sankey() {\n  let x0 = 0,\n    y0 = 0,\n    x1 = 1,\n    y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8,\n    py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let depth;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey(arg) {\n    const graph = {\n      nodes: nodes(arg),\n      links: links(arg),\n    };\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function (graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function (_) {\n    return arguments.length ? ((id = typeof _ === 'function' ? _ : constant(_)), sankey) : id;\n  };\n\n  sankey.nodeAlign = function (_) {\n    return arguments.length ? ((align = typeof _ === 'function' ? _ : constant(_)), sankey) : align;\n  };\n\n  sankey.nodeDepth = function (_) {\n    return arguments.length ? ((depth = typeof _ === 'function' ? _ : _), sankey) : depth;\n  };\n\n  sankey.nodeSort = function (_) {\n    return arguments.length ? ((sort = _), sankey) : sort;\n  };\n\n  sankey.nodeWidth = function (_) {\n    return arguments.length ? ((dx = +_), sankey) : dx;\n  };\n\n  sankey.nodePadding = function (_) {\n    return arguments.length ? ((dy = py = +_), sankey) : dy;\n  };\n\n  sankey.nodes = function (_) {\n    return arguments.length ? ((nodes = typeof _ === 'function' ? _ : constant(_)), sankey) : nodes;\n  };\n\n  sankey.links = function (_) {\n    return arguments.length ? ((links = typeof _ === 'function' ? _ : constant(_)), sankey) : links;\n  };\n\n  sankey.linkSort = function (_) {\n    return arguments.length ? ((linkSort = _), sankey) : linkSort;\n  };\n\n  sankey.size = function (_) {\n    return arguments.length ? ((x0 = y0 = 0), (x1 = +_[0]), (y1 = +_[1]), sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function (_) {\n    return arguments.length\n      ? ((x0 = +_[0][0]), (x1 = +_[1][0]), (y0 = +_[0][1]), (y1 = +_[1][1]), sankey)\n      : [\n          [x0, y0],\n          [x1, y1],\n        ];\n  };\n\n  sankey.iterations = function (_) {\n    return arguments.length ? ((iterations = +_), sankey) : iterations;\n  };\n\n  function computeNodeLinks({ nodes, links }) {\n    nodes.forEach((node, idx) => {\n      node.index = idx;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n\n    const nodeById = new Map(nodes.map((d) => [id(d), d]));\n\n    links.forEach((link, idx) => {\n      link.index = idx;\n      let { source, target } = link;\n      if (typeof source !== 'object') source = link.source = find(nodeById, source);\n      if (typeof target !== 'object') target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n\n    if (linkSort != null) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({ nodes }) {\n    for (const node of nodes) {\n      node.value =\n        node.fixedValue === undefined\n          ? Math.max(sumBy(node.sourceLinks, value), sumBy(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.depth = x;\n        for (const { target } of node.sourceLinks) {\n          next.add(target);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n\n    //  depth depth\n    if (depth) {\n      const maxDepth = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n\n      let node;\n      for (let i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.depth = depth.call(null, node, maxDepth);\n      }\n    }\n  }\n\n  function computeNodeHeights({ nodes }) {\n    const n = nodes.length;\n    let current = new Set<any>(nodes);\n    let next = new Set();\n    let x = 0;\n    while (current.size) {\n      current.forEach((node) => {\n        node.height = x;\n        for (const { source } of node.targetLinks) {\n          next.add(source);\n        }\n      });\n      if (++x > n) throw new Error('circular link');\n      current = next;\n      next = new Set();\n    }\n  }\n\n  function computeNodeLayers({ nodes }) {\n    const x = Math.max(maxValueBy(nodes, (d: any) => d.depth) + 1, 0);\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x).fill(0).map(() => []);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort)\n      for (const column of columns) {\n        column.sort(sort);\n      }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = minValueBy(columns, (c: any[]) => (y1 - y0 - (c.length - 1) * py) / sumBy(c, value)) as any as number;\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / ((maxValueBy(columns, (c: any[]) => c.length) as any as number) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const { source, value } of target.targetLinks) {\n          const v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const { target, value } of source.sourceLinks) {\n          const v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        const dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      if (column.length) resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) (node.y0 += dy), (node.y1 += dy);\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) (node.y0 -= dy), (node.y1 -= dy);\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({ sourceLinks, targetLinks }) {\n    if (linkSort === undefined) {\n      for (const {\n        source: { sourceLinks },\n      } of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {\n        target: { targetLinks },\n      } of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const { sourceLinks, targetLinks } of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - ((source.sourceLinks.length - 1) * py) / 2;\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - ((target.targetLinks.length - 1) * py) / 2;\n    for (const { source: node, width } of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const { target: node, width } of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","export function constant(x: any) {\n  return function () {\n    return x;\n  };\n}\n\nexport function sumBy(arr, func) {\n  let r = 0;\n  for (let i = 0; i < arr.length; i++) {\n    r += func(arr[i]);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function maxValueBy(arr, func): number {\n  let r = -Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.max(func(arr[i]), r);\n  }\n\n  return r;\n}\n\n/**\n * \n * @param arr\n * @param func\n */\nexport function minValueBy(arr, func): number {\n  let r = Infinity;\n  for (let i = 0; i < arr.length; i++) {\n    r = Math.min(func(arr[i]), r);\n  }\n\n  return r;\n}\n","import { isArray } from '@antv/util';\nimport { Data } from '../../types';\n\n/**\n *  edges  node \n */\nexport function getNodes(edges: Data, sourceField: string, targetField: string): string[] {\n  const nodes = [];\n  edges.forEach((e) => {\n    const source = e[sourceField] as string;\n    const target = e[targetField] as string;\n    if (!nodes.includes(source)) {\n      nodes.push(source);\n    }\n    if (!nodes.includes(target)) {\n      nodes.push(target);\n    }\n  });\n  return nodes;\n}\n\n/**\n *  edges  dfs \n */\nexport function getMatrix(\n  edges: Data,\n  nodes: string[],\n  sourceField: string,\n  targetField: string\n): Record<string, Record<string, number>> {\n  const graphMatrix = {};\n\n  nodes.forEach((pre) => {\n    graphMatrix[pre] = {};\n    nodes.forEach((next) => {\n      graphMatrix[pre][next] = 0;\n    });\n  });\n\n  edges.forEach((edge) => {\n    graphMatrix[edge[sourceField]][edge[targetField]] = 1;\n  });\n\n  return graphMatrix;\n}\n\n/**\n *  DFS \n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(edges: Data, sourceField: string, targetField: string): Data {\n  if (!isArray(edges)) return [];\n\n  // \n  const removedData = [];\n\n  // \n  const nodes = getNodes(edges, sourceField, targetField);\n  // \n  const graphMatrix = getMatrix(edges, nodes, sourceField, targetField);\n\n  // visited, 0,1, -1\n  const visited = {};\n  // visited\n  nodes.forEach((node) => {\n    visited[node] = 0;\n  });\n\n  // \n  function DFS(dfsNode) {\n    // \n    visited[dfsNode] = 1;\n    nodes.forEach((node) => {\n      if (graphMatrix[dfsNode][node] != 0) {\n        //  removeData\n        if (visited[node] == 1) {\n          // \n          removedData.push(`${dfsNode}_${node}`);\n        } else if (visited[node] == -1) {\n          // \n          return;\n        } else {\n          DFS(node); // \n        }\n      }\n    });\n    //-1\n    visited[dfsNode] = -1;\n  }\n\n  //  dfs \n  nodes.forEach((node) => {\n    //\n    if (visited[node] == -1) {\n      return;\n    }\n    DFS(node);\n  });\n\n  if (removedData.length !== 0) {\n    console.warn(`sankey data contains circle, ${removedData.length} records removed.`, removedData);\n  }\n\n  //  remove \n  return edges.filter((edge) => removedData.findIndex((i) => i === `${edge[sourceField]}_${edge[targetField]}`) < 0);\n}\n","import './node-draggable';\n","import { registerInteraction, registerAction } from '@antv/g2';\nimport { SankeyNodeDragAction } from './actions/node-drag';\n\nregisterAction('sankey-node-drag', SankeyNodeDragAction);\n\nregisterInteraction('sankey-node-draggable', {\n  showEnable: [\n    { trigger: 'polygon:mouseenter', action: 'cursor:pointer' },\n    { trigger: 'polygon:mouseleave', action: 'cursor:default' },\n  ],\n  start: [{ trigger: 'polygon:mousedown', action: 'sankey-node-drag:start' }],\n  processing: [\n    { trigger: 'plot:mousemove', action: 'sankey-node-drag:translate' },\n    { isEnable: (context) => context.isDragging, trigger: 'plot:mousemove', action: 'cursor:move' },\n  ],\n  end: [{ trigger: 'plot:mouseup', action: 'sankey-node-drag:end' }],\n});\n","import { Action, Element } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { Datum, Point } from '../../../../types';\nimport { findViewById } from '../../../../utils';\nimport { EDGES_VIEW_ID, NODES_VIEW_ID } from '../../constant';\n\nexport class SankeyNodeDragAction extends Action {\n  /**\n   * \n   */\n  private isDragging = false;\n\n  /**\n   * \n   */\n  private prevPoint: Point;\n  /**\n   * \n   */\n  private prevNodeAnimateCfg: any;\n  /**\n   * \n   */\n  private prevEdgeAnimateCfg: any;\n  /**\n   *  element \n   */\n  private currentElementIdx: number;\n\n  /**\n   *  element\n   */\n  private isNodeElement() {\n    const shape = get(this.context, 'event.target');\n    if (shape) {\n      const element = shape.get('element');\n      return element && element.getModel().data.isNode;\n    }\n    return false;\n  }\n\n  private getNodeView() {\n    return findViewById(this.context.view, NODES_VIEW_ID);\n  }\n\n  private getEdgeView() {\n    return findViewById(this.context.view, EDGES_VIEW_ID);\n  }\n\n  /**\n   *  index\n   * @param element\n   */\n  private getCurrentDatumIdx(element: Element) {\n    return this.getNodeView().geometries[0].elements.indexOf(element);\n  }\n\n  /**\n   * \n   */\n  public start() {\n    // \n    if (this.isNodeElement()) {\n      this.prevPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const element = this.context.event.target.get('element');\n      const idx = this.getCurrentDatumIdx(element);\n\n      if (idx === -1) {\n        return;\n      }\n\n      this.currentElementIdx = idx;\n      this.context.isDragging = true;\n      this.isDragging = true;\n\n      // \n      this.prevNodeAnimateCfg = this.getNodeView().getOptions().animate;\n      this.prevEdgeAnimateCfg = this.getEdgeView().getOptions().animate;\n      this.getNodeView().animate(false);\n      this.getEdgeView().animate(false);\n    }\n  }\n\n  /**\n   * \n   */\n  public translate() {\n    if (this.isDragging) {\n      const chart = this.context.view;\n\n      const currentPoint = {\n        x: get(this.context, 'event.x'),\n        y: get(this.context, 'event.y'),\n      };\n\n      const x = currentPoint.x - this.prevPoint.x;\n      const y = currentPoint.y - this.prevPoint.y;\n\n      const nodeView = this.getNodeView();\n      const element = nodeView.geometries[0].elements[this.currentElementIdx];\n\n      // \n      if (element && element.getModel()) {\n        const prevDatum: Datum = element.getModel().data;\n        const data = nodeView.getOptions().data;\n        const coordinate = nodeView.getCoordinate();\n\n        const datumGap = {\n          x: x / coordinate.getWidth(),\n          y: y / coordinate.getHeight(),\n        };\n\n        const nextDatum = {\n          ...prevDatum,\n          x: prevDatum.x.map((x: number) => (x += datumGap.x)),\n          y: prevDatum.y.map((y: number) => (y += datumGap.y)),\n        };\n        //  [0, 1] \n\n        // 1.  node \n        const newData = [...data];\n        newData[this.currentElementIdx] = nextDatum;\n        nodeView.data(newData);\n\n        // 2.  edge \n        const name = prevDatum.name;\n        const edgeView = this.getEdgeView();\n        const edgeData = edgeView.getOptions().data;\n\n        edgeData.forEach((datum) => {\n          // 2.1  node  source  [x0, x1, x2, x3]  x0, x1\n          if (datum.source === name) {\n            datum.x[0] += datumGap.x;\n            datum.x[1] += datumGap.x;\n            datum.y[0] += datumGap.y;\n            datum.y[1] += datumGap.y;\n          }\n\n          // 2.2  node  target  [x0, x1, x2, x3]  x2, x3\n          if (datum.target === name) {\n            datum.x[2] += datumGap.x;\n            datum.x[3] += datumGap.x;\n            datum.y[2] += datumGap.y;\n            datum.y[3] += datumGap.y;\n          }\n        });\n        edgeView.data(edgeData);\n\n        // 3. \n        this.prevPoint = currentPoint;\n\n        // node edge  render\n        chart.render(true);\n      }\n    }\n  }\n\n  /**\n   * \n   */\n  public end() {\n    this.isDragging = false;\n    this.context.isDragging = false;\n    this.prevPoint = null;\n    this.currentElementIdx = null;\n\n    // \n    this.getNodeView().animate(this.prevNodeAnimateCfg);\n    this.getEdgeView().animate(this.prevEdgeAnimateCfg);\n  }\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { ChordOptions } from './types';\n\nexport type { ChordOptions };\n\n/**\n *   Chord\n */\nexport class Chord extends Plot<ChordOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<ChordOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'chord';\n\n  protected getDefaultOptions() {\n    return Chord.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<ChordOptions> {\n    return adaptor;\n  }\n}\n","import { Geometry } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { interaction, theme, state } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { flow, pick } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { getAllGeometriesRecursively, transformDataToNodeLinkData } from '../../utils';\nimport { ChordOptions } from './types';\nimport { X_FIELD, Y_FIELD, NODE_COLOR_FIELD, EDGE_COLOR_FIELD } from './constant';\n\nfunction transformData(params: Params<ChordOptions>): Params<ChordOptions> {\n  // extnodeGeometry edgeGeometry\n\n  const { options } = params;\n  const { data, sourceField, targetField, weightField, nodePaddingRatio, nodeWidthRatio, rawFields = [] } = options;\n\n  // node link\n  const chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n\n  const { nodes, links } = chordLayout({ weight: true, nodePaddingRatio, nodeWidthRatio }, chordLayoutInputData);\n\n  // 1. node\n  const nodesData = nodes.map((node) => {\n    return {\n      ...pick(node, ['id', 'x', 'y', 'name', ...rawFields]),\n      isNode: true,\n    };\n  });\n\n  // 2.  edge  \n  const edgesData = links.map((link) => {\n    return {\n      source: link.source.name,\n      target: link.target.name,\n      name: link.source.name || link.target.name,\n      ...pick(link, ['x', 'y', 'value', ...rawFields]),\n      isNode: false,\n    };\n  });\n\n  return {\n    ...params,\n    ext: {\n      ...params.ext,\n      // chordDataextgeometry\n      chordData: { nodesData, edgesData },\n    },\n  };\n}\n\n/**\n * scale\n * @param params \n */\nfunction scale(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.scale({\n    x: { sync: true, nice: true },\n    y: { sync: true, nice: true, max: 1 },\n    [NODE_COLOR_FIELD]: { sync: 'color' },\n    [EDGE_COLOR_FIELD]: { sync: 'color' },\n  });\n  return params;\n}\n\n/**\n * axis\n * @param params \n */\nfunction axis(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\n/**\n * legend\n * @param params \n */\nfunction legend(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.legend(false);\n  return params;\n}\n\n/**\n * tooltip\n * @param params \n */\nfunction tooltip(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  chart.tooltip(tooltip);\n  return params;\n}\n\n/**\n * coordinate\n * @param params \n */\nfunction coordinate(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart } = params;\n  chart.coordinate('polar').reflect('y');\n  return params;\n}\n\n/**\n * nodeGeometry\n * @param params \n */\nfunction nodeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  // node view\n  const { chart, options } = params;\n  const { nodesData } = params.ext.chordData;\n  const { nodeStyle, label, tooltip } = options;\n\n  const nodeView = chart.createView();\n  nodeView.data(nodesData);\n\n  // \n  polygon({\n    chart: nodeView,\n    options: {\n      xField: X_FIELD,\n      yField: Y_FIELD,\n      seriesField: NODE_COLOR_FIELD,\n      polygon: {\n        style: nodeStyle,\n      },\n      label,\n      tooltip,\n    },\n  });\n  return params;\n}\n\n/**\n * edgeGeometry\n * @param params \n */\nfunction edgeGeometry(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { edgesData } = params.ext.chordData;\n  const { edgeStyle, tooltip } = options;\n\n  const edgeView = chart.createView();\n  edgeView.data(edgesData);\n\n  // edge\n  const edgeOptions = {\n    xField: X_FIELD,\n    yField: Y_FIELD,\n    seriesField: EDGE_COLOR_FIELD,\n    edge: {\n      style: edgeStyle,\n      shape: 'arc',\n    },\n    tooltip,\n  };\n  edge({\n    chart: edgeView,\n    options: edgeOptions,\n  });\n  return params;\n}\n\nfunction animation(params: Params<ChordOptions>): Params<ChordOptions> {\n  const { chart, options } = params;\n  const { animation } = options;\n\n  //  view \n  if (typeof animation === 'boolean') {\n    chart.animate(animation);\n  } else {\n    chart.animate(true);\n  }\n\n  //  Geometry \n  each(getAllGeometriesRecursively(chart), (g: Geometry) => {\n    g.animate(animation);\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<ChordOptions>) {\n  // flow  G2 API\n  return flow(\n    theme,\n    transformData,\n    coordinate,\n    scale,\n    axis,\n    legend,\n    tooltip,\n    edgeGeometry,\n    nodeGeometry,\n    interaction,\n    state,\n    animation\n  )(params);\n}\n","/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nimport { NodeLinkData } from '../../types/relation-data';\n\nconst DEFAULT_OPTIONS: ChordLayoutOptions = {\n  y: 0,\n  nodeWidthRatio: 0.05, // width of the node, (0, 1)\n  weight: false,\n  nodePaddingRatio: 0.1, // margin ratio, [0, 1)\n  id: (node) => node.id,\n  source: (edge) => edge.source,\n  target: (edge) => edge.target,\n  sourceWeight: (edge) => edge.value || 1,\n  targetWeight: (edge) => edge.value || 1,\n  sortBy: null, // optional, id | weight | frequency | {function}\n};\n\nexport type ChordLayoutOptions = {\n  weight?: boolean;\n  y?: number;\n  nodeWidthRatio?: number; // (0, 1)\n  nodePaddingRatio?: number; // [0, 1)\n  id?(node: any): any;\n  source?(edge: any): any;\n  target?(edge: any): any;\n  sourceWeight?(edge: any): number;\n  targetWeight?(edge: any): number;\n  sortBy?: 'id' | 'weight' | 'frequency' | null | ((a: any, b: any) => number);\n};\n\ntype OutputNode = {\n  readonly id: number;\n  readonly name: string;\n  // readonly depth: number;\n  readonly value: number;\n\n  //  polygon\n  x: number[];\n  y: number[];\n};\n\ntype OutputLink = {\n  readonly source: OutputNode;\n  readonly target: OutputNode;\n  readonly value: number;\n\n  //  edge\n  x?: number[];\n  y?: number[];\n};\n\ntype ChordLayoutOutputData = {\n  readonly nodes: OutputNode[];\n  readonly links: OutputLink[];\n};\n\n/**\n * valueedges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n  forIn(nodeById, (node, id) => {\n    // in edges, out edges\n    node.inEdges = edges.filter((edge) => `${options.target(edge)}` === `${id}`);\n    node.outEdges = edges.filter((edge) => `${options.source(edge)}` === `${id}`);\n    // frequency\n    node.edges = node.outEdges.concat(node.inEdges);\n    node.frequency = node.edges.length;\n    // weight\n    node.value = 0;\n    node.inEdges.forEach((edge) => {\n      node.value += options.targetWeight(edge);\n    });\n    node.outEdges.forEach((edge) => {\n      node.value += options.sourceWeight(edge);\n    });\n  });\n}\n\n/**\n * \n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n  const sortMethods = {\n    weight: (a, b) => b.value - a.value,\n    frequency: (a, b) => b.frequency - a.frequency,\n    id: (a, b) => `${options.id(a)}`.localeCompare(`${options.id(b)}`),\n  };\n  let method = sortMethods[options.sortBy];\n  if (!method && isFunction(options.sortBy)) {\n    method = options.sortBy;\n  }\n  if (method) {\n    nodes.sort(method);\n  }\n}\n\nfunction layoutNodes(nodes, options): OutputNode[] {\n  const len = nodes.length;\n  if (!len) {\n    throw new TypeError(\"Invalid nodes: it's empty!\");\n  }\n  if (options.weight) {\n    const nodePaddingRatio = options.nodePaddingRatio;\n    if (nodePaddingRatio < 0 || nodePaddingRatio >= 1) {\n      throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n    }\n    const margin = nodePaddingRatio / (2 * len);\n    const nodeWidthRatio = options.nodeWidthRatio;\n    if (nodeWidthRatio <= 0 || nodeWidthRatio >= 1) {\n      throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n    }\n    let totalValue = 0;\n    nodes.forEach((node) => {\n      totalValue += node.value;\n    });\n    nodes.forEach((node) => {\n      node.weight = node.value / totalValue;\n      node.width = node.weight * (1 - nodePaddingRatio);\n      node.height = nodeWidthRatio;\n    });\n    nodes.forEach((node, index) => {\n      // x\n      let deltaX = 0;\n      for (let i = index - 1; i >= 0; i--) {\n        deltaX += nodes[i].width + 2 * margin;\n      }\n      const minX = (node.minX = margin + deltaX);\n      const maxX = (node.maxX = node.minX + node.width);\n      const minY = (node.minY = options.y - nodeWidthRatio / 2);\n      const maxY = (node.maxY = minY + nodeWidthRatio);\n      node.x = [minX, maxX, maxX, minX];\n      node.y = [minY, minY, maxY, maxY];\n      /* points\n       * 3---2\n       * |   |\n       * 0---1\n       */\n      // node.x = minX + 0.5 * node.width;\n      // node.y = options.y;\n    });\n  } else {\n    const deltaX = 1 / len;\n    nodes.forEach((node, index) => {\n      node.x = (index + 0.5) * deltaX;\n      node.y = options.y;\n    });\n  }\n  return nodes;\n}\n\nfunction locatingEdges(nodeById, edges, options): OutputLink[] {\n  if (options.weight) {\n    const valueById = {};\n    forIn(nodeById, (node, id) => {\n      valueById[id] = node.value;\n    });\n    edges.forEach((edge) => {\n      const sId = options.source(edge);\n      const tId = options.target(edge);\n      const sNode = nodeById[sId];\n      const tNode = nodeById[tId];\n      if (sNode && tNode) {\n        const sValue = valueById[sId];\n        const currentSValue = options.sourceWeight(edge);\n        const sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n        const sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n        valueById[sId] -= currentSValue;\n\n        const tValue = valueById[tId];\n        const currentTValue = options.targetWeight(edge);\n        const tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n        const tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n        valueById[tId] -= currentTValue;\n\n        const y = options.y;\n        edge.x = [sStart, sEnd, tStart, tEnd];\n        edge.y = [y, y, y, y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  } else {\n    edges.forEach((edge) => {\n      const sNode = nodeById[options.source(edge)];\n      const tNode = nodeById[options.target(edge)];\n      if (sNode && tNode) {\n        edge.x = [sNode.x, tNode.x];\n        edge.y = [sNode.y, tNode.y];\n        // edgesourcetargetid sourceNodetargetNode\n        edge.source = sNode;\n        edge.target = tNode;\n      }\n    });\n  }\n  return edges;\n}\n\nexport function getDefaultOptions(options: ChordLayoutOptions): ChordLayoutOptions {\n  return assign({}, DEFAULT_OPTIONS, options);\n}\n\nexport function chordLayout(\n  chordLayoutOptions: ChordLayoutOptions,\n  chordLayoutInputData: NodeLinkData\n): ChordLayoutOutputData {\n  const options = getDefaultOptions(chordLayoutOptions);\n  const nodeById = {};\n  const nodes = chordLayoutInputData.nodes;\n  const links = chordLayoutInputData.links;\n  nodes.forEach((node) => {\n    const id = options.id(node);\n    nodeById[id] = node;\n  });\n  processGraph(nodeById, links, options);\n  sortNodes(nodes, options);\n  const outputNodes = layoutNodes(nodes, options);\n  const outputLinks = locatingEdges(nodeById, links, options);\n  return {\n    nodes: outputNodes,\n    links: outputLinks,\n  };\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { CirclePackingOptions } from './types';\nimport './interactions';\n\nexport type { CirclePackingOptions };\n\n/**\n *  CirclePacking\n * @usage hierarchy, proportions\n */\nexport class CirclePacking extends Plot<CirclePackingOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<CirclePackingOptions> {\n    return DEFAULT_OPTIONS;\n  }\n  /**  */\n  public type: string = 'circle-packing';\n\n  protected getDefaultOptions() {\n    return CirclePacking.getDefaultOptions();\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<CirclePackingOptions> {\n    return adaptor;\n  }\n\n  /**\n   * \n   */\n  protected triggerResize() {\n    if (!this.chart.destroyed) {\n      // \n      this.chart.forceFit(); // g2  changeSizechangeSize  render(true)\n      this.chart.clear();\n      this.execAdaptor(); // padding\n      // \n      this.chart.render(true);\n    }\n  }\n}\n","import { get } from '@antv/util';\nimport { Types } from '@antv/g2';\nimport { point } from '../../adaptor/geometries/point';\nimport { Params } from '../../core/adaptor';\nimport {\n  interaction as baseInteraction,\n  animation,\n  theme,\n  legend,\n  annotation,\n  scale,\n  pattern,\n} from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { getAdjustAppendPadding, resolveAllPadding } from '../../utils/padding';\nimport { transformData, resolvePaddingForCircle } from './utils';\nimport { CirclePackingOptions } from './types';\nimport { RAW_FIELDS } from './constant';\n\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  const diameter = Math.min(chart.viewBBox.width, chart.viewBBox.height);\n\n  return deepAssign(\n    {\n      options: {\n        size: ({ r }) => r * diameter, // autofitfalse\n      },\n    },\n    params\n  );\n}\n\n/**\n * padding \n * @param params\n */\nfunction padding(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { options, chart } = params;\n  //  padding coordinate \n  const containerSize = chart.viewBBox;\n  const { padding, appendPadding, drilldown } = options;\n\n  let tempAppendPadding = appendPadding;\n  if (drilldown?.enabled) {\n    const appendPaddingByDrilldown = getAdjustAppendPadding(\n      chart.appendPadding,\n      get(drilldown, ['breadCrumb', 'position'])\n    );\n    tempAppendPadding = resolveAllPadding([appendPaddingByDrilldown, appendPadding]);\n  }\n\n  const { finalPadding } = resolvePaddingForCircle(padding, tempAppendPadding, containerSize);\n  chart.padding = finalPadding;\n  chart.appendPadding = 0;\n\n  return params;\n}\n\n/**\n * \n * @param params\n */\nfunction geometry(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { padding, appendPadding } = chart;\n  const { color, colorField, pointStyle, hierarchyConfig, sizeField, rawFields = [], drilldown } = options;\n\n  const data = transformData({\n    data: options.data,\n    hierarchyConfig,\n    enableDrillDown: drilldown?.enabled,\n    rawFields,\n  });\n  chart.data(data);\n\n  const containerSize = chart.viewBBox;\n  const { finalSize } = resolvePaddingForCircle(padding, appendPadding, containerSize);\n  // sizeField value  size \n  let circleSize = ({ r }) => r * finalSize; // \n\n  if (sizeField) {\n    circleSize = (d) => d[sizeField] * finalSize; //  r \n  }\n\n  // geometry\n  point(\n    deepAssign({}, params, {\n      options: {\n        xField: 'x',\n        yField: 'y',\n        seriesField: colorField,\n        sizeField,\n        rawFields: [...RAW_FIELDS, ...rawFields],\n        point: {\n          color,\n          style: pointStyle,\n          shape: 'circle',\n          size: circleSize,\n        },\n      },\n    })\n  );\n\n  return params;\n}\n\n/**\n * meta \n * @param params\n */\nexport function meta(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  return flow(\n    scale(\n      {},\n      {\n        //  nice\n        x: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n        y: { min: 0, max: 1, minLimit: 0, maxLimit: 1, nice: true },\n      }\n    )\n  )(params);\n}\n\n/**\n * tooltip \n * @param params\n */\nfunction tooltip(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n  const { tooltip } = options;\n\n  if (tooltip === false) {\n    chart.tooltip(false);\n  } else {\n    let tooltipOptions = tooltip;\n    //  fields customItems ;  formatter  fields\n    if (!get(tooltip, 'fields')) {\n      tooltipOptions = deepAssign(\n        {},\n        {\n          customItems: (items: Types.TooltipItem[]) =>\n            items.map((item) => {\n              const scales = get(chart.getOptions(), 'scales');\n              const nameFormatter = get(scales, ['name', 'formatter'], (v) => v);\n              const valueFormatter = get(scales, ['value', 'formatter'], (v) => v);\n              return {\n                ...item,\n                name: nameFormatter(item.data.name),\n                value: valueFormatter(item.data.value),\n              };\n            }),\n        },\n        tooltipOptions\n      );\n    }\n    chart.tooltip(tooltipOptions);\n  }\n\n  return params;\n}\n\n/**\n * , \n * @param params\n */\nfunction axis(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart } = params;\n  chart.axis(false);\n  return params;\n}\n\nfunction adaptorInteraction(options: CirclePackingOptions): CirclePackingOptions {\n  const { drilldown, interactions = [] } = options;\n\n  if (drilldown?.enabled) {\n    return deepAssign({}, options, {\n      interactions: [\n        ...interactions,\n        {\n          type: 'drill-down',\n          cfg: { drillDownConfig: drilldown, transformData, enableDrillDown: true },\n        },\n      ],\n    });\n  }\n  return options;\n}\n\n/**\n * \n * @param params\n * @returns\n */\nfunction interaction(params: Params<CirclePackingOptions>): Params<CirclePackingOptions> {\n  const { chart, options } = params;\n\n  baseInteraction({\n    chart,\n    options: adaptorInteraction(options),\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<CirclePackingOptions>) {\n  return flow(\n    pattern('pointStyle'),\n    defaultOptions,\n    padding,\n    theme,\n    meta,\n    geometry,\n    axis,\n    legend,\n    tooltip,\n    interaction,\n    animation,\n    annotation()\n  )(params);\n}\n","import { Types } from '@antv/g2';\nimport { pack } from '../../utils/hierarchy/pack';\nimport { deepAssign, pick } from '../../utils';\nimport { HIERARCHY_DATA_TRANSFORM_PARAMS } from '../../interactions/actions/drill-down';\nimport { resolveAllPadding } from '../../utils/padding';\nimport { CirclePackingOptions } from './types';\n\ninterface TransformDataOptions {\n  data: CirclePackingOptions['data'];\n  rawFields: CirclePackingOptions['rawFields'];\n  enableDrillDown: boolean;\n  hierarchyConfig: CirclePackingOptions['hierarchyConfig'];\n}\n\n/**\n * circle-packing \n * @param options\n */\nexport function transformData(options: TransformDataOptions) {\n  const { data, hierarchyConfig, rawFields = [], enableDrillDown } = options;\n\n  const nodes = pack(data, {\n    ...hierarchyConfig,\n    field: 'value',\n    as: ['x', 'y', 'r'],\n  });\n\n  const result = [];\n  nodes.forEach((node) => {\n    let path = node.data.name;\n    let ancestorNode = { ...node };\n    while (ancestorNode.depth > 1) {\n      path = `${ancestorNode.parent.data?.name} / ${path}`;\n      ancestorNode = ancestorNode.parent;\n    }\n\n    //  depth <= 2  ()\n    if (enableDrillDown && node.depth > 2) {\n      return null;\n    }\n\n    const nodeInfo = deepAssign({}, node.data, {\n      ...pick(node.data, rawFields),\n      path,\n      // : x, y, r, name, depth, height\n      ...node,\n    });\n\n    nodeInfo.ext = hierarchyConfig;\n    nodeInfo[HIERARCHY_DATA_TRANSFORM_PARAMS] = { hierarchyConfig, rawFields, enableDrillDown };\n\n    result.push(nodeInfo);\n  });\n\n  return result;\n}\n\n/**\n *  padding     finalPadding  finalSize\n * @param params\n */\nexport function resolvePaddingForCircle(\n  padding: Types.ViewPadding,\n  appendPadding: Types.ViewAppendPadding,\n  containerSize: { width: number; height: number }\n) {\n  const tempPadding = resolveAllPadding([padding, appendPadding]);\n  const [top, right, bottom, left] = tempPadding; //  [0, 0, 0, 0]\n  const { width, height } = containerSize;\n\n  //  tempPadding coordinate minSize = circle-packing\n  const wSize = width - (left + right);\n  const hSize = height - (top + bottom);\n  const minSize = Math.min(wSize, hSize); // circle-packing\n\n  //  padding\n  const restWidthPadding = (wSize - minSize) / 2;\n  const restHeightPadding = (hSize - minSize) / 2;\n\n  const finalTop = top + restHeightPadding;\n  const finalRight = right + restWidthPadding;\n  const finalBottom = bottom + restHeightPadding;\n  const finalLeft = left + restWidthPadding;\n\n  const finalPadding = [finalTop, finalRight, finalBottom, finalLeft];\n  const finalSize = minSize < 0 ? 0 : minSize; // \n\n  return { finalPadding, finalSize };\n}\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { getField, getAllNodes } from './util';\nimport { HierarchyOption } from './types';\n\ntype Options = Omit<HierarchyOption, 'as'> & { as?: [string, string, string] };\n\nconst DEFAULT_OPTIONS: Options = {\n  field: 'value',\n  as: ['x', 'y', 'r'],\n  // \n  sort: (a, b) => b.value - a.value,\n};\n\nexport function pack(data: any, options: Options): any[] {\n  options = assign({} as Options, DEFAULT_OPTIONS, options);\n  const as = options.as;\n  if (!isArray(as) || as.length !== 3) {\n    throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ \"x\", \"y\", \"r\" ])!');\n  }\n\n  let field;\n  try {\n    field = getField(options);\n  } catch (e) {\n    console.warn(e);\n  }\n\n  const packLayout = (data) =>\n    d3Hierarchy.pack().size(options.size).padding(options.padding)(\n      d3Hierarchy\n        .hierarchy(data)\n        .sum((d) => d[field])\n        .sort(options.sort)\n    );\n\n  const root = packLayout(data);\n\n  const x = as[0];\n  const y = as[1];\n  const r = as[2];\n  root.each((node) => {\n    node[x] = node.x;\n    node[y] = node.y;\n    node[r] = node.r;\n  });\n\n  return getAllNodes(root);\n}\n","/**  drill-down  */\nimport '../../../interactions/drill-down';\n","import { deepAssign } from '../utils';\nimport { Plot, PickOptions } from '../core/plot';\nimport { Adaptor } from '../core/adaptor';\n/**\n *  G2Plot  G2Plot \n * 1. \n * 2. \n * 3. \n * \n *\n * \n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nexport class P<O extends PickOptions> extends Plot<O> {\n  /**  any plot */\n  public readonly type = 'g2-plot';\n\n  /**  defaultOptions */\n  private defaultOptions: Partial<O>;\n\n  /**  adaptor  */\n  private adaptor: Adaptor<O>;\n\n  /**\n   *  adaptor \n   * @param container\n   * @param options\n   * @param adaptor\n   * @param defaultOptions\n   */\n  constructor(container: string | HTMLElement, options: O, adaptor: Adaptor<O>, defaultOptions?: Partial<O>) {\n    super(container, deepAssign({}, defaultOptions, options));\n\n    this.defaultOptions = defaultOptions;\n    this.adaptor = adaptor;\n  }\n\n  /**\n   * \n   */\n  protected getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  /**\n   * \n   */\n  protected getSchemaAdaptor(): Adaptor<O> {\n    return this.adaptor;\n  }\n}\n","import { each } from '@antv/util';\nimport { Geometry } from '@antv/g2';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { interaction, animation, theme, tooltip, annotation } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { Axis } from '../../types/axis';\nimport { Legend } from '../../types/legend';\nimport { Interaction } from '../../types/interaction';\nimport { MixOptions, IView, IGeometry } from './types';\nimport { execPlotAdaptor } from './utils';\n\n/**\n * geometry \n * @param params\n */\nfunction multiView(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { views, legend } = options;\n\n  each(views, (v: IView) => {\n    const { region, data, meta, axes, coordinate, interactions, annotations, tooltip, geometries } = v;\n\n    // 1.  view\n    const viewOfG2 = chart.createView({\n      region,\n    });\n\n    // 2. data\n    viewOfG2.data(data);\n\n    // 3. meta\n    let scales: Record<string, any> = {};\n    if (axes) {\n      each(axes, (axis: Axis, field: string) => {\n        scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n      });\n    }\n\n    scales = deepAssign({}, meta, scales);\n    viewOfG2.scale(scales);\n\n    // 4. x y axis\n    if (!axes) {\n      viewOfG2.axis(false);\n    } else {\n      each(axes, (axis: Axis, field: string) => {\n        viewOfG2.axis(field, axis);\n      });\n    }\n\n    // 5. coordinate\n    viewOfG2.coordinate(coordinate);\n\n    // 6. geometry\n    each(geometries, (geometry: IGeometry) => {\n      const { ext } = geometryAdaptor({\n        chart: viewOfG2,\n        options: geometry,\n      });\n\n      // adjust\n      const { adjust } = geometry;\n      if (adjust) {\n        ext.geometry.adjust(adjust);\n      }\n    });\n\n    // 7. interactions\n    each(interactions, (interaction: Interaction) => {\n      if (interaction.enable === false) {\n        viewOfG2.removeInteraction(interaction.type);\n      } else {\n        viewOfG2.interaction(interaction.type, interaction.cfg);\n      }\n    });\n\n    // 8. annotations\n    each(annotations, (annotation) => {\n      viewOfG2.annotation()[annotation.type]({\n        ...annotation,\n      });\n    });\n\n    // 9. animation ()\n    if (typeof v.animation === 'boolean') {\n      viewOfG2.animate(false);\n    } else {\n      viewOfG2.animate(true);\n      // 9.1  Geometry todo \n      each(viewOfG2.geometries, (g: Geometry) => {\n        g.animate(v.animation);\n      });\n    }\n\n    if (tooltip) {\n      // 10. tooltip\n      viewOfG2.interaction('tooltip');\n      viewOfG2.tooltip(tooltip);\n    }\n  });\n\n  // legend\n  if (!legend) {\n    chart.legend(false);\n  } else {\n    each(legend, (l: Legend, field: string) => {\n      chart.legend(field, l);\n    });\n  }\n\n  // tooltip\n  chart.tooltip(options.tooltip);\n  return params;\n}\n\n/**\n *  g2plot \n * @param params\n */\nfunction multiPlot(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n  const { plots, data = [] } = options;\n\n  each(plots, (plot) => {\n    const { type, region, options = {}, top } = plot;\n    const { tooltip } = options;\n\n    if (top) {\n      execPlotAdaptor(type, chart, { ...options, data });\n      return;\n    }\n\n    const viewOfG2 = chart.createView({ region, ...pick(options, PLOT_CONTAINER_OPTIONS) });\n    if (tooltip) {\n      //  tooltip \n      viewOfG2.interaction('tooltip');\n    }\n\n    execPlotAdaptor(type, viewOfG2, { data, ...options });\n  });\n\n  return params;\n}\n\n/**\n *  adaptor (mix)\n * @param params\n */\nexport function slider(params: Params<MixOptions>): Params<MixOptions> {\n  const { chart, options } = params;\n\n  chart.option('slider', options.slider);\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<MixOptions>) {\n  return flow(\n    animation, //  view \n    multiView,\n    multiPlot,\n    interaction,\n    animation,\n    theme,\n    tooltip,\n    slider,\n    annotation()\n    // ...  adaptor flow\n  )(params);\n}\n","/**\n *  view \n */\nimport './association';\n","import { each, get, map, isArray } from '@antv/util';\nimport { registerAction, registerInteraction, View, Element, Action } from '@antv/g2';\nimport { getAllElements, getViews, getSiblingViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n\ntype EventItem = { element: Element; view: View; active: boolean; inactive: boolean };\ntype ActionParams = { linkField?: string; dim?: 'x' | 'y' };\n/**\n *  view view \n *\n *  actionlinkField dim \n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n *  action\n * 1. hidetooltip\n * 2. reset \n */\nclass Association extends Action {\n  /**\n   *  elements\n   *\n   * -  dim  dim  field linkField  return\n   * -  dim  linkField \n   * -  linkField \n   * @returns EventItem[]\n   */\n  private getAssociationItems(views: View[], params?: ActionParams): EventItem[] {\n    const { event } = this.context;\n    const { linkField, dim } = params || {};\n\n    const items = [];\n\n    if (event.data?.data) {\n      const { data } = event.data;\n      each(views, (v: View) => {\n        let field = linkField;\n        if (dim === 'x') {\n          field = v.getXScale().field;\n        } else if (dim === 'y') {\n          field = v.getYScales().find((s) => s.field === field)?.field;\n        } else if (!field) {\n          field = v.getGroupScales()[0]?.field;\n        }\n        if (!field) {\n          return;\n        }\n        const elements = map(getAllElements(v), (ele) => {\n          let active = false;\n          let inactive = false;\n          const dataValue = isArray(data) ? get(data[0], field) : get(data, field);\n          if (getElementValue(ele, field) === dataValue) {\n            active = true;\n          } else {\n            inactive = true;\n          }\n          return { element: ele, view: v, active, inactive };\n        });\n        items.push(...elements);\n      });\n    }\n\n    return items;\n  }\n\n  /**\n   *  tooltip \n   */\n  public showTooltip(params?: ActionParams) {\n    const siblings = getSiblingViews(this.context.view);\n    const elements = this.getAssociationItems(siblings, params);\n\n    each(elements, (ele) => {\n      if (ele.active) {\n        const box = ele.element.shape.getCanvasBBox();\n        ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n      }\n    });\n  }\n\n  /**\n   *  tooltip\n   */\n  public hideTooltip() {\n    const siblings = getSiblingViews(this.context.view);\n    each(siblings, (sibling) => {\n      sibling.hideTooltip();\n    });\n  }\n\n  /**\n   *  active \n   */\n  public active(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('active', true);\n      }\n    });\n  }\n\n  /**\n   *  selected \n   */\n  public selected(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { active, element } = item;\n      if (active) {\n        element.setState('selected', true);\n      }\n    });\n  }\n\n  /**\n   *  =>  inactive \n   */\n  public highlight(params?: ActionParams) {\n    const views = getViews(this.context.view);\n    const items = this.getAssociationItems(views, params);\n\n    each(items, (item: EventItem) => {\n      const { inactive, element } = item;\n      if (inactive) {\n        element.setState('inactive', true);\n      }\n    });\n  }\n\n  public reset() {\n    const views = getViews(this.context.view);\n    each(views, (v) => {\n      clearHighlight(v);\n    });\n  }\n}\n\nregisterAction('association', Association);\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-active', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-selected', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  highlight ,  element\n */\nregisterInteraction('association-highlight', {\n  start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n\n/**\n *  view  tooltip  groupField  tooltip \n */\nregisterInteraction('association-tooltip', {\n  start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n  end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n","import { View, Element } from '@antv/g2';\nimport { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element: Element, field) {\n  const model = element.getModel();\n  const record = model.data;\n  let value;\n  if (isArray(record)) {\n    value = record[0][field];\n  } else {\n    value = record[field];\n  }\n  return value;\n}\n\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view: View) {\n  const elements = getAllElements(view);\n  each(elements, (el) => {\n    if (el.hasState('active')) {\n      el.setState('active', false);\n    }\n    if (el.hasState('selected')) {\n      el.setState('selected', false);\n    }\n    if (el.hasState('inactive')) {\n      el.setState('inactive', false);\n    }\n  });\n}\n","import { Plot } from '../../core/plot';\nimport { Adaptor } from '../../core/adaptor';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constant';\nimport { FacetOptions } from './types';\n\nexport type { FacetOptions };\n\nexport class Facet extends Plot<FacetOptions> {\n  /**\n   *   \n   * \n   */\n  static getDefaultOptions(): Partial<FacetOptions> {\n    return DEFAULT_OPTIONS;\n  }\n\n  /**  */\n  public type: string = 'area';\n\n  /**\n   *   \n   */\n  protected getDefaultOptions() {\n    return Facet.getDefaultOptions();\n  }\n\n  /**\n   *   \n   */\n  protected getSchemaAdaptor(): Adaptor<FacetOptions> {\n    return adaptor;\n  }\n}\n","import { each, omit } from '@antv/util';\nimport { theme } from '../../adaptor/common';\nimport { Params } from '../../core/adaptor';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, flow, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { execPlotAdaptor } from '../mix/utils';\nimport { FacetOptions, IPlot, IView } from './types';\nimport { execViewAdaptor } from './utils';\n\nfunction facetAdaptor(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { type: facetType, data, fields, eachView } = options;\n\n  const restFacetCfg = omit(options as any, [\n    'type',\n    'data',\n    'fields',\n    'eachView',\n    'axes',\n    'meta',\n    'tooltip',\n    'coordinate',\n    'theme',\n    'legend',\n    'interactions',\n    'annotations',\n  ]);\n\n  // 1. data\n  chart.data(data);\n\n  // 2. facet\n  chart.facet(facetType, {\n    ...restFacetCfg,\n    fields,\n    eachView: (viewOfG2, facet) => {\n      const viewOptions = eachView(viewOfG2, facet);\n      if ((viewOptions as IView).geometries) {\n        execViewAdaptor(viewOfG2, viewOptions as IView);\n      } else {\n        const plot = viewOptions as IPlot;\n        const plotOptions = plot.options;\n        // @ts-ignore  tooltip\n        if (plotOptions.tooltip) {\n          //  tooltip \n          viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(plot.type, viewOfG2, plotOptions);\n      }\n    },\n  });\n\n  return params;\n}\n\nfunction component(params: Params<FacetOptions>): Params<FacetOptions> {\n  const { chart, options } = params;\n  const { axes, meta, tooltip, coordinate, theme, legend, interactions, annotations } = options;\n\n  // 3. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  chart.scale(scales);\n\n  // 4. coordinate \n  chart.coordinate(coordinate);\n\n  // 5. axis  ()\n  if (!axes) {\n    chart.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      chart.axis(field, axis);\n    });\n  }\n\n  // 6. tooltip \n  if (tooltip) {\n    chart.interaction('tooltip');\n    chart.tooltip(tooltip);\n  } else if (tooltip === false) {\n    chart.removeInteraction('tooltip');\n  }\n\n  // 7. legend \n  chart.legend(legend);\n\n  // theme \n  if (theme) {\n    chart.theme(theme);\n  }\n\n  // 8. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      chart.removeInteraction(interaction.type);\n    } else {\n      chart.interaction(interaction.type, interaction.cfg);\n    }\n  });\n\n  // 9. annotations\n  each(annotations, (annotation) => {\n    chart.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  return params;\n}\n\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params: Params<FacetOptions>) {\n  // flow  G2 API\n  return flow(theme, facetAdaptor, component)(params);\n}\n","import { Geometry, View } from '@antv/g2';\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { pick, deepAssign } from '../../utils';\nimport { Axis, Interaction } from '../../types';\nimport { IView } from './types';\n\n/**\n *\n * @param params  \n * @returns facet eachView  view \n */\nexport function execViewAdaptor(viewOfG2: View, options: IView): void {\n  const { data, coordinate, interactions, annotations, animation, tooltip, axes, meta, geometries } = options;\n\n  // 1. data, optional\n  if (data) {\n    viewOfG2.data(data);\n  }\n\n  // 2. meta \n  let scales: Record<string, any> = {};\n  if (axes) {\n    each(axes, (axis: Axis, field: string) => {\n      scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n    });\n  }\n\n  scales = deepAssign({}, meta, scales);\n  viewOfG2.scale(scales);\n\n  // 3. coordinate  ()\n  if (coordinate) {\n    viewOfG2.coordinate(coordinate);\n  }\n\n  // 4. axis  ( false )\n  if (axes === false) {\n    viewOfG2.axis(false);\n  } else {\n    each(axes, (axis: Axis, field: string) => {\n      viewOfG2.axis(field, axis);\n    });\n  }\n\n  each(geometries, (geometry) => {\n    // Geometry\n    const { ext } = geometryAdaptor({\n      chart: viewOfG2,\n      options: geometry,\n    });\n\n    // Geometry adjust\n    const { adjust } = geometry;\n    if (adjust) {\n      ext.geometry.adjust(adjust);\n    }\n  });\n\n  // 5. interactions\n  each(interactions, (interaction: Interaction) => {\n    if (interaction.enable === false) {\n      viewOfG2.removeInteraction(interaction.type);\n    } else {\n      viewOfG2.interaction(interaction.type, interaction.cfg);\n    }\n  });\n  // 6. annotations\n  each(annotations, (annotation) => {\n    viewOfG2.annotation()[annotation.type]({\n      ...annotation,\n    });\n  });\n\n  // 7. animation ()\n  if (typeof animation === 'boolean') {\n    viewOfG2.animate(false);\n  } else {\n    viewOfG2.animate(true);\n    //  Geometry todo \n    each(viewOfG2.geometries, (g: Geometry) => {\n      g.animate(animation);\n    });\n  }\n\n  if (tooltip) {\n    // 8. tooltip\n    viewOfG2.interaction('tooltip');\n    viewOfG2.tooltip(tooltip);\n  } else if (tooltip === false) {\n    viewOfG2.removeInteraction('tooltip');\n  }\n}\n","/**\n *  \n */\nexport const DEFAULT_OPTIONS = {\n  title: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  rowTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n  columnTitle: {\n    style: {\n      fontSize: 12,\n      fill: 'rgba(0,0,0,0.65)',\n    },\n  },\n};\n","import { Mix } from './plots/mix';\n\n/**  */\nexport enum Stage {\n  DEV = 'DEV',\n  BETA = 'BETA',\n  STABLE = 'STABLE',\n}\n\n/**\n * \n * @param stage\n */\nexport function notice(stage: Stage, plotType: string) {\n  console.warn(\n    stage === Stage.DEV\n      ? `Plot '${plotType}' is in DEV stage, just give us issues.`\n      : stage === Stage.BETA\n      ? `Plot '${plotType}' is in BETA stage, DO NOT use it in production env.`\n      : stage === Stage.STABLE\n      ? `Plot '${plotType}' is in STABLE stage, import it by \"import { ${plotType} } from '@antv/g2plot'\".`\n      : 'invalid Stage type.'\n  );\n}\n\n/**\n * \n */\nexport class Lab {\n  static get MultiView() {\n    notice(Stage.STABLE, 'MultiView');\n    return Mix;\n  }\n}\n"],"sourceRoot":""}